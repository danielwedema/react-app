<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
    content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Pega - React SDK - Sample application</title>
  <link rel="stylesheet" type="text/css" href="/root.css">
  <script src="app.715fe785c770061d6806.bundle.js"></script>
</head>

<body>
  <noscript>
    <strong>The React SDK example does not work properly
      without JavaScript enabled. Please enable it to
      continue.</strong>
  </noscript>

  <div id="outlet"></div>
  <script>
    (async () => {
      const searchParams = new URL(window.location.href).searchParams;
      const assignmentID = searchParams.get('assignmentID');
      const pageID = searchParams.get('pageID');
      const className = searchParams.get('className');
      const caseTypeID = searchParams.get('caseTypeID');

      await window.pega.initPega({
        authConfig: {
          jwtUri: "http://localhost:3333/jwt",
          tokenUri: "http://localhost:3333/token"
        },
        serverConfig: {
          infinityRestServerUrl: "http://localhost:3333/prweb",
          sdkContentServerUrl: "http://localhost:3502/constellation/"
        }
      });
      await window.pega.initMashup(document.getElementById('outlet'));
      if (assignmentID) {
        await window.pega.continueCase(assignmentID);
      } else if (caseTypeID) {
        await window.pega.startCase(caseTypeID, {});
      } else if (pageID && className) {
        await window.pega.showPage(pageID, className);
      }
    })();
  </script>
</body>

</html>
/*! For license information please see constellation-core.76f4047b.js.LICENSE.txt */
var e={6:(e,t,n)=>{var r=n(560);Object.defineProperty(t,"reduxBatch",{enumerable:!0,get:function(){return r.reduxBatch}})},560:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduxBatch=function(e){var t=[],n=void 0;function r(){t===n&&(t=t.slice())}function o(e){if("function"!=typeof e)throw new Error("Invalid listener, expected a function");var n=!0;return r(),t.push(e),function(){n&&(r(),t.splice(t.indexOf(e),1),n=!1)}}function s(){for(var e=t,r=0;r<e.length;++r)n=e,e[r]()}return function(){var t=e.apply(void 0,arguments),n=!1,r=!1;function a(e){return Array.isArray(e)?e.map((function(e){return a(e)})):t.dispatch(e)}return t.subscribe((function(){r?n=!0:s()})),Object.assign({},t,{dispatch:function(e){var t=r;t||(n=!1,r=!0);var o=a(e),i=n&&!t;return t||(n=!1,r=!1),i&&s(),o},subscribe:o})}}},483:(e,t,n)=>{e.exports=n(6)},462:(e,t,n)=>{e.exports=n(604)},41:(e,t,n)=>{var r=n(227),o=n(1),s=n(419),a=n(242),i=n(328),c=n(539),l=n(282),u=n(649),p=n(33),d=n(675);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var I=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(E+":"+A)}var _=i(e.baseURL,e.url);function v(){if(I){var r="getAllResponseHeaders"in I?c(I.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?I.response:I.responseText,status:I.status,statusText:I.statusText,headers:r,config:e,request:I};o((function(e){t(e),m()}),(function(e){n(e),m()}),s),I=null}}if(I.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),I.timeout=e.timeout,"onloadend"in I?I.onloadend=v:I.onreadystatechange=function(){I&&4===I.readyState&&(0!==I.status||I.responseURL&&0===I.responseURL.indexOf("file:"))&&setTimeout(v)},I.onabort=function(){I&&(n(u("Request aborted",e,"ECONNABORTED",I)),I=null)},I.onerror=function(){n(u("Network Error",e,null,I)),I=null},I.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||l(_))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in I&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:I.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),y&&"json"!==y&&(I.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&I.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&I.upload&&I.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){I&&(n(!e||e&&e.type?new d("canceled"):e),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),I.send(f)}))}},604:(e,t,n)=>{var r=n(227),o=n(107),s=n(9),a=n(991),i=function e(t){var n=new s(t),i=o(s.prototype.request,n);return r.extend(i,s.prototype,n),r.extend(i,n),i.create=function(n){return e(a(t,n))},i}(n(33));i.Axios=s,i.Cancel=n(675),i.CancelToken=n(582),i.isCancel=n(494),i.VERSION=n(257).version,i.all=function(e){return Promise.all(e)},i.spread=n(547),i.isAxiosError=n(811),e.exports=i,e.exports.default=i},675:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},582:(e,t,n)=>{var r=n(675);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},494:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},9:(e,t,n)=>{var r=n(227),o=n(242),s=n(394),a=n(749),i=n(991),c=n(725),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=i(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var p=e;n.length;){var d=n.shift(),h=n.shift();try{p=d(p)}catch(e){h(e);break}}try{o=a(p)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},u.prototype.getUri=function(e){return e=i(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(i(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(i(r||{},{method:e,url:t,data:n}))}})),e.exports=u},394:(e,t,n)=>{var r=n(227);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},328:(e,t,n)=>{var r=n(823),o=n(751);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},649:(e,t,n)=>{var r=n(697);e.exports=function(e,t,n,o,s){var a=new Error(e);return r(a,t,n,o,s)}},749:(e,t,n)=>{var r=n(227),o=n(446),s=n(494),a=n(33),i=n(675);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},697:e=>{e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},991:(e,t,n)=>{var r=n(227);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||s,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},1:(e,t,n)=>{var r=n(649);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},446:(e,t,n)=>{var r=n(227),o=n(33);e.exports=function(e,t,n){var s=this||o;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},33:(e,t,n)=>{var r=n(227),o=n(200),s=n(697),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(41)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(i(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},257:e=>{e.exports={version:"0.24.0"}},107:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},242:(e,t,n)=>{var r=n(227);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),s=a.join("&")}if(s){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},751:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},419:(e,t,n)=>{var r=n(227);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,s,a){var i=[];i.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),r.isString(o)&&i.push("path="+o),r.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},823:e=>{e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},811:e=>{e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},282:(e,t,n)=>{var r=n(227);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},200:(e,t,n)=>{var r=n(227);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},539:(e,t,n)=>{var r=n(227),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,a={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},547:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},725:(e,t,n)=>{var r=n(257).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],a=t[s];if(a){var i=e[s],c=void 0===i||a(i,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:o}},227:(e,t,n)=>{var r=n(107),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function i(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return i(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},44:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;0!=o--;){var a=s[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},926:(e,t,n)=>{var r="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,i=s||a||Function("return this")();function c(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,s=-1;++s<o;)if(t(e[s],s,e))return s;return-1}(e,u);for(var r=-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t)>-1}function l(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function u(e){return e!=e}function p(e,t){return e.has(t)}var d,h=Array.prototype,f=Function.prototype,g=Object.prototype,y=i["__core-js_shared__"],m=(d=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",I=f.toString,E=g.hasOwnProperty,A=g.toString,_=RegExp("^"+I.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=i.Symbol,S=g.propertyIsEnumerable,b=h.splice,C=v?v.isConcatSpreadable:void 0,P=Math.max,T=j(i,"Map"),O=j(Object,"create");function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.__data__=new D;++t<n;)this.add(e[t])}function w(e,t){for(var n=e.length;n--;)if($(e[n][0],t))return n;return-1}function M(e,t,n,r,o){var s=-1,a=e.length;for(n||(n=U),o||(o=[]);++s<a;){var i=e[s];t>0&&n(i)?t>1?M(i,t-1,n,r,o):l(o,i):r||(o[o.length]=i)}return o}function L(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!H(e)||(t=e,m&&m in t))&&(W(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_:o).test(function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function U(e){return G(e)||function(e){return B(e)&&E.call(e,"callee")&&(!S.call(e,"callee")||"[object Arguments]"==A.call(e))}(e)||!!(C&&e&&e[C])}N.prototype.clear=function(){this.__data__=O?O(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(O){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return O?void 0!==t[e]:E.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=O&&void 0===t?r:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=w(t,e);return!(n<0||(n==t.length-1?t.pop():b.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=w(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return w(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=w(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new N,map:new(T||R),string:new N}},D.prototype.delete=function(e){return L(this,e).delete(e)},D.prototype.get=function(e){return L(this,e).get(e)},D.prototype.has=function(e){return L(this,e).has(e)},D.prototype.set=function(e,t){return L(this,e).set(e,t),this},x.prototype.add=x.prototype.push=function(e){return this.__data__.set(e,r),this},x.prototype.has=function(e){return this.__data__.has(e)};var k,V,F=(k=function(e,t){return B(e)?function(e,t,n,r){var o=-1,s=c,a=!0,i=e.length,l=[],u=t.length;if(!i)return l;t.length>=200&&(s=p,a=!1,t=new x(t));e:for(;++o<i;){var d=e[o],h=d;if(d=0!==d?d:0,a&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(d)}else s(t,h,undefined)||l.push(d)}return l}(e,M(t,1,B,!0)):[]},V=P(void 0===V?k.length-1:V,0),function(){for(var e=arguments,t=-1,n=P(e.length-V,0),r=Array(n);++t<n;)r[t]=e[V+t];t=-1;for(var o=Array(V+1);++t<V;)o[t]=e[t];return o[V]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(k,this,o)});function $(e,t){return e===t||e!=e&&t!=t}var G=Array.isArray;function B(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!W(e)}(e)}function W(e){var t=H(e)?A.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=F},855:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=Array.prototype,g=Function.prototype,y=Object.prototype,m=h["__core-js_shared__"],I=(r=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=g.toString,A=y.hasOwnProperty,_=y.toString,v=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h.Symbol,b=f.splice,C=M(h,"Map"),P=M(Object,"create"),T=S?S.prototype:void 0,O=T?T.toString:void 0;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e,t){for(var n=e.length;n--;)if(k(e[n][0],t))return n;return-1}function w(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function M(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!F(e)||(t=e,I&&I in t))&&(function(e){var t=F(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:u).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}N.prototype.clear=function(){this.__data__=P?P(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===o?void 0:n}return A.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:A.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?o:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():b.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return x(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=x(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new N,map:new(C||R),string:new N}},D.prototype.delete=function(e){return w(this,e).delete(e)},D.prototype.get=function(e){return w(this,e).get(e)},D.prototype.has=function(e){return w(this,e).has(e)},D.prototype.set=function(e,t){return w(this,e).set(e,t),this};var L=U((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if($(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function j(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(U.Cache||D),n}function k(e,t){return e===t||e!=e&&t!=t}U.Cache=D;var V=Array.isArray;function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=function(e,t){if(V(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return V(e)?e:L(e)}(t)).length;null!=e&&n<r;)e=e[j(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r}},845:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",i="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",y="[object Set]",m="[object String]",I="[object WeakMap]",E="[object ArrayBuffer]",A="[object DataView]",_=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[a]=S[E]=S[i]=S[A]=S[c]=S[l]=S[u]=S[p]=S[d]=S[h]=S[g]=S[y]=S[m]=S[I]=!1;var b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,P=b||C||Function("return this")(),T=t&&!t.nodeType&&t,O=T&&e&&!e.nodeType&&e,N=O&&O.exports===T,R=N&&b.process,D=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),x=D&&D.isTypedArray;function w(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,U,k,V=Array.prototype,F=Function.prototype,$=Object.prototype,G=P["__core-js_shared__"],B=F.toString,W=$.hasOwnProperty,H=(j=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",q=$.toString,Y=RegExp("^"+B.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=N?P.Buffer:void 0,K=P.Symbol,J=P.Uint8Array,X=$.propertyIsEnumerable,Q=V.splice,Z=K?K.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=z?z.isBuffer:void 0,ne=(U=Object.keys,k=Object,function(e){return U(k(e))}),re=Oe(P,"DataView"),oe=Oe(P,"Map"),se=Oe(P,"Promise"),ae=Oe(P,"Set"),ie=Oe(P,"WeakMap"),ce=Oe(Object,"create"),le=xe(re),ue=xe(oe),pe=xe(se),de=xe(ae),he=xe(ie),fe=K?K.prototype:void 0,ge=fe?fe.valueOf:void 0;function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ie;++t<n;)this.add(e[t])}function Ae(e){var t=this.__data__=new me(e);this.size=t.size}function _e(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}function ve(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=W.call(e,Z),n=e[Z];try{e[Z]=void 0;var r=!0}catch(e){}var o=q.call(e);return r&&(t?e[Z]=n:delete e[Z]),o}(e):function(e){return q.call(e)}(e)}function Se(e){return Fe(e)&&ve(e)==s}function be(e,t,n,r,o){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var f=Le(e),I=Le(t),_=f?a:Re(e),v=I?a:Re(t),S=(_=_==s?h:_)==h,b=(v=v==s?h:v)==h,C=_==v;if(C&&je(e)){if(!je(t))return!1;f=!0,S=!1}if(C&&!S)return u||(u=new Ae),f||$e(e)?Ce(e,t,n,r,o,u):function(e,t,n,r,o,s,a){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new J(e),new J(t)));case i:case c:case d:return we(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case p:var u=M;case y:var h=1&r;if(u||(u=L),e.size!=t.size&&!h)return!1;var f=a.get(e);if(f)return f==t;r|=2,a.set(e,t);var I=Ce(u(e),u(t),r,o,s,a);return a.delete(e),I;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,_,n,r,o,u);if(!(1&n)){var P=S&&W.call(e,"__wrapped__"),T=b&&W.call(t,"__wrapped__");if(P||T){var O=P?e.value():e,N=T?t.value():t;return u||(u=new Ae),o(O,N,n,r,u)}}return!!C&&(u||(u=new Ae),function(e,t,n,r,o,s){var a=1&n,i=Pe(e),c=i.length;if(c!=Pe(t).length&&!a)return!1;for(var l=c;l--;){var u=i[l];if(!(a?u in t:W.call(t,u)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);for(var h=a;++l<c;){var f=e[u=i[l]],g=t[u];if(r)var y=a?r(g,f,u,t,e,s):r(f,g,u,e,t,s);if(!(void 0===y?f===g||o(f,g,n,r,s):y)){d=!1;break}h||(h="constructor"==u)}if(d&&!h){var m=e.constructor,I=t.constructor;m==I||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof I&&I instanceof I||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,r,o,u))}(e,t,n,r,be,o))}function Ce(e,t,n,r,o,s){var a=1&n,i=e.length,c=t.length;if(i!=c&&!(a&&c>i))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var u=-1,p=!0,d=2&n?new Ee:void 0;for(s.set(e,t),s.set(t,e);++u<i;){var h=e[u],f=t[u];if(r)var g=a?r(f,h,u,t,e,s):r(h,f,u,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!w(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||o(h,e,n,r,s)))return d.push(t);var a}))){p=!1;break}}else if(h!==f&&!o(h,f,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Pe(e){return function(e,t,n){var r=t(e);return Le(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ge,Ne)}function Te(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ve(e)||function(e){return!!H&&H in e}(e))&&(Ue(e)?Y:_).test(xe(e))}(n)?n:void 0}ye.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:W.call(t,e)},ye.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,0))},me.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return _e(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(oe||me),string:new ye}},Ie.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},Ie.prototype.get=function(e){return Te(this,e).get(e)},Ie.prototype.has=function(e){return Te(this,e).has(e)},Ie.prototype.set=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,r),this},Ee.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new me,this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ie(r)}return n.set(e,t),this.size=n.size,this};var Ne=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a)&&(s[o++]=a)}return s}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Re=ve;function De(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}function xe(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function we(e,t){return e===t||e!=e&&t!=t}(re&&Re(new re(new ArrayBuffer(1)))!=A||oe&&Re(new oe)!=p||se&&Re(se.resolve())!=f||ae&&Re(new ae)!=y||ie&&Re(new ie)!=I)&&(Re=function(e){var t=ve(e),n=t==h?e.constructor:void 0,r=n?xe(n):"";if(r)switch(r){case le:return A;case ue:return p;case pe:return f;case de:return y;case he:return I}return t});var Me=Se(function(){return arguments}())?Se:function(e){return Fe(e)&&W.call(e,"callee")&&!X.call(e,"callee")},Le=Array.isArray,je=te||function(){return!1};function Ue(e){if(!Ve(e))return!1;var t=ve(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var $e=x?function(e){return function(t){return e(t)}}(x):function(e){return Fe(e)&&ke(e.length)&&!!S[ve(e)]};function Ge(e){return function(e){return null!=e&&ke(e.length)&&!Ue(e)}(e)?function(e,t){var n=Le(e),r=!n&&Me(e),o=!n&&!r&&je(e),s=!n&&!r&&!o&&$e(e),a=n||r||o||s,i=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=i.length;for(var l in e)!W.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||De(l,c))||i.push(l);return i}(e):function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}(e))return ne(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e,t){return be(e,t)}},565:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Function]",i="[object Object]",c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[s]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[a]=u["[object Map]"]=u["[object Number]"]=u[i]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var p,d,h,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,g="object"==typeof self&&self&&self.Object===Object&&self,y=f||g||Function("return this")(),m=t&&!t.nodeType&&t,I=m&&e&&!e.nodeType&&e,E=I&&I.exports===m,A=E&&f.process,_=function(){try{return I&&I.require&&I.require("util").types||A&&A.binding&&A.binding("util")}catch(e){}}(),v=_&&_.isTypedArray,S=Array.prototype,b=Function.prototype,C=Object.prototype,P=y["__core-js_shared__"],T=b.toString,O=C.hasOwnProperty,N=(p=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",R=C.toString,D=T.call(Object),x=RegExp("^"+T.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=E?y.Buffer:void 0,M=y.Symbol,L=y.Uint8Array,j=(w&&w.allocUnsafe,d=Object.getPrototypeOf,h=Object,function(e){return d(h(e))}),U=Object.create,k=C.propertyIsEnumerable,V=S.splice,F=M?M.toStringTag:void 0,$=function(){try{var e=ae(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=w?w.isBuffer:void 0,B=Math.max,W=Date.now,H=ae(y,"Map"),q=ae(Object,"create"),Y=function(){function e(){}return function(t){if(!Ie(t))return{};if(U)return U(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=this.__data__=new K(e);this.size=t.size}function Q(e,t,n){(void 0!==n&&!pe(e[t],n)||void 0===n&&!(t in e))&&te(e,t,n)}function Z(e,t,n){var r=e[t];O.call(e,t)&&pe(r,n)&&(void 0!==n||t in e)||te(e,t,n)}function ee(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function te(e,t,n){"__proto__"==t&&$?$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=O.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=R.call(e);return r&&(t?e[F]=n:delete e[F]),o}(e):function(e){return R.call(e)}(e)}function re(e){return Ee(e)&&ne(e)==s}function oe(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),s=n(e),a=s.length;a--;){var i=s[++r];if(!1===t(o[i],i))break}}(t,(function(s,a){if(o||(o=new X),Ie(s))!function(e,t,n,r,o,s,a){var c=le(e,n),l=le(t,n),u=a.get(l);if(u)Q(e,n,u);else{var p,d,h,f,g=s?s(c,l,n+"",e,t,a):void 0,y=void 0===g;if(y){var m=he(l),I=!m&&ge(l),E=!m&&!I&&Ae(l);g=l,m||I||E?he(c)?g=c:function(e){return Ee(e)&&fe(e)}(c)?g=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(c):I?(y=!1,g=function(e,t){return e.slice()}(l)):E?(y=!1,f=new(h=(p=l).buffer).constructor(h.byteLength),new L(f).set(new L(h)),d=f,g=new p.constructor(d,p.byteOffset,p.length)):g=[]:function(e){if(!Ee(e)||ne(e)!=i)return!1;var t=j(e);if(null===t)return!0;var n=O.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&T.call(n)==D}(l)||de(l)?(g=c,de(c)?g=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var i=t[s],c=void 0;void 0===c&&(c=e[i]),o?te(n,i,c):Z(n,i,c)}return n}(e,_e(e))}(c):Ie(c)&&!ye(c)||(g=function(e){return"function"!=typeof e.constructor||ce(e)?{}:Y(j(e))}(l))):y=!1}y&&(a.set(l,g),o(g,l,r,s,a),a.delete(l)),Q(e,n,g)}}(e,t,a,n,oe,r,o);else{var c=r?r(le(e,a),s,a+"",e,t,o):void 0;void 0===c&&(c=s),Q(e,a,c)}}),_e)}function se(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ie(e)||function(e){return!!N&&N in e}(e))&&(ye(e)?x:c).test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function ie(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&l.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function le(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}z.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},z.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0},z.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:O.call(t,e)},z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?r:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,n=ee(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},K.prototype.get=function(e){var t=this.__data__,n=ee(t,e);return n<0?void 0:t[n][1]},K.prototype.has=function(e){return ee(this.__data__,e)>-1},K.prototype.set=function(e,t){var n=this.__data__,r=ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(H||K),string:new z}},J.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return se(this,e).get(e)},J.prototype.has=function(e){return se(this,e).has(e)},J.prototype.set=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},X.prototype.clear=function(){this.__data__=new K,this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var n=this.__data__;if(n instanceof K){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var ue=function(e){var t=0,n=0;return function(){var r=W(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}($?function(e,t){return $(e,"toString",{configurable:!0,enumerable:!1,value:be(t),writable:!0})}:Ce);function pe(e,t){return e===t||e!=e&&t!=t}var de=re(function(){return arguments}())?re:function(e){return Ee(e)&&O.call(e,"callee")&&!k.call(e,"callee")},he=Array.isArray;function fe(e){return null!=e&&me(e.length)&&!ye(e)}var ge=G||function(){return!1};function ye(e){if(!Ie(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ee(e){return null!=e&&"object"==typeof e}var Ae=v?function(e){return function(t){return e(t)}}(v):function(e){return Ee(e)&&me(e.length)&&!!u[ne(e)]};function _e(e){return fe(e)?function(e,t){var n=he(e),r=!n&&de(e),o=!n&&!r&&ge(e),s=!n&&!r&&!o&&Ae(e),a=n||r||o||s,i=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=i.length;for(var l in e)a&&("length"==l||o&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ie(l,c))||i.push(l);return i}(e):function(e){if(!Ie(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ce(e),n=[];for(var r in e)("constructor"!=r||!t&&O.call(e,r))&&n.push(r);return n}(e)}var ve,Se=(ve=function(e,t,n,r){oe(e,t,n,r)},function(e,t){return ue(function(e,t,n){return t=B(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=B(r.length-t,0),a=Array(s);++o<s;)a[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,i)}}(e,void 0,Ce),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,s=r>2?t[2]:void 0;for(o=ve.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(e,t,n){if(!Ie(n))return!1;var r=typeof t;return!!("number"==r?fe(n)&&ie(t,n.length):"string"==r&&t in n)&&pe(n[t],e)}(t[0],t[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&ve(e,a,n,o)}return e})));function be(e){return function(){return e}}function Ce(e){return e}e.exports=Se},634:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),g=Array.prototype,y=Function.prototype,m=Object.prototype,I=f["__core-js_shared__"],E=(r=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",A=y.toString,_=m.hasOwnProperty,v=m.toString,S=RegExp("^"+A.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=f.Symbol,C=g.splice,P=j(f,"Map"),T=j(Object,"create"),O=b?b.prototype:void 0,N=O?O.toString:void 0;function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e,t,n){var r=e[t];_.call(e,t)&&$(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function M(e,t){for(var n=e.length;n--;)if($(e[n][0],t))return n;return-1}function L(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!B(e)||(t=e,E&&E in t))&&(function(e){var t=B(e)?v.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:u).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function U(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}R.prototype.clear=function(){this.__data__=T?T(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(T){var n=t[e];return n===o?void 0:n}return _.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:_.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?o:t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0||(n==t.length-1?t.pop():C.call(t,n,1),0))},D.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return M(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new R,map:new(P||D),string:new R}},x.prototype.delete=function(e){return L(this,e).delete(e)},x.prototype.get=function(e){return L(this,e).get(e)},x.prototype.has=function(e){return L(this,e).has(e)},x.prototype.set=function(e,t){return L(this,e).set(e,t),this};var k=F((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(W(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function V(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(F.Cache||x),n}function $(e,t){return e===t||e!=e&&t!=t}F.Cache=x;var G=Array.isArray;function B(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}e.exports=function(e,t,n){return null==e?e:function(e,t,n,r){if(!B(e))return e;for(var o=-1,i=(t=function(e,t){if(G(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!W(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return G(e)?e:k(e)}(t)).length,c=i-1,l=e;null!=l&&++o<i;){var u=V(t[o]),p=n;if(o!=c){var d=l[u];void 0===(p=void 0)&&(p=B(d)?d:U(t[o+1])?[]:{})}w(l,u,p),l=l[u]}return e}(e,t,n)}},786:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=Array.prototype,g=Function.prototype,y=Object.prototype,m=h["__core-js_shared__"],I=(r=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=g.toString,A=y.hasOwnProperty,_=y.toString,v=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h.Symbol,b=f.splice,C=L(h,"Map"),P=L(Object,"create"),T=S?S.prototype:void 0,O=T?T.toString:void 0;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1}function w(e){return $(e)?e:U(e)}function M(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function L(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!G(e)||(t=e,I&&I in t))&&(function(e){var t=G(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:u).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function j(e,t){if($(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}N.prototype.clear=function(){this.__data__=P?P(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===o?void 0:n}return A.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:A.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?o:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():b.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return x(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=x(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new N,map:new(C||R),string:new N}},D.prototype.delete=function(e){return M(this,e).delete(e)},D.prototype.get=function(e){return M(this,e).get(e)},D.prototype.has=function(e){return M(this,e).has(e)},D.prototype.set=function(e,t){return M(this,e).set(e,t),this};var U=V((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(B(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function k(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(V.Cache||D),n}function F(e,t){return e===t||e!=e&&t!=t}V.Cache=D;var $=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function B(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=j(t,e)?[t]:w(t)).length;null!=e&&n<r;)e=e[k(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}(t,0,-1))}(e,t=j(t,e)?[t]:w(t));var n,r,o=k((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&A.call(e,o))||delete e[o]}(e,t)}},276:e=>{function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n{constructor(e,t,n,r,o){this.converter=l(),this.width=e,this.poly=t,this.xor_in=n,this.reflected_xor_in=u(n,e),this.xor_out=r,this.reflect=o,this.msb_mask=1<<this.width-1,this.mask=this.msb_mask-1<<1|1,this.crc_shift=this.width<8?8-this.width:0,this.shifted_xor_in=this.xor_in<<this.crc_shift;let s=this.gen_table();this.table=s,8!==this.width||this.xor_in||this.xor_out||this.reflect||(this.calculate=function(e){e=this.converter.validate_buffer(e);let t=0;for(let n=0;n<e.length;n++)t=s[t^e[n]];return t})}calculate(e){let t;e=this.converter.validate_buffer(e);let{table:n,width:r,crc_shift:o,mask:s}=this;if(this.reflect){t=this.reflected_xor_in;for(let r=0;r<e.length;r++)t=(n[255&(t^e[r])]^t>>>8)&s}else{t=this.shifted_xor_in;for(let a=0;a<e.length;a++)t=n[255&(t>>r-8+o^e[a])]<<o^t<<8-o&s<<o;t>>=o}return t^=this.xor_out,t>>>0}calculate_no_table(e){e=this.converter.validate_buffer(e);let t=this.xor_in;for(let n=0;n<e.length;n++){let r=e[n];this.reflect&&(r=u(r,8));for(let e=0;e<8;e++){let n=t&this.msb_mask;r&128>>e&&(n^=this.msb_mask),t<<=1,n&&(t^=this.poly)}t&=this.mask}return this.reflect&&(t=u(t,this.width)),t^=this.xor_out,t>>>0}gen_table(){let e=[];for(let t=0;t<256;t++){let n=t;this.reflect&&(n=u(n,8)),n<<=this.width-8+this.crc_shift;for(let e=0;e<8;e++)0!=(n&this.msb_mask<<this.crc_shift)?(n<<=1,n^=this.poly<<this.crc_shift):n<<=1;this.reflect&&(n=u(n>>this.crc_shift,this.width)<<this.crc_shift),n=n>>this.crc_shift&this.mask,e[t]=n>>>0}return new Int32Array(e)}print_table(){let e=this.table,t=Math.ceil(this.width/4),n=t<4?4:3,r=e.length>>n,o=1<<n,s="";for(let a=0;a<r;a++){let r="";for(let s=0;s<o;s++){let o=e[a<<n|s];o="000000000"+o.toString(16),o=o.substr(o.length-t),r+="0x"+o+", "}s+="  "+r+"\n"}return s="[\n"+s.slice(0,-3)+"\n]",s}}const r="undefined"!=typeof Buffer,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,s=void 0!==typeof BigInt&&BigInt(256);class a{validate_buffer(e){switch(typeof e){case"number":{if(!Number.isSafeInteger(e)||e<0)throw Error(`number data must be a nonnegative safe integer, not ${e}`);if(this.fromUInt32&&e<=4294967295)return this.fromUInt32(e);const t=[];for(;e>0||t.length<4;)t.unshift(e%256),e=Math.floor(e/256);return this.fromByteArray(t)}case"string":return this.fromString(e);case"bigint":{if(e<0)throw Error(`bigint data must be nonnegative, not ${e}`);const t=[];for(;e>0||t.length<4;)t.unshift(Number(e%s)),e/=s;return this.fromByteArray(t)}default:if(r&&Buffer.isBuffer(e))return e;if(o){if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new Uint8Array(e)}throw new Error(`Unrecognized data type ${typeof e}: ${e}`)}}}class i extends a{constructor(...e){super(...e),t(this,"fromByteArray",Buffer.from.bind(Buffer)),t(this,"fromString",Buffer.from.bind(Buffer))}fromUInt32(e){const t=Buffer.alloc(4);return t.writeUInt32BE(e),t}}class c extends a{constructor(...e){super(...e),t(this,"fromByteArray",Uint8Array.from.bind(Uint8Array))}fromString(e){return new TextEncoder("utf-8").encode(e)}}function l(e=!1){if(o&&(e||!r))return new c;if(r)return new i;throw Error("either need TypedArrays or Buffer")}function u(e,t){let n=0;for(let r=0;r<t;r++)n=n<<1|1&e,e>>=1;return n}const p={crc1:new n(1,1,0,0,!1),crc6:new n(6,47,0,0,!1),crc8:new n(8,7,0,0,!1),crc10:new n(10,563,0,0,!1),crc16:new n(16,32773,0,0,!0),crc24:new n(24,8801531,11994318,0,!1),crc32:new n(32,79764919,4294967295,4294967295,!0),crc32c:new n(32,517762881,4294967295,4294967295,!0)};function d(e){}e.exports={CRC:n,crc:function(e,t,r,o,s){let a=new n(e,t,r,o,s);return a.calculate.bind(a)},makeBufferConverter:l,models:p,crc1:d,crc6:d,crc8:d,crc10:d,crc16:d,crc24:d,crc32:d,crc32c:d};for(let t in p){let n=p[t];e.exports[t]=n.calculate.bind(n)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{n.d(r,{v9:()=>xl,DP:()=>Wd,RE:()=>Bd,WM:()=>_d,gm:()=>Jd,Yw:()=>Pd,e6:()=>Nd,sd:()=>Od,No:()=>Kd,DF:()=>bd,FC:()=>vd,kU:()=>kd,LF:()=>Sd,vg:()=>Cd,jK:()=>Td,Dw:()=>Vd,x0:()=>Ld,HW:()=>jd,N2:()=>Xd,yC:()=>xd,gn:()=>Gd,JP:()=>Fd,fV:()=>Md,Hk:()=>$d,K5:()=>Hd,P6:()=>Ud,r_:()=>zd,r7:()=>Yd,V5:()=>qd,d0:()=>wd,JR:()=>Rd});var e={};n.r(e),n.d(e,{getDataPageMetadata:()=>hn,getFieldParameters:()=>mn,getFieldsByClassName:()=>yn,getInsight:()=>gn,getPersonalizationMetadata:()=>fn,getPropertyMetadata:()=>an,mergeStore:()=>sn,resolveNavigation:()=>dn,resolveView:()=>pn,updateNavigationStore:()=>ln,updateStores:()=>un,updateViewStore:()=>cn});var t={};n.r(t),n.d(t,{EVENTS_MAP:()=>rr,blurHandler:()=>Jn,buildActionObject:()=>Hn,changeHandler:()=>Kn,clearQueue:()=>tr,eventHandler:()=>Xn,getActionHanlders:()=>Gn,getActionsQueue:()=>nr,getFullRef:()=>zn,isEditable:()=>Bn,isNonKeyInput:()=>Wn,isQueueEmpty:()=>er,pause:()=>Qn,resume:()=>Zn});var o={};n.r(o),n.d(o,{buildContextName:()=>dr,buildModalContext:()=>yr,buildTransientContextName:()=>hr,getContainerIdFromContext:()=>Ir,getParentContext:()=>mr,getParentContextName:()=>pr,getTargetFromContext:()=>gr,getTransientContext:()=>fr});var s={};n.r(s),n.d(s,{getResolvedTargetName:()=>Dr,getRoutingInfo:()=>xr});var a={};n.r(a),n.d(a,{publishExpressions:()=>_o,publishResponse:()=>vo});var i={};n.r(i),n.d(i,{CONTAINER_NAMES:()=>Ts,CONTAINER_TYPES:()=>Ps,addRootContainerItem:()=>na,areContainerItemsPresent:()=>ws,clearTransientData:()=>aa,closeContainerItem:()=>ta,getActiveContainerItemContext:()=>$s,getActiveContainerItemName:()=>ks,getChildContainerItems:()=>Gs,getChildContainers:()=>Bs,getChildContainersContexts:()=>Ws,getContainerAPI:()=>la,getContainerAccessOrder:()=>xs,getContainerData:()=>Ns,getContainerItemData:()=>Rs,getContainerItemName:()=>Ls,getContainerItems:()=>Ds,getContainerLimit:()=>zs,getContainerType:()=>Us,getDataContextName:()=>Fs,getLeastRecentlyUsedNonDirtyContainerItemID:()=>Zs,getTargetFromContainerItemID:()=>ea,getTransientItems:()=>sa,hasContainerItems:()=>Ys,isContainerDirty:()=>Qs,isContainerInitialized:()=>js,isContainerItemActive:()=>Vs,isContainerItemContextBeingUsedInOtherContainers:()=>oa,isContainerItemExists:()=>Ms,isContainerLimitReached:()=>Js,isContainerMultipleMode:()=>qs,isContainerSingleMode:()=>Hs,purgeTransientData:()=>ia,removeContainer:()=>ua,resetContainersPayload:()=>Xs,setContainerLimit:()=>Ks,updateChildContainersEtag:()=>pa});var c={};n.r(c),n.d(c,{activateContainerItem:()=>Ra,addContainerItem:()=>Sa,addMessages:()=>Da,addSharedData:()=>$a,addTransientItem:()=>ba,addWork:()=>Ea,clearTransientData:()=>Pa,createWork:()=>ha,error:()=>Fa,finishAssignment:()=>ja,initContainers:()=>_a,listAction:()=>Ba,loadView:()=>ma,mergeData:()=>ga,openAssignment:()=>Ua,openWorkByHandle:()=>Aa,postProcess:()=>Va,purgeTransientData:()=>Ta,removeAllTransientItems:()=>wa,removeContainerItem:()=>xa,removeSharedData:()=>Ga,removeTransientItem:()=>Ma,replaceContainerItem:()=>La,resetContainers:()=>va,showCasePreview:()=>Wa,showHarness:()=>ya,showHistory:()=>ka,showPage:()=>Ia,upMergeAndRemoveContainerItem:()=>Na,updateContainerItem:()=>Oa,updateTransientData:()=>Ca});var l={};n.r(l),n.d(l,{dispatch:()=>ui,getActionType:()=>mi,getContextValue:()=>gi,getDataObject:()=>pi,getReferenceTokens:()=>ii,getSharedDataObject:()=>di,getStore:()=>li,getValue:()=>fi,isMergeable:()=>Ei,lookupContextValue:()=>yi,mergeDeep:()=>Ai,removeItem:()=>Ii,replaceValue:()=>vi,setStore:()=>ci,updateValue:()=>_i});var u={};n.r(u),n.d(u,{doesRestApiExist:()=>Ki,getCancelTokenSource:()=>Ji,invokeRestApi:()=>zi,isRequestCanceled:()=>Xi,registerInterceptor:()=>Qi});var p={};function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(p),n.d(p,{fetchViewResources:()=>ic,updateViewResources:()=>ac});var y="function"==typeof Symbol&&Symbol.observable||"@@observable",m=function(){return Math.random().toString(36).substring(7).split("").join(".")},I={INIT:"@@redux/INIT"+m(),REPLACE:"@@redux/REPLACE"+m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+m()}};function E(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(g(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(g(1));return n(E)(e,t)}if("function"!=typeof e)throw new Error(g(2));var o=e,s=t,a=[],i=a,c=!1;function l(){i===a&&(i=a.slice())}function u(){if(c)throw new Error(g(3));return s}function p(e){if("function"!=typeof e)throw new Error(g(4));if(c)throw new Error(g(5));var t=!0;return l(),i.push(e),function(){if(t){if(c)throw new Error(g(6));t=!1,l();var n=i.indexOf(e);i.splice(n,1),a=null}}}function d(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(g(7));if(void 0===e.type)throw new Error(g(8));if(c)throw new Error(g(9));try{c=!0,s=o(s,e)}finally{c=!1}for(var t=a=i,n=0;n<t.length;n++)(0,t[n])();return e}return d({type:I.INIT}),(r={dispatch:d,subscribe:p,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(g(10));o=e,d({type:I.REPLACE})}})[y]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(g(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[y]=function(){return this},e},r}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var _=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function v(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var S=Array.isArray||function(e){return e&&"number"==typeof e.length};function b(e){return null!==e&&"object"==typeof e}function C(e){return"function"==typeof e}var P=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),T=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,s=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i)r[i].remove(this);if(C(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){t=e instanceof P?O(e.errors):[e]}}if(S(a)){i=-1;for(var c=a.length;++i<c;){var l=a[i];if(b(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof P?t=t.concat(O(e.errors)):t.push(e)}}}if(t)throw new P(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function O(e){return e.reduce((function(e,t){return e.concat(t instanceof P?t.errors:t)}),[])}var N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return v(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return v(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(T)),R=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return v(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(N),D=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),x=function(e){function t(n,r){void 0===r&&(r=D.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return v(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(D),w=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(x))(R),M=!1,L={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,M=e},get useDeprecatedSynchronousErrorHandling(){return M}};function j(e){setTimeout((function(){throw e}),0)}var U={closed:!0,next:function(e){},error:function(e){if(L.useDeprecatedSynchronousErrorHandling)throw e;j(e)},complete:function(){}},k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),V=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=U;break;case 1:if(!n){s.destination=U;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new F(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new F(s,n,r,o)}return s}return v(t,e),t.prototype[k]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(T),F=function(e){function t(t,n,r,o){var s,a=e.call(this)||this;a._parentSubscriber=t;var i=a;return C(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==U&&(C((i=Object.create(n)).unsubscribe)&&a.add(i.unsubscribe.bind(i)),i.unsubscribe=a.unsubscribe.bind(a))),a._context=i,a._next=s,a._error=r,a._complete=o,a}return v(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;L.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=L.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):j(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;j(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};L.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),L.useDeprecatedSynchronousErrorHandling)throw e;j(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!L.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return L.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(j(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(V),$="function"==typeof Symbol&&Symbol.observable||"@@observable";function G(e){return e}var B=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof V)return e;if(e[k])return e[k]()}return e||t||n?new V(e,t,n):new V(U)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||L.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),L.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){L.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof V?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=W(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[$]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:function(e){return 0===e.length?G:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=W(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function W(e){if(e||(e=L.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var H=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),q=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return v(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(T),Y=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return v(t,e),t}(V),z=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return v(t,e),t.prototype[k]=function(){return new Y(this)},t.prototype.lift=function(e){var t=new K(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new H;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new H;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new H;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new H;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new H;return this.hasError?(e.error(this.thrownError),T.EMPTY):this.isStopped?(e.complete(),T.EMPTY):(this.observers.push(e),new q(this,e))},t.prototype.asObservable=function(){var e=new B;return e.source=this,e},t.create=function(e,t){return new K(e,t)},t}(B),K=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return v(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):T.EMPTY},t}(z),J=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Q=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Z(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ee=function(e){if(e&&"function"==typeof e[$])return r=e,function(e){var t=r[$]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Q(e))return J(e);if(Z(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,j),e};if(e&&"function"==typeof e[X])return t=e,function(e){for(var n=t[X]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=b(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function te(e,t){return new B((function(n){var r=new T,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function ne(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[$]}(e))return function(e,t){return new B((function(n){var r=new T;return r.add(t.schedule((function(){var o=e[$]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Z(e))return function(e,t){return new B((function(n){var r=new T;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Q(e))return te(e,t);if(function(e){return e&&"function"==typeof e[X]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new B((function(n){var r,o=new T;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[X](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof B?e:new B(ee(e))}var re,oe=new B((function(e){return e.complete()}));function se(e){return e?function(e){return new B((function(t){return e.schedule((function(){return t.complete()}))}))}(e):oe}function ae(e){return e&&"function"==typeof e.schedule}function ie(e,t){return t?te(e,t):new B(J(e))}function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return ae(n)?(e.pop(),te(e,n)):ie(e)}re||(re={});var le=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e;switch(this.kind){case"N":return ce(this.value);case"E":return e=this.error,new B((function(t){return t.error(e)}));case"C":return se()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function ue(e,t){return void 0===t&&(t=0),function(n){return n.lift(new pe(e,t))}}var pe=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.scheduler,this.delay))},e}(),de=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return v(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new he(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(le.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(le.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(le.createComplete()),this.unsubscribe()},t}(V),he=function(e,t){this.notification=e,this.destination=t};function fe(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ge(e,t))}}var ge=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.project,this.thisArg))},e}(),ye=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return v(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(V),me=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return v(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(V),Ie=(function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o}v(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(V),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(V));function Ee(e,t){if(!t.closed){if(e instanceof B)return e.subscribe(t);var n;try{n=ee(e)(t)}catch(e){t.error(e)}return n}}function Ae(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Ae((function(n,r){return ne(e(n,r)).pipe(fe((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new _e(e,n))})}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}v(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(V);var _e=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new ve(e,this.project,this.concurrent))},e}(),ve=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return v(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new me(this),n=this.destination;n.add(t);var r=Ee(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Ie),Se=1,be=Promise.resolve(),Ce={};function Pe(e){return e in Ce&&(delete Ce[e],!0)}var Te=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return v(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=Se++;return Ce[t]=!0,be.then((function(){return Pe(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(function(e){Pe(e)}(n),t.scheduled=void 0)},t}(N),Oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(x))(Te);function Ne(e){return!S(e)&&e-parseFloat(e)+1>=0}var Re=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Oe);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!Ne(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=Oe),o}return v(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=Oe),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(B),De=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new Re(t,this.delay,this.scheduler).subscribe(e)},e}(),xe=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new we(e,this.predicate,this.thisArg))},e}(),we=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return v(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(V),Me=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},Le=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(function(e,t){return function(t){return t.lift(new xe(e,undefined))}}((function(e){var n=e.type,r=t.length;if(1===r)return Me(n,t[0]);for(var o=0;o<r;o++)if(Me(n,t[o]))return!0;return!1})))}},je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),je(t,null,[{key:"of",value:function(){return new this(ce.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(ne(e,t))}}]),je(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){return Le.apply(void 0,arguments)(this)}}]),t}(B),ke=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(function(e){var t=r.__notifier.subscribe(e);return t&&!t.closed&&e.next(r.value),t})));return r.value=n,r.__notifier=new z,r.__subscription=e.subscribe((function(e){e!==r.value&&(r.value=e,r.__notifier.next(e))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(B),Ve=n(483),Fe=n(845),$e=n.n(Fe),Ge=n(565),Be=n.n(Ge),We=n(276),He=n(786),qe=n.n(He),Ye=n(855),ze=n.n(Ye),Ke=n(634),Je=n.n(Ke);function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe={"\r":"\\r","\n":"\\n","\v":"\\v",'"':'\\"',"\\":"\\\\","\t":"\\t","\f":"\\f"};class Ze{static mergeDeep(e,t){return Be()(t,e)}static getIn(e,t,n){return ze()(e,t,n)}static setIn(e,t,n){return Je()(e,t,n)}static deleteIn(e,t){return qe()(e,t)}static isObjectEmpty(e){return!e||0===Object.entries(e).length}static deepClone(e){return JSON.parse(JSON.stringify(e))}static copy(e,t){Object.keys(e).forEach((n=>{t[n]=e[n]}))}static isPropertyRef(e){if(!e||-1===e.indexOf("."))return!1;let t=0;const n=e.length;for(;t<n;t+=1)if(-1!==" @#$%=!<>/\\".indexOf(e[t]))return!1;return!0}static isWhenExist(e){const t=["visibility","disabled","readOnly","required"];let n=!1;for(const o in e){var r;t.includes(o)&&"string"==typeof e[o]&&null!==(r=e[o])&&void 0!==r&&r.startsWith("@W ")&&(n=!0)}return n}static isExpressionExist(e){const t=["disabled","visibility","readOnly","required"];let n=!1;for(const o in e){var r;t.includes(o)&&"string"==typeof e[o]&&null!==(r=e[o])&&void 0!==r&&r.startsWith("@E ")&&(n=!0)}return n}static buildDataObject(e,t){let n={};const r=n;return t.indexOf(".")>0?t.split(".").forEach((e=>{if(-1!==e.indexOf("[")){const[t]=e.split("[");n[t]=[],n=n[t],e=e.substring(e.indexOf("[")+1,e.lastIndexOf("]"))}n[e]={},n=n[e]})):(n[t]={},n=n[t]),Object.keys(e).forEach((t=>{let r=t;t.startsWith(".")&&(r=t.substring(1)),n[r]=e[t]})),r}static getHashedString(e){return(0,We.crc32)(e).toString(16)}static getPropertyName(e){if(e){const t=e.startsWith("@P"),n=t?e.indexOf(" "):-1;return t?e.substring(n+2):e}return e}static unflatten(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=n.split(".");r.reduce(((t,o,s)=>t[o]||(t[o]=isNaN(Number(r[s+1]))?r.length-1===s?e[n]:{}:[])),t)}return t}static isValidJson(e){try{return JSON.parse(e)}catch(e){return console.error("not a Valid JSON",e),!1}}static isEqual(e,t){return $e()(e,t)}static getFullPropertyReference(e){return Array.isArray(e)?e.filter((e=>!!e)).join("."):null}static iterateLeafNodes(e,t){const n=(e,r=[])=>{Object.entries(e).forEach((([o,s])=>{r.push(Array.isArray(e)?Number(o):o),Array.isArray(s)?(s.forEach(((e,t)=>{t>0&&r.pop(),r.push(t),n(e,r)})),r.pop()):"object"==typeof s?n(s,r):t(r.slice(),s),r.pop()}))};n(e)}static resolveStringBooleans(e){const t=["required","readOnly","visibility"];return Object.keys(e).forEach((n=>{t.includes(n)&&"string"==typeof e[n]&&(e[n]="true"===e[n])})),e}}Xe(Ze,"buildObject",((e,t,n)=>{const r=e.split(".");let o=0;for(;o<r.length-1;o+=1){const e=r[o];null!=e&&e.toString().length&&!t[e]&&(t[e]={}),t[e]&&(t=t[e])}t[r[o]]=n})),Xe(Ze,"escapeObject",(e=>{for(const t in e)"object"==typeof e[t]?(e[t]=Array.isArray(e[t])?[...e[t]]:{...e[t]},Ze.escapeObject(e[t])):e[t]="string"==typeof e[t]?e[t].replace(/\n|\r|\v|"|\\|\t|\f/g,(e=>Qe[e])):e[t]}));const et=Ze,tt={APP:{APP:"app",ROOT:"root",PXREQUESTOR:"pxRequestor",PXUSERNAME:".pxUserName",OPERATORID:"OperatorID",USERNAME:"pxRequestor.pxUserName",PXUSERIDENTIFIER:".pxUserIdentifier",USERIDENTIFIER:"pxRequestor.pxUserIdentifier",PYIMAGEINSKEY:".pyImageInsKey",OPERATORID_IMG_INSKEY:"OperatorID.pyImageInsKey",OPERATORID_LOCALE:"OperatorID.pyUseLocale",APPLICATION_LABEL:"Application.pyLabel",APPLICATION_RULE_NAME:"Application.pyRuleName"},RESOURCE_TYPES:{ASSIGNMENT:"ASSIGNMENT",CASE:"CASE",DATA:"DATA",PAGE:"PAGE"},VIEW_NAMES:{PY_CASE_TAB:"pyCaseTab"},WORK_BASKET:{MY_WORK_LIST:"myWorkList",REPORTEE:"reportee",WORK_QUEUE:"workQueue",DATA_PAGES:{D__PY_GET_USER_WORK_LIST_BY_USER_ID:"D_pyGetUserWorkListByUserId",D__WORK_BASKET:"D_WorkBasket",D__PY_MY_WORK_LIST:"D_pyMyWorkList"}},WORKLIST:"worklist",TODO:"todo",CASE:"CASE",ASSIGNMENT:"ASSIGNMENT",PAGE:"PAGE",PZINSKEY:".pzInsKey",CREATE_DETAILS_VIEW_NAME:"pzCreateDetails",PREVIEW_VIEW_NAME:"pyCasePreview",APPSHELL_ACTIVE_CASES:"appshell-activecases",NEXT_ASSIGNMENT_INFO_ID:"nextAssignmentInfo.ID",WORKCLASS:"Work-",CASE_INFO:{CASE_INFO:"caseInfo",CASE_INFO_CONTENT:"caseInfo.content",CASE_INFO_NAME:"caseInfo.name",CASE_INFO_ID:"caseInfo.ID",CASE_INFO_CLASSID:"caseInfo.content.classID",CASE_TYPE_ID:"caseInfo.caseTypeID",CASE_TYPE_NAME:"caseInfo.caseTypeName",CASE_INFO_PZINSKEY:"caseInfo.content.pzInsKey",CASE_INFO_ACTIONS:"caseInfo.availableActions",VIEW_NAME:"caseInfo.content.pyViewName",ACTION_BUTTONS:"caseInfo.actionButtons",ACTIVE_ACTION_ID:"caseInfo.activeActionID",ASSIGNMENT_LABEL:"caseInfo.assignments[0].name",ASSIGNMENT_ID:"caseInfo.assignments[0].ID",ASSIGNMENTS:"caseInfo.assignments",NAVIGATION:"caseInfo.navigation",STAGES:"caseInfo.stages",STAGEID:"caseInfo.stageID",CASECLASS:"caseInfo.caseClass",AVAILABLEACTIONS:"caseInfo.availableActions",D_CASE_ASSIGNMENTS_RESULTS:"caseInfo.assignments",CHILD_ASSIGNMENTS:"caseInfo.childCases",ASSIGNMENTACTION_ID:"caseInfo.assignments[0].actions[0].ID",ISINCREATESTAGE:"caseInfo.isInCreateStage",APPROVALFLAG:"caseInfo.content.pyApprovalResult",DUPLICATECASEFLAG:"caseInfo.content.pyDuplicateCaseActions",DUPLICATECASEID:"caseInfo.content.pyDuplicateID",DUPLICATECASEINSKEY:"caseInfo.content.pyDuplicateCaseReference.pzInsKey",HEADERS:"caseInfo.headers",PARENTCASEINFO:"caseInfo.parentCaseInfo",REMOTESYSTEMID:"caseInfo.headers.RemoteSystemID",CASE_RELATED_CASE_TYPES:"caseInfo.relatedCaseTypes",CASES:"caseInfo.cases"},ACTIONS:{ACTION_ID:"actionID",ACTIONS:"availableActions",DELETEAVIALACTIONS:"deleteAvailActions"},PAGE_TYPES:{PAGE:"page",LANDINGPAGE:"landingpage",LISTPAGE:"listpage"},LOCAL_ACTION_TYPE:{CASE_WIDE:"case",EXPRESS:"express",ASSIGMENT:"Assignment"},CONTENT:"content",MODAL:"modal",STOPMERGEACTIONS:"stopMergeActions",SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME:"context_data.caseInfo.content.summary_of_assignment__.lastSubmitTime",SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME:"context_data.caseInfo.content.summary_of_attachments__.lastRefreshTime",BANNER_VARIANT_SUCCESS:"success",BANNER_VARIANT_WARNING:"warning",BANNER_VARIANT_URGENT:"urgent",BANNER_VARIANT_INFO:"info",MESSAGES:{MESSAGES_TYPE_SUCCESS:"success",MESSAGES_TYPE_INFO:"info",MESSAGES_TYPE_ERROR:"error"},PUB_SUB_EVENTS:{EVENT_RENDER_APP:"renderApp",EVENT_REAUTH:"reAuth",EVENT_FULL_REAUTH:"fullReAuth",EVENT_CANCEL:"cancel",EVENT_EXPRESS_LOCALACTION:"expressLocalActionSubmit",EVENT_BULKACTION:"bulkActionSubmit",EVENT_SHOW_CANCEL_ALERT:"showCancelAlert",EVENT_DASHBOARD_FILTER_CHANGE:"dashboardFilterChange",EVENT_DASHBOARD_FILTER_CLEAR_ALL:"dashboardFilterClearAll",EVENT_TRANSIENT_ITEMS:{UPDATE_PROMOTED_FILTERS:"updatePromotedFilters"},CASE_EVENTS:{CASE_ATTACHMENTS_UPDATED_FROM_CASEVIEW:"caseAttachmentsUpdateFromCaseview",CASE_FOLLOWER_UPDATED_BY_OPERATOR_FROM_CASEVIEW:"caseFollowerUpdateByOperatorFromCaseview",CASE_FOLLOWER_UPDATE_BY_OPERATOR_FROM_WIDGET:"caseFollowerUpdateByOperatorFromWidget",CASE_CREATED:"caseCreated",CREATE_STAGE_DONE:"caseCreatedDone",CREATE_STAGE_CANCELLED:"caseCancelled",CREATE_STAGE_SAVED:"caseSaved",CREATE_STAGE_DELETED:"caseDeleted",ASSIGNMENT_SUBMISSION:"assignmentSubmission",END_OF_ASSIGNMENT_PROCESSING:"endOfAssignmentProcessing",CLOSE_CONFIRM_VIEW:"closeConfirmView",CASE_OPENED:"caseOpened",ASSIGNMENT_OPENED:"assignmentOpened",CASE_PREVIEW:"casePreview"},CONTAINER_EVENTS:{CLOSE_CONTAINER_ITEM:"CLOSE_CONTAINER_ITEM"},DISPLAY_CASE_CREATED_TOASTER:"displayCaseCreatedToaster"},CONTAINER_TYPE:{MULTIPLE:"multiple",SINGLE:"single"},REMOTE_SYSTEM_ID:"RemoteSystemID",LIST_SELECTION_MODE:{MULTI:"multi",SINGLE:"single",MULTI_ON_HOVER:"multi_on_hover"}},nt={CONTEXT:"context",AJAXCONTAINER:"primary",VIEW_CONTAINER:"ViewContainer",APP_SHELL:"AppShell",ROOT_CONTAINER:"RootContainer",MODAL_VIEW_CONTAINER:"ModalViewContainer",FLOW_CONTAINER:"FlowContainer",PREVIEW_VIEW_CONTAINER:"PreviewViewContainer",OBJECT_PAGE:"ObjectPage",CASE_CREATE_STAGE:"CaseCreateStage",CASE_VIEW:"CaseView",VIEW:"view",CASE_PREVIEW:"CasePreview",CASE_STAGES:"Stages",CASEMESSAGES:"caseMessages",PRIMARY:"primary",MODAL:"modal",PREVIEW:"preview",TERTIARY:"tertiary",DEFAULT:"default",ACPRIMARY:"primary",ACTERTIARY:"tertiary",PERFORM_MODE:"perform",CASE_VIEW_MODE_PROP:".caseViewMode",REVIEW_MODE:"review",WORKAREA:"workarea",ACPRIMARY_NAME:"ACPRIMARY",ACTERTIARY_NAME:"ACTERTIARY",THREADNAMESEPARATOR:"/",JOINCHARACTER:"_",FORWARD_SLASH_STRING:"/",UNDERSCORE_STRING:"_",WORK_ID:"WORK_ID",EMPTY_STRING:"",PROPERTY_MESSAGES:"propertyMessages__",CONTEXT_MESSAGES:"contextMessages__",HTTP_MESSAGES:"httpMessages__",PAGE_MESSAGES:"pageMessages__",SUMMARY_OF_LISTS:"summary_of_lists__",SUMMARY_OF_GROUPS:"summary_of_groups__",SUMMARY_OF_MESSAGES:"summary_of_messages__",SUMMARY_OF_FIELD_VALUES:"summary_of_field_values__",SUMMARY_OF_WHEN_CONDITIONS:"summary_of_when_conditions__",SUMMARY_OF_ASSOCIATED_LISTS:"summary_of_associated_lists__",CONTEXT_DATA:"context_data",CONTENT:"content",HTTP:"HTTP",PROPERTY:"PROPERTY",MESSAGES:"messages__",PAGE_ERRORS:"page_level_errors",NO_MESSAGES:"No messages existing",PULSE_REFERENCE:"pulse.messages",IS_LOADING:"isLoading",APPROVED:"Approved",REJECTED:"Rejected",DUPLICATE:"Duplicate",IGNORE:"Ignore",ERROR_FIELD_IN_PAGE:"erroneousInputOutputFieldInPage",ERROR_IN_PAGE_IDENTIFIER:"erroneousInputOutputIdentifier",UI_RESOURCERS:"uiResources",UI_RESOURCERS_CONTEXT_DATA:"uiResources.context_data",ACTION_BUTTONS:"uiResources.actionButtons",RESOURCERS:"uiResources.resources",ROOT:"uiResources.root",DATA:"data",OPTIONS:"options",VIEWS:"uiResources.resources.views",NAVIGATIONS:"uiResources.resources.navigations",COMPONENTS:"uiResources.components",LOCALE_REFERENCES:"uiResources.localeReferences",STATIC_SERVER_URL:"staticServer",APPLICATION_DATA:"data.Application",REFERENCED_USERS:"referencedUsers",FIELD_LEVEL_SUCCESS:"success",FIELD_LEVEL_WARNING:"warning",FIELD_LEVEL_ERROR:"error",HASH_DELIMITER:"~^|^~",NULL_STRING:"null",DATA_PAGE:"DataPage",PROPERTY_ANNOTATION:"@P",ASSOCIATED_PROPERTY_ANNOTATION:"@ASSOCIATED",ASSOCIATED:"associated",CLASS_ID:".classID",CLASSID:"classID",READONLY:"readonly",SHARED:"shared",RELOAD_IF_OLDER_THAN:"reloadIfOlderThan",RELOAD_ONCE_PER_INTERACTION:"reloadOncePerInteraction",PY_DETAILS:"pyDetails",LIST_ACTIONS:{INSERT:"INSERT",UPDATE:"UPDATE",DELETE:"DELETE",MOVE:"MOVE",SELECT:"SELECT",DESELECT:"DESELECT"},LIST_ACTIONS_TYPE:{SELECT_DESELECT:"SELECT_DESELECT"},ENV_INFO_KEYS:{APPLICATION_NAME:"APPLICATION_NAME",APPLICATION_DESC:"APPLICATION_DESC",ACCESS_GROUP:"ACCESS_GROUP",USER_NAME:"USER_NAME",USER_ID:"USER_ID",USER_IMAGE:"USER_IMAGE",LOCALE:"LOCALE",TIMEZONE:"TIMEZONE",WORK_GROUP:"WORK_GROUP"},ID:"ID",...tt},rt="SET_PROPERTY",ot="FIELD_CHANGE",st="LOAD_VIEW",at="SHOW_PAGE",it="SHOW_DATA",ct="SET_LOADING",lt="RESET_LOADING",ut="CREATE_WORK",pt="OPEN_WORK_BY_HANDLE",dt="UPDATE_DOCUMENT",ht="FINISH_ASSIGNMENT",ft="CANCEL_ASSIGNMENT",gt="OPEN_ASSIGNMENT",yt="SHOW_CREATE_STAGE_CANCEL_ALERT",mt="MERGE_DATA",It="SHOW_HISTORY",Et="ERROR",At="INIT_CONTAINERS",_t="RESET_CONTAINERS",vt="ADD_CONTAINER_ITEM",St="REMOVE_CONTAINER_ITEM",bt="ADD_TRANSIENT_ITEM",Ct="UPDATE_TRANSIENT_DATA",Pt="REMOVE_TRANSIENT_ITEM",Tt="REMOVE_ALL_TRANSIENT_ITEMS",Ot="CLEAR_TRANSIENT_DATA",Nt="PURGE_TRANSIENT_DATA",Rt="ACTIVATE_CONTAINER_ITEM",Dt="UPDATE_CONTAINER_ITEM",xt="UPMERGE_AND_REMOVE_CONTAINER_ITEM",wt="REPLACE_CONTAINER_ITEM",Mt="ACTIVATE_MODAL_CONTAINER_ITEM",Lt="REMOVE_CONTAINER",jt="showView",Ut="showData",kt="openWorkByHandle",Vt="openAssignment",Ft="createNewWork",$t="openLocalAction",Gt="openProcessAction",Bt="caseWideActions",Wt="openBulkAction",Ht="ADD_MESSAGES",qt="CLEAR_MESSAGES",Yt="RESET_STORE",zt="FETCH_DATAPAGE",Kt="ADD_SHARED_DATA",Jt="REMOVE_SHARED_DATA",Xt="LIST_ACTION",Qt="DELETE_CASE_SUMMARY",Zt=[],en=[],tn={},nn={},rn={},on={},sn=(e={},t={})=>{0!==Object.keys(t).length?Object.keys(e).forEach((n=>{const r=e[n],o=t[n];if(o){const e=Array.isArray(o)?o:[o];let s=[...Array.isArray(r)?r:[r],...e];const a={};s=s.filter((({classID:e})=>!a[e]&&(a[e]=!0,!0))),t[n]=1===s.length?s[0]:s}else t[n]=r})):et.copy(e,t)},an=(e,t)=>{if(!e)return null;const n=tn[e];if(!n)return null;if(!t)return Array.isArray(n)?[...n]:n;let r;return r=Array.isArray(n)?n.find((e=>e.classID.toLowerCase()===t.toLowerCase())):n.classID.toLowerCase()===t.toLowerCase()||("Page"===n.type||"Page List"===n.type)&&(null==n?void 0:n.pageClass.toLowerCase())===t.toLowerCase()?n:null,r},cn=e=>{sn(e,Zt)},ln=e=>{sn(e,en)},un=e=>{if(e.views&&sn(e.views,Zt),e.navigations&&sn(e.navigations,en),e.personalizations&&sn(e.personalizations,rn),e.insights&&sn(e.insights,on),e.fields){Object.keys(e.fields).forEach((t=>{const n=e.fields[t];if(Array.isArray(n)){if(e.datapages&&n.forEach((t=>{t.datasource&&"DataPage"===t.datasource.tableType&&(t.datasource.mode=e.datapages[t.datasource.name].mode)})),1===n.length){const[r]=n;e.fields[t]=r}}else e.datapages&&n.datasource&&"DataPage"===n.datasource.tableType&&(n.datasource.mode=e.datapages[n.datasource.name].mode)}));const{datapages:t={}}=e;Object.keys(t).forEach((e=>{nn[e]=t[e]}))}sn(e.fields,tn)},pn=e=>Zt[e],dn=e=>en[e],hn=e=>e in nn?nn[e]:null,fn=e=>e in rn?rn[e]:null,gn=e=>e in on?on[e]:null,yn=e=>{const t={};return Object.keys(tn).forEach((n=>{const r=tn[n];let o;Array.isArray(r)?o=r.find((t=>e===t.classID)):e===r.classID&&(o=r),o&&(t[n]=et.deepClone(o))})),t},mn=(e,t)=>{var n,r;const o=null===(n=an(e,t))||void 0===n||null===(r=n.datasource)||void 0===r?void 0:r.parameters;return o?et.deepClone(o):null},In=new class{constructor(){this.components={},this.overrideMap={}}register(e,t){this.components[e]=t}getComponent(e){return this.components[e]}mergeComponentsMap(e={}){et.copy(e,this.components)}mergeOverrideMap(e={}){et.copy(e,this.overrideMap)}getOverrideMap(){return this.overrideMap}},En=new class{constructor(){this.handlers={}}registerHandler(e,t){this.handlers[e]=t}getHandler(e){return this.handlers[e]}},An=class{static handleAnnotation(e,t){const n=e.indexOf(" "),r=-1===n?e:e.substring(0,n),o=En.getHandler(r);return o?o(e.substring(n+1),t):e}static trimAnnotation(e){if("string"!=typeof e)return e;const t=e.indexOf(" "),n=e.substring(0,t),r=e.substring(t+1);return En.getHandler(n)?r:e}static handleComponentMapping(e,t,n){const r=In.getComponent(t.type);if(!r||!r.mapping)return;const o=r.mapping(t.config);if(o&&o["@map"]){const t=o["@map"],{source:r}=t;if(!r)return;const s=n.getValue(r);if("function"==typeof t.advanced)t.advanced(e,s);else{const n=t.inputs_map;e[t.output_property]=[];const r=e[t.output_property];s.forEach((e=>{const t={};Object.keys(n).forEach((r=>{let o=n[r];o&&0===o.indexOf(".")?(o=o.substring(1),t[r]=e[o]):t[r]=o})),r.push(t)}))}}}static getPropertyName(e){if(e){const t=e.startsWith(nt.PROPERTY_ANNOTATION),n=t?e.indexOf(" "):-1;return t?e.substring(n+2):e}return e}static getLeafPropertyName(e){if(null!=e&&e.startsWith(nt.PROPERTY_ANNOTATION)){const t=this.getPropertyName(e),n=t.split(".");return n.length<2?t:n.pop()}return e}static isProperty(e){return e.startsWith(nt.PROPERTY_ANNOTATION)}},_n={FIELD_MESSAGES_PATH:[nt.CONTEXT_DATA,nt.CASE_INFO.CASE_INFO,nt.CONTENT,nt.SUMMARY_OF_MESSAGES,nt.PROPERTY_MESSAGES],PAGE_MESSAGES_PATH:[nt.CONTEXT_DATA,nt.SUMMARY_OF_MESSAGES,nt.PAGE_MESSAGES],HTTP_MESSAGES_PATH:[nt.CONTEXT_DATA,nt.SUMMARY_OF_MESSAGES,nt.HTTP_MESSAGES],CASE_MESSAGE_PATH:[nt.CASEMESSAGES]},vn=(e="",t="",n)=>{let r,o=[];null!==e&&(r=e&&"."===e[0]?e.substr(1).split("."):e.split("."));const s=t&&"."===t[0]?t.substr(1):t;if(n===nt.PROPERTY&&e||e){o=[nt.CONTEXT_DATA,...s.split(".")];for(let e=0;e<r.length-1;e+=1)o.push(r[e]);o.push(nt.SUMMARY_OF_MESSAGES,nt.PROPERTY_MESSAGES,r[r.length-1])}else n===tt.PAGE?o=[..._n.PAGE_MESSAGES_PATH]:n===nt.HTTP?o=[..._n.HTTP_MESSAGES_PATH]:n===nt.CASEMESSAGES&&(o=[..._n.CASE_MESSAGE_PATH]);return o.filter(Boolean)},Sn=e=>{const{type:t,property:n,category:r,context:o,pageReference:s}=e;let a;n&&(a=n.slice(1));const i=pi(o);let c=[];const l=et.getIn(i,vn(a,s,r));return t&&"all"!==t?(l&&Array.isArray(l)&&l.length>0&&(c=l.filter((e=>e.type===t))),c):l},bn=e=>{const{property:t,pageReference:n,category:r,context:o,type:s}=e,a={context:o,type:s};t?(a.property=t,a.pageReference=n):a.category=r,ui({type:qt,payload:a})},Cn=e=>{const{messages:t,property:n,pageReference:r,category:o,context:s}=e,a={messages:t,context:s};n?(a.property=n,a.pageReference=r):a.category=o,ui({type:Ht,payload:a})},Pn={addMessages:Cn,getMessages:Sn,clearMessages:bn},Tn={},On=e=>"."===e.charAt(0)?e.substring(1):e,Nn=(e="",t="")=>`${On(t)}${e?".":""}${On(e)}`,Rn=e=>{delete Tn[e]},Dn=(e,t,n)=>{if(Tn[e]){const r=On(Nn(t,n));Tn[e].fieldOrder[r]&&(Tn[e].fieldOrder[r].isError=!1)}},xn=()=>Tn,wn=e=>{const t=e.isExpressionExist();return!1!==e.isMounted&&(t&&!1!==e.getConfigProps().visibility||!t&&(void 0===e.getConfigProps().visibility||"true"===e.getConfigProps().visibility||!0===e.getConfigProps().visibility))},Mn=e=>{const t=e.getConfigProps().readOnly;return!0===t||"true"===t},Ln=e=>{const t=xn();let n,r=!0;if(t[e])for(const o in t[e].fieldOrder)if(Object.prototype.hasOwnProperty.call(t[e].fieldOrder,o)){const s=t[e].fieldOrder[o];let a="value",i=s.getStateProps()[a];if(!i){const e=s.getComponentConfig();"multi"===e.selectionMode?a="selectionList":"Editable"===e.renderMode&&(a="referenceList"),i=s.getStateProps()[a]}const c=wn(s);!c||s.isError||Mn(s)||s.getConfigProps().disabled||s.getValidationApi().validate(s.getValue(i)),!n&&s.isError&&c&&(n=o),r&&s.isError&&c&&(r=!1)}return r},jn=new class{constructor(){this.actionHandlers={}}getHandler(e){return this.actionHandlers[e]}registerHandler(e,t){this.actionHandlers[e]=t}};function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kn=new class{constructor(){Un(this,"pauseBeforeShowing",(e=>new Promise((t=>setTimeout((()=>t(e)),this.pauseDuration))))),Un(this,"addToContextArray",(e=>{void 0===this.contextArray[e]&&(this.contextArray[e]=0),this.contextArray[e]=this.contextArray[e]+1})),Un(this,"removeFromContextArray",(e=>{void 0!==this.contextArray[e]&&this.contextArray[e]>0&&(this.contextArray[e]=this.contextArray[e]-1)})),this.contextArray={},this.pauseDuration=2e3,this.waitingToPutUpIndicator=!1}getLoadingContext(e){let t=null;return e&&(({context:t}=e),t||(t=e.containerItemID),t||(t=e.contextName)),t}enableLoadingIndicator(e,t=!0){const n=this.getLoadingContext(e);n&&(this.addToContextArray(n),this.waitingToPutUpIndicator||(this.waitingToPutUpIndicator=!0,this.pauseBeforeShowing(n).then((e=>{t&&void 0!==this.contextArray[e]&&this.contextArray[e]>0&&ui({type:ct,payload:{context:e}})}))))}disableLoadingIndicator(e,t=!0){const n=this.getLoadingContext(e);n&&(this.waitingToPutUpIndicator=!1,this.removeFromContextArray(n),t&&void 0!==this.contextArray[n]&&0===this.contextArray[n]&&ui({type:lt,payload:{context:n}}))}},Vn=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actionManagerPromise",((e,t=null)=>{let n,r;null===t&&(t=this.getNextActionMgrId());const o=new Promise(((e,t)=>{n=e,r=t}));return this.register(t,o,n,r,e),{actionMgrID:t,promise:o}})),this.counterActionMgrId=0,this.actionMgrActions=[]}getNextActionMgrId(){return this.counterActionMgrId+=1,this.counterActionMgrId.toString()}register(e,t,n,r,o="unknown",s,a=!0){if(void 0!==this.actionMgrActions[e])return null;const i={actionType:o,promise:t,resolve:n,reject:r,actionPayload:s};return this.actionMgrActions[e]=i,a&&kn.enableLoadingIndicator(i.actionPayload),e}resolveActionByID(e,t,n=!0){const r=this.actionMgrActions[e];let o=e;return r?(r.resolve(t),kn.disableLoadingIndicator(r.actionPayload,n)):o=null,o}rejectActionByID(e,t=!0){const n=this.actionMgrActions[e];let r=e;return n?(n.reject(),kn.disableLoadingIndicator(n.actionPayload,t)):r=null,r}};let Fn=[],$n=!1;const Gn=(e,t,n)=>{const r=[];return{mouseenter:"hover",change:"onChange",blur:"onBlur"}[n]!==t||e.forEach((e=>{const t=jn.getHandler(e.action),{config:n}=e;r.push({handler:t,config:n})})),r},Bn=e=>{const{tagName:t}=e;return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t||"DATETIME"===t},Wn=e=>{const{tagName:t,type:n}=e;return"SELECT"===t||"checkbox"===n||"radio"===n},Hn=(e,t)=>{const n={...e};return n.context=t.getContextName(),n.pageReference=t.getPageReference(),n.actionMgrID=Vn.getNextActionMgrId(),n},qn=()=>{if(!$n){if(0===Fn.length)return;const e=Fn.shift();(e=>{const t=e.actionHandler,n=e.component,{config:r}=e,o={};Ya.resolveProps(r,o,n),t&&(t(e.eventType,o,n),qn())})(e),e.config&&"true"===e.config.parallel&&Fn.length>0&&qn()}},Yn=(e,t,n)=>{((e,t,n)=>{for(let r=0;r<e.length;r++){const o=e[r],s={actionHandler:o.handler,component:t,eventType:n,config:o.config};Fn.push(s)}})(e,t,n),qn()},zn=e=>{const t=e.getPageReference(),n=e.getComponentConfig().value;return Ya.getContextPath(t,n)},Kn=(e,t)=>{const n=e.getStateProps().value,r=e.getContextName();if(bn({type:tt.MESSAGES.MESSAGES_TYPE_ERROR,property:n,pageReference:e.getPageReference(),context:r}),t instanceof Event||t.nativeEvent instanceof Event||null!==t.value&&void 0===t.prop){let{target:n}=t;null===n&&t&&t.auxiliaryTarget&&(n=t.auxiliaryTarget);const o=void 0===n?t.value:"value"in n?n.value:n.innerText,s=zn(e);ui({type:rt,payload:{reference:s,value:o,context:r}}),void 0!==n&&Bn(n)&&!Wn(n)||ui({type:ot,payload:{reference:s,pageReference:e.getPageReference(),value:o,context:r,propertyName:e.getComponentConfig().value,classID:e.getValue(nt.CLASS_ID)}})}else{const n=e.getPageReference(),o=e.getStateProps();for(const e of Object.keys(t)){const s=o[e],a=t[e];ui({type:rt,payload:{reference:Ya.getContextPath(n,s),value:a,context:r}}),ui({type:ot,payload:{reference:Ya.getContextPath(n,s),value:a,context:r}})}}},Jn=(e,t)=>{let{target:n}=t;null===n&&t&&t.auxiliaryTarget&&(n=t.auxiliaryTarget);const{value:r,validationValue:o}=n,s=zn(e),a=e.getContextName();if(n.clearMessages&&bn({type:tt.MESSAGES.MESSAGES_TYPE_ERROR,property:e.getStateProps().value,pageReference:e.getPageReference(),context:a}),Bn(n)){if(e.getValidationApi().validate("validationValue"in n?o:r),e.isInsideList()){const t={[On(e.getStateProps().value)]:r};let n=e.getPageReference().match(/\[\d+\]$/g);n&&n[0]&&(n=n[0].substring(1,n[0].length-1),e.getListActions().update(t,Number(n),e))}!Wn(n)&&ui({type:ot,payload:{reference:s,pageReference:e.getPageReference(),value:r,context:a,propertyName:e.getComponentConfig().value,classID:e.getValue(nt.CLASS_ID)}})}},Xn=(e,t)=>{const{type:n}=t;switch(n){case"change":Kn(e,t);break;case"blur":Jn(e,t)}n&&function(e,t){const n=e.getComponentConfig().behaviours||[];for(let r=0;r<n.length;r+=1){const{behaviour:o,actions:s}=n[r];if(s){const n=Gn(s,o,t);n&&n.length>0&&Yn(n,e,t)}}}(e,n)},Qn=()=>{$n=!0},Zn=()=>{$n=!1,qn()},er=()=>0===Fn.length,tr=()=>{Fn=[]},nr=()=>Fn,rr={click:"onClick",change:"onChange",hover:"onMouseEnter",blur:"onBlur"};let or,sr;const ar=e=>{or||(or=e=e||{"base-server":"http://localhost:1080/prweb/","data-end-point":"api/v1/stream/data","action-end-point":"api/v1/stream/action"},or.BASEURL=e.server,or.ACTIONURL=e["action-end-point"],or.DATAURL=e["data-end-point"])},ir=()=>or.BASEURL,cr=e=>fetch(or.BASEURL+or.ACTIONURL,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),lr={},ur=new Map,pr=e=>{let t=nt.EMPTY_STRING;return t=e&&e.includes(nt.FORWARD_SLASH_STRING)?e.substring(0,e.lastIndexOf("/")):e,t},dr=(e,t,n=!1)=>{let r=nt.EMPTY_STRING;if(t&&e){let o=`${t}${nt.FORWARD_SLASH_STRING}${e}`;const s=Ns(o);if(s||t!==nt.APP.APP&&t!==nt.APP.ROOT)if(s){if(n&&lr[o])return r=`${o}${nt.UNDERSCORE_STRING}${lr[o]}`,r;lr[o]?lr[o]+=1:lr[o]=1,r=`${o}${nt.UNDERSCORE_STRING}${lr[o]}`}else r=dr(e,pr(t));else o=`${t}${nt.FORWARD_SLASH_STRING}${nt.PRIMARY}`,lr[o]?lr[o]+=1:lr[o]=1,r=`${o}${nt.UNDERSCORE_STRING}${lr[o]}`}return r},hr=(e,t)=>{if(e&&t){var n,r;const o=(null!==(n=null===(r=ur[t])||void 0===r?void 0:r[e])&&void 0!==n?n:0)+1;return ur[t]||(ur[t]={}),ur[t][e]=o,`${t}${nt.FORWARD_SLASH_STRING}${e}_${o}`}return""},fr=(e,t)=>{if(e&&t){var n;const r=null===(n=ur[t])||void 0===n?void 0:n[e];return r?`${t}${nt.FORWARD_SLASH_STRING}${e}_${r}`:hr(e,t)}return""},gr=e=>{let t=nt.EMPTY_STRING;return e&&(t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("_")).toLowerCase()),t},yr=(e,t)=>{if(null===e)return t;const[,n]=t.split(nt.FORWARD_SLASH_STRING);return e+nt.FORWARD_SLASH_STRING+n},mr=e=>{const t=e.indexOf(nt.FORWARD_SLASH_STRING),n=e.lastIndexOf(nt.FORWARD_SLASH_STRING);return t===n?e:e.substring(0,n)},Ir=e=>{const t=e.split(nt.FORWARD_SLASH_STRING);return 2===t.length?e:t[0]+nt.FORWARD_SLASH_STRING+t[2]},Er=/{(.*?)}/i,Ar=/{(.*?)}/g,_r=e=>null!==e.match(Er),vr=e=>(e&&("/"===e[0]&&(e=e.substring(1,e.length)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1))),e),Sr=e=>{const t=e[e.length-1],n=e[e.length-2];if("y"!==t.toLowerCase())return`${e}s`;switch(n.toLowerCase()){case"a":case"e":case"i":case"o":case"u":return`${e}s`;default:return`${e=e.substring(0,e.length-1)}ies`}},br=()=>vr(window.location.pathname),Cr=(e,t,n)=>{switch(n){case"warning":t?console.warn(e,t):console.warn(e);break;case"error":t?console.error(e,t):console.error(e);break;default:t?console.log(e,t):console.error(e)}};function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tr{}Pr(Tr,"remoteCaseMapping",{}),Pr(Tr,"setRemoteCaseMapping",(e=>{Tr.remoteCaseMapping=e})),Pr(Tr,"getRemoteCaseMapping",(()=>Tr.remoteCaseMapping)),Pr(Tr,"getRemoteCase",(e=>Tr.remoteCaseMapping[e])),Pr(Tr,"isRemoteCase",(e=>!!(e&&Tr.remoteCaseMapping&&Tr.remoteCaseMapping[e]))),Pr(Tr,"getRemoteHeaderByContext",(e=>Ya.getProperty(".RemoteSystemID",nt.CASE_INFO.HEADERS,e))),Pr(Tr,"getRemoteHeader",(e=>{var t;return null===(t=Tr.remoteCaseMapping[e])||void 0===t?void 0:t.RemoteSystemID})),Pr(Tr,"injectRemoteCaseHeader",((e,t,n)=>{if(e&&e.RemoteSystemID)return;const r=Tr.getRemoteHeaderByContext(n);r?e.RemoteSystemID=r:t&&Tr.isRemoteCase(t.caseTypeID)&&(e.RemoteSystemID=Tr.getRemoteHeader(t.caseTypeID))}));const Or=Tr;function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rr=new class{constructor(){Nr(this,"init",((e,t)=>{e&&e.routes&&e.routesMeta?(this.routingInfo=e,this.appRoutes=e.routes,this.appRoutesMeta=e.routesMeta,this.reqContextName=e.reqContextName,this.reqServletPath=e.reqServletPath,this.appName=e.appName,this.appAlias=e.appAlias,this.orgName=e.orgName,this.defaultViewUrlPath=t,this._createStaticDynamicRoutesList(this.appRoutes),this.appDelimeter=e.appDelimeter,this.reqServletNameReal=e.pxReqServletNameReal,this.bDefaultPortal=e.isDefaultPortal,this.portalName=e.portalName):console.error("Routing info is not appropriate. Missing routes and routesMeta objects in routingInfo",JSON.stringify(e))})),Nr(this,"setDefaultRoute",(e=>{this.defaultViewUrlPath=e})),Nr(this,"_createStaticDynamicRoutesList",(e=>{Object.keys(e).forEach((e=>{_r(e)?this.dynamicRoutesList.push(e):this.staticRoutesList.push(e)}))})),Nr(this,"_getDynamicKeyName",(e=>{const t=e.indexOf("{")+1,n=e.lastIndexOf("}");return e.slice(t,n)})),Nr(this,"isDefaultPortal",(()=>"false"!=`${this.bDefaultPortal}`)),Nr(this,"getPortalName",(()=>this.portalName)),Nr(this,"getApplicationPath",(()=>`${this.getReqContextName()}/${this.getReqServletNameReal()}`)),Nr(this,"getReqServletNameReal",(()=>`${this.reqServletNameReal}`)),Nr(this,"getAppDelimeter",(()=>`${this.appDelimeter}`)),Nr(this,"getApplicationName",(()=>`${this.appName}`)),Nr(this,"getApplicationAlias",(()=>`${this.appAlias}`)),Nr(this,"getServletPath",(()=>`${this.reqServletPath}`)),Nr(this,"getOrganizationName",(()=>`${this.orgName}`)),Nr(this,"getReqContextName",(()=>vr(this.reqContextName))),Nr(this,"getRoutingInfo",(()=>this.routingInfo)),Nr(this,"processUrl",((e,t)=>{t&&(e=e.toLowerCase());const n=new RegExp(this.getApplicationPath(),"i");return e=e.replace(n,""),vr(e)})),Nr(this,"getEndPointInfo",(e=>{let t=this.processUrl(e,!0),n=this._getMatchedRouteInRoutingTable(t);void 0===n&&(t=this.processUrl(this.defaultViewUrlPath,!0),n=this._getMatchedRouteInRoutingTable(t));const{routeKey:r,payload:o}=this.appRoutes[n],{reqType:s,endPoint:a,params:i}=this.appRoutesMeta[r].restApi,c={...o},{caseClassName:l,caseID:u}=c;if(Or.isRemoteCase(l)){const{RemoteClassGroup:e,RemoteSystemID:t}=Or.getRemoteCase(l);c.caseID=null==u?void 0:u.replace(l,null==e?void 0:e.toUpperCase()),c.RemoteSystemID=t}const p={routeKey:r,requestType:s,routeEndpoint:a,payload:{...i,...c}};return this._resolveRoute(p,this.processUrl(e,!1),n)})),Nr(this,"_resolveRoute",((e,t,n)=>{const r=[],[o,s]=t.includes("?")?t.split("?"):[t],[a,i]=n.includes("?")?n.split("?"):[n],c=o.split("/"),l=a.split("/"),u={};for(let e=0;e<l.length;e+=1)r[e]=l[e],_r(l[e])&&(u[this._getDynamicKeyName(l[e])]=c[e],r[e]=c[e]);const p=this._getQueryParamsObject(i),d=this._getQueryParamsObject(s),h={};for(const[e,t]of Object.entries(d))h[e.toLowerCase()]=t;for(const e in p)_r(p[e])?u[e]=d[e]||h[e.toLowerCase()]:u[e]=p[e];let f;s&&(f=this._getQueryParamsResolvedURL(n,d,!0));const g=this._resolvePayload(e,u,n);return{...this._resolveRouteEndPoint(g,n),urlPath:f||r.join("/")}})),Nr(this,"_resolveRouteEndPoint",((e,t)=>{let{routeEndpoint:n}=e;if(!_r(n))return e;const r={};if(r[t]=e,void 0!==e.payload){const t=n.match(Ar);for(let o=0;o<t.length;o+=1){const s=t[o],a=this._getDynamicKeyName(s);if(void 0!==e.payload[a]){const t=e.payload[a];n=n.replace(s,t)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${a}} in routeEndpoint- ${a} is missing in payload`,r)}}else this._sendWarningAndErrorMessages("Unable to resolve dynamic token(s) in routeEndpoint- payload is missing in routing table for-",r);return{...e,routeEndpoint:n}})),Nr(this,"_resolvePayload",((e,t,n)=>{if(void 0===e.payload)return e;const r={...e.payload,...this._resolvePayloadRecursive(e.payload,t)};return{...e,payload:r}})),Nr(this,"_getMatchedRouteInRoutingTable",(e=>{let t=this._findMatchedRouteInStaticList(e);return void 0!==t?t:(t=this._findMatchedRouteInDynamicList(e),void 0!==t?t:void 0)})),Nr(this,"_findMatchedRouteInStaticList",(e=>this.staticRoutesList.find((t=>t.toLowerCase()===e.toLowerCase())))),Nr(this,"_findMatchedRouteInDynamicList",(e=>{const[t,n]=e.includes("?")?e.split("?"):[e],r=t.split("/");return this.dynamicRoutesList.find((e=>{const[t,o]=e.includes("?")?e.split("?"):[e],s=t.split("/");if(s.length!==r.length)return!1;let a=0;for(a=0;a<s.length;a+=1){const e=s[a].toLowerCase();if(!_r(e)&&e!==r[a]&&Sr(e)!==r[a])return!1}if(o){const e=new URLSearchParams(n),t=new URLSearchParams(o),r=new Set,s=new Set;for(const t of e.keys())r.add(t.toLowerCase());for(const e of t.keys())s.add(e.toLowerCase());if(s.size!==r.size)return!1;for(const e of r)if(!s.has(e))return!1}return!0}))})),Nr(this,"_sendWarningAndErrorMessages",((e,t)=>{Cr(e,t,"warning"),Cr("Error in Generated Routing Table",null,"error"),Cr("Back | Forward for this page may NOT work as intended",null,"warning"),Cr("Bookmark | Refresh for this page may NOT work as intended",null,"warning")})),this.routingInfo,this.appRoutes,this.appRoutesMeta,this.appName,this.appAlias,this.orgName,this.reqContextName,this.reqServletPath,this.defaultViewUrlPath,this.staticRoutesList=[],this.dynamicRoutesList=[],this.appDelimeter,this.reqServletNameReal,this.bDefaultPortal,this.portalName}getSemanticURL(e,t,n){return this._buildSemanticURL(e,t,n)}getResolvedSemanticURL(e,t,n={}){const r=this.getSemanticURL(e,t,n);let o=r;_r(r)&&r.match(Ar).forEach((e=>{const t=this._getDynamicKeyName(e);n[t]&&(o=o.replace(e,n[t]))}));const s=new URL(ir()+(o?`/${o}`:""));return this.getPortalName()&&s.searchParams.append("portal",this.getPortalName()),s.toString()}_buildSemanticURL(e,t,n){const{urlPattern:r}=this.appRoutesMeta[e],o=r.split("/").length,s=Object.keys(this.appRoutes);for(let e=0;e<s.length;e+=1){const r=this.appRoutes[s[e]];if(s[e].split("/").length===o){const o=Object.keys(t);let a=!1;for(let e=0;e<o.length&&(a=t[o[e]]===r.payload[o[e]],a);e+=1);if(a)return this._getQueryParamsResolvedURL(s[e],n)}}return""}_getQueryParamsResolvedURL(e,t,n=!1){const[r,o]=e.includes("?")?e.split("?"):[e];if(o){const e={};for(const[n,r]of Object.entries(t))e[n.toLowerCase()]=r;const s=new URLSearchParams(o),a={};for(const[r,o]of s.entries())if("string"==typeof o&&_r(o)){const s=this._getDynamicKeyName(o);a[r]=n?t[s]||e[s.toLowerCase()]:t[s]}else"string"==typeof o&&(a[r]=o);return`${r}?${new URLSearchParams(a).toString()}`}return r}_getQueryParamsObject(e){const t={},n=new URLSearchParams(e);for(const[e,r]of n.entries())t[e]=r;return t}getRestEndPoint(e,t){try{return this._buildRestApi(e,t)}catch(e){return console.error(e),this.appRoutes&&this.appRoutesMeta?(console.info("Routes object: ",JSON.stringify(this.appRoutes)),console.info("RoutesMeta object: ",JSON.stringify(this.appRoutesMeta))):console.info("Routes in not defined: ",this.appRoutes,this.appRoutesMeta),null}}_buildRestApi(e,t){if(e&&this.appRoutesMeta[e]){const{reqType:n,body:r}=this.appRoutesMeta[e].restApi;let{endPoint:o}=this.appRoutesMeta[e].restApi;t&&t.params&&t.params.pageName&&(o=`${o}&pageName=${t.params.pageName}`);const s=o.match(Ar);if(s)for(let e=0;e<s.length;e+=1){const n=s[e].replace("{","").replace("}",""),r=new RegExp(s[e],"g");o=o.replace(r,t[n])}if(r){let e={};return Object.keys(r).forEach((n=>{this._isSpecialInstruction(n)&&(e={...e,...this._processInstruction(n,r[n],t)})})),{restApi:o,reqType:n,body:e}}return{restApi:o,reqType:n}}throw`Cannot find route metadata for the routeKey: ${e}.`}_isSpecialInstruction(e){return e&&e.startsWith("@")}_processInstruction(e,t,n){const r={};return"@COPY"===e&&t.forEach((e=>{r[e]=n[e]})),r}doesRestApiExist(e){return!(!this.appRoutesMeta||!this.appRoutesMeta[e])}_resolvePayloadRecursive(e,t){const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let o=e[r];if("string"==typeof o&&_r(o)){const e=o.match(Ar);for(let n=0;n<e.length;n+=1){const r=e[n],s=this._getDynamicKeyName(r);if(void 0!==t[s]){const e=t[s];o=o.replace(r,e)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${s}} in payload- {${s}} is missing in semantic url construct`)}n[r]=o}else"object"==typeof o&&(n[r]=this._resolvePayloadRecursive(o,t))}return n}},Dr=(e,t)=>{if(!e||!t)return null;let n,r=nt.EMPTY_STRING;return t&&(r=`${t}${nt.FORWARD_SLASH_STRING}${e}`,n=Ns(r),n||-1!==t.indexOf("/")?n||(r=Dr(e,pr(t))):r=`${t}${nt.FORWARD_SLASH_STRING}${e}`),r},xr=(e,t)=>{const n=Dr(e,t);return n&&Ns(n)?Ns(n):{}},wr="replace",Mr=["portal","noPortal"];let Lr,jr,Ur="Home",kr=!0;const Vr=()=>kr,Fr=(e,t,n)=>Rr.getSemanticURL(e,t,n),$r=(e,t)=>Rr.getRestEndPoint(e,t),Gr=(e,t)=>{let n=ir();const r=$r(e,t);return r?(r.restApi.startsWith("/")||(r.restApi=`/${r.restApi}`),n.endsWith("/")&&(n=n.substring(0,n.length-1)),r.restApi=n+r.restApi,r):null},Br=(e,t,n)=>{const{root:r,resources:o}=e,{views:s}=o,{config:a}=r;let i;i=n||s[a.name].config.urlPath;const c=i.match(Ar);if(c){const e=et.getIn(t,a.context);i=i.replace(c[0],e.pyID)}return"/"===i[0]&&(i=i.substring(1,i.length)),{pxURLPath:i,historyAction:"add"}},Wr=(e,t=!1,{urlPathObjParam:n,infoParam:r,optionsParam:o})=>{let s,a,i;if(!1===window.PCore.getBehaviorOverride("dynamicSemanticUrl"))return;if(t)s=n,a=r,i=o;else{const{uiResources:t,data:r}=e;({options:i}=e),s=n&&n.pxURLPath&&_r(n.pxURLPath)?Br(t,r,n.pxURLPath):n||Br(t,r),a=Rr.getEndPointInfo(s.pxURLPath),s.pxURLPath=a.urlPath}const c=((e,t,n)=>{let r,o;r=`${e}/${t}`;const s=vr(n.pxURLPath);s&&(r=`${r}/${s}`);try{o=new URL(r).searchParams,r=r.includes("?")?r.split("?")[0]:r}catch(e){return console.log("Invalid url",e),""}const a=r.split("/"),i=a[a.length-1],c=new URLSearchParams(window.location.search);if(i.toLowerCase()!==Ur.toLowerCase()||c.has("noPortal")||(r=`${e}/${t}`),!Rr.isDefaultPortal()){const e=Rr.getPortalName();c.has("portal")?c.set("portal",e):c.append("portal",e)}for(const[e,t]of c.entries())!o.has(e)&&Mr.includes(e)&&o.append(e,t);return o.toString()&&(r+=`?${o.toString()}`),r})(Lr,Rr.getApplicationPath(),s),{title:l}=((e,t,n)=>{if(e=(e=>{let t=e.split(" ");return t=t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))),t.join(" ")})(e=e&&""!==e?e:Rr.getApplicationName()),n===`${Lr}/${t}/`)return{title:e};const r=new URL(n).pathname.replace(`${t}/`,""),o=r.split("/");return/\d/.test(r)?{title:`${e} - ${o[o.length-1]}`}:{title:`${e} - ${o[0]}`}})(jr,Rr.getApplicationPath(),c),u=((e,t)=>(void 0!==e&&(e.options=t),{stateObj:e}))(a,{...i,title:l});"add"===s.historyAction?((e,t,n)=>{try{window.history.pushState(e,t,n),window.scrollTo(0,0)}catch(e){throw new Error("Error- Unable to Add to Browser History")}})(u,l,c):s.historyAction===wr&&((e,t,n)=>{try{window.history.replaceState(e,t,n)}catch(e){throw new Error("Error- Unable to Replace Browser History")}})(u,l,c)},Hr=e=>{const{uiResources:t}=e;Vr()&&(e.directUrlUpdation||(e=>{if(e&&e.root){const{root:t}=e,{resources:n}=e,{views:r}=n,o=t.config,s=o.type,a=o.name;if("VIEW"===s.toUpperCase()){const e=r[a].config;if(e.type){const t=e.type;return!(!e.urlPath||"PAGE"!==t.toUpperCase())}}return!1}return!1})(t))&&(e=>{let t=null;e.directUrlUpdation&&(t={historyAction:"add"},t.pxURLPath=e.semanticURL),Wr(e,!1,{urlPathObjParam:t,infoParam:null,optionsParam:null})})(e)},qr=e=>{const t={routeEndpoint:e.routeEndpoint,requestType:e.requestType,payload:e.payload,routeKey:e.routeKey};return e.options&&(t.options=e.options),t},Yr=e=>{const t=(e=>e.state?e.state.stateObj:null)(e);t&&ui(c.showHistory(qr(t)))},zr=()=>Rr.getApplicationPath()!==br(),Kr=(e,t=!1)=>{var n;Lr=e.domain,!1===t&&Vr()&&(n=Yr,window.addEventListener("popstate",(e=>n(e))),window.onbeforeunload=()=>null),Rr.init(e,Ur)},Jr={},Xr=e=>{const{context:t}=e;((e,t)=>Jr[t]&&Object.prototype.hasOwnProperty.call(Jr[t],e))(e.reference,t)&&class{static handleExpression(e,t,n,r){const o=this.getContext(e,r);cr({actionObject:{action:"decexp",params:{source:e,value:t,targets:n},context:o}}).then((e=>e.json())).then((e=>{this.updateState(e,r)})).catch((e=>window.console.log(e)))}static getContext(e,t){const n=e.substring(0,e.indexOf("."));return{name:n,class:Ya.getProperyValue(`${n}.pxObjClass`,null,t)||Ya.getProperyValue(`${n}.pyClassName`,null,t)}}static updateState(e,t){Object.keys(e).forEach((n=>ui({type:rt,payload:{context:t,reference:n,value:e[n]}})))}}.handleExpression(e.reference,e.value,Jr[t][e.reference],t)},Qr=new class{constructor(){this._dataSourceMap={}}hasContextName(e){return e in this._dataSourceMap}addContextName(e,t){t&&Object.keys(t).length>0?this._dataSourceMap[e]=t:this._dataSourceMap[e]={}}getContextObjectByName(e){return e in this._dataSourceMap?this._dataSourceMap[e]:null}deleteContextName(e){this.hasContextName(e)&&delete this._dataSourceMap[e]}addOrUpdatePropertyInContext(e,t,n){if(this.hasContextName(e)){const r=this.getContextObjectByName(e);if(Array.isArray(n))r[t]=n;else{const e=r[t];r[t]=[...new Set([...e,n])]}}else{const r={};Array.isArray(n)?r[t]=n:r[t]=[n],this.addContextName(e,r)}}deletePropertyInContext(e,t){if(this.hasContextName(e)){const n=this.getContextObjectByName(e);t in n&&delete n[t]}}getPropertyFromContext(e,t){if(this.hasContextName(e)){const n=this.getContextObjectByName(e);if(t in n)return n[t]}return[]}getDependencies(e,t){const n=this.getPropertyFromContext(e,t),r=new Set(n);return n.forEach((e=>{r.add(e)})),[...r]}},Zr=class{static getPropertyName(e){return An.getPropertyName(e)}static isProperty(e){return An.isProperty(e)}static getLeafPropertyName(e){return An.getLeafPropertyName(e)}static isPropertyInternal(e){return e.startsWith("px")||e.startsWith("pz")}},eo={},to={},no={},ro=e=>{const t=e.getContextName();eo[t]||(eo[t]=[]),to[t]||(to[t]=[],no[t]=[])},oo=e=>(null==e?void 0:e.split(".").map((e=>{if(-1!==e.indexOf("[")){const t=e.indexOf("["),n=e.indexOf("]"),r=e.substring(t+1,n),o=Number(r)+1;return`${e.substring(0,t)}(${o})${e.substring(n+1)}`}return e}))).join("."),so=(e,t)=>{const n=to[e],r=no[e],o=On(t),s=null==o?void 0:o.substring(0,o.indexOf("["));(null==r?void 0:r.indexOf(s))<0&&no[e].push(s),(null==n?void 0:n.indexOf(o))<0&&to[e].push(o)},ao=(e,t=0,n,r={})=>{const{skipStateUpdate:o=!0}=r,s=n.getContextName();let a=n.getReferenceList();const i=n.getPageReference();a||(a=((e,t)=>{const n=e.indexOf(tt.CONTENT)+tt.CONTENT.length,r=e.indexOf(`[${t}]`);return e.substring(n,r)})(i,t)),ro(n),so(s,`${a}[${t}]`);const c={instruction:nt.LIST_ACTIONS.UPDATE,content:{...et.unflatten(e)}};((e,t)=>{const{target:n,listIndex:r}=e;let o=!1;const s=eo[t];if(s&&s.length>0){const e=s[s.length-1],{target:t,listIndex:a,instruction:i}=e;n===t&&r===a&&[nt.LIST_ACTIONS.UPDATE,nt.LIST_ACTIONS.INSERT].includes(i)&&(o=!0)}return o})({target:oo(a),listIndex:t+1},s)?((e,t)=>{const n=eo[t].length-1,r=eo[t][n].content;eo[t][n].content={...r,...e}})(c.content,s):eo[s].push({...c,target:oo(a),listIndex:t+1}),o||ui(Ba({...c,listIndex:t,context:s,referenceList:i}))},io=(e,t)=>{const[,n]=e.split(".");return n===t},co=(e,t,n)=>{const r={};return Object.values(e).forEach((e=>{if(io(e,n)){let n=et.getPropertyName(e);n=n.substr(n.indexOf(".")+1).split(".");const o=et.getIn(t,n);r[n[n.length-1]]=o}})),r},lo=e=>({insert:(t,n,r)=>((e,t,n,r)=>{const o=n.getContextName(),s=n.getReferenceList(),a=r||n.getPageReference();ro(n),so(o,`${s}[${t}]`);const i={instruction:nt.LIST_ACTIONS.INSERT,content:{...et.unflatten(e)}},c=JSON.parse(JSON.stringify(i));delete c.content.classID,eo[o].push({...c,target:oo(s),listIndex:t+1}),ui(Ba({...i,listIndex:t,context:o,referenceList:a}))})(t,n,e,r),update:(t,n,r)=>ao(t,n,e,r),updateProperty:(t,n)=>((e,t,n)=>{const r=n.getPageReference(),o={[On(e)]:t};let s=r.match(/\[\d+\]$/g);s=s[0].substring(1,s[0].length-1),ao(o,Number(s),n)})(t,n,e),deleteEntry:(t,n)=>((e,t,n)=>{const r=t.getContextName(),o=t.getReferenceList(),s=n||t.getPageReference();ro(t),so(r,`${o}[${e}]`);const a={instruction:nt.LIST_ACTIONS.DELETE};eo[r].push({...a,target:oo(o),listIndex:e+1}),ui(Ba({...a,listIndex:e,context:r,referenceList:s}))})(t,e,n),reorder:(t,n)=>((e,t,n)=>{const r=n.getContextName(),o=n.getReferenceList(),s=n.getPageReference();ro(n),so(r,`${o}[${t}]`);const a={instruction:nt.LIST_ACTIONS.MOVE};eo[r].push({...a,target:oo(o),listMoveToIndex:t+1,listIndex:e+1}),ui(Ba({...a,listIndex:e,listMoveToIndex:t,context:r,referenceList:s}))})(t,n,e),setSelectedRows:t=>((e,t)=>new Promise((n=>{var r;const{selectionMode:o,selectionList:s,required:a}=t.getConfigProps(),i=o===nt.LIST_SELECTION_MODE.MULTI,c=t.getContextName();let l=t.getPageReference(),u=i?s.substring(1):l.substring(l.lastIndexOf(".")+1);const p=t.getRawMetadata();let d=null;const h=null!==p.config.dataRelationshipContext&&"SimpleTableSelect"===p.type&&"single"===(null===(r=p.config)||void 0===r?void 0:r.selectionMode);h&&(u=p.config.dataRelationshipContext,d=l.concat(".").concat(u),l=d);const f=i?`${l}${s}`:l,{datasource:{parameters:g={}}={}}=i?t.getFieldMetadata(`${nt.PROPERTY_ANNOTATION} .${u}`):t.getCurrentPageFieldMetadata(d);if(i){let n=u;0===f.indexOf(tt.CASE_INFO.CASE_INFO_CONTENT)&&(n=f.substr(tt.CASE_INFO.CASE_INFO_CONTENT.length));const r=t.getValue(f)||[];ro(t);const o=[];let s=r.length;e.forEach((e=>{const t=co(g,e,u),a=Object.entries(t);let i=r.findIndex((e=>a.every((([t,n])=>e[t]===n))));-1===i?(i=s,e.$selected&&(s+=1)):s=s?s-1:0,eo[c].push({instruction:e.$selected?nt.LIST_ACTIONS.INSERT:nt.LIST_ACTIONS.DELETE,content:t,target:oo(n),listIndex:i+1}),o.push({instruction:e.$selected?nt.LIST_ACTIONS.SELECT:nt.LIST_ACTIONS.DESELECT,listIndex:i,content:{...t}})})),ui(Ba({instruction:nt.LIST_ACTIONS_TYPE.SELECT_DESELECT,context:c,referenceList:`${l}.${u}`,actions:o}))}else{const n=co(g,e[0],u);t.getActionsApi().updateFieldValue("",n,h&&{contextPageReference:l}),t.getActionsApi().triggerFieldChange("",n)}((e,t,n,r,o)=>{const s=e.getValue(t)||{};n&&Object.keys(s).length>0&&e.clearErrorMessages({property:r?o:e.getStateProps().value})})(t,f,a,i,u),n()})))(t,e),getSelectedRows:(t=!1)=>((e,t)=>{var n;const{selectionMode:r,selectionList:o}=t.getConfigProps(),s=[];let a=t.getPageReference();const i=r===nt.LIST_SELECTION_MODE.MULTI;let c=i?o.substring(1):a.substring(a.lastIndexOf(".")+1);const l=t.getRawMetadata();let u=null;null!==l.config.dataRelationshipContext&&"SimpleTableSelect"===l.type&&"single"===(null===(n=l.config)||void 0===n?void 0:n.selectionMode)&&(c=l.config.dataRelationshipContext,u=a.concat(".").concat(c),a=u);const p=i?`${a}${o}`:a;let d=t.getValue(p)||[];if(Array.isArray(d)||(d=[d]),e)return Promise.resolve(d);const{datasource:{parameters:h={}}={}}=i?t.getFieldMetadata(`${nt.PROPERTY_ANNOTATION} .${c}`):t.getCurrentPageFieldMetadata(u);return d.forEach((e=>{let t="";Object.values(h).forEach((n=>{if(io(n,c)){const r=n.substring(n.lastIndexOf(".")+1);t=`${t}${e[r]}`}})),t.trim()&&s.push(t.trim())})),Promise.resolve(s)})(t,e)}),{APP:uo}=nt;let po={};const ho="You will lose unsaved changes. Do you want to continue?",fo=(e=uo.APP,t)=>{let n=[];t||(n=(e=>{const t=xn(),n=[];if(t[e])for(const r in t[e].fieldOrder)!Object.prototype.hasOwnProperty.call(t[e].fieldOrder,r)||!1!==t[e].fieldOrder[r].getConfigProps().visibility&&!1!==t[e].fieldOrder[r].isMounted||n.push(r);return n})(e));const r={},o=po[e];for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&-1===n.indexOf(e)&&et.buildObject(e,r,o[e].value);return r},go=e=>{var t;const{context:n}=e,r=e.reference.startsWith(".")?e.reference.substr(1):e.reference;null===(t=po[n])||void 0===t||delete t[r]},yo=e=>po[e]&&Object.keys(po[e]).some((t=>po[e][t].initialValue!==po[e][t].value)),mo=e=>{e&&po[e]?po[e]={}:"all"===e&&(po={})},Io=e=>e=>t=>{const{type:n,payload:r={}}=t||{};var o;if(n===ot&&(Xr(r),(e=>{const t=et.getPropertyName(e.propertyName),{context:n,pageReference:r,value:o}=e;si.triggerCascade(n,`${r}.${t}`,o);const s=Qr.getDependencies(n,`${r}.${t}`),a={context:n,datapages:{}};s.forEach((t=>{var o;const s=t.replace(`${r}`,"").split(".").filter((e=>!!e));s.pop();const i=s.join("."),c=(null===(o=fi(`.${i}`,r,n))||void 0===o?void 0:o.classID)||e.classID,l=an(t.split(".").pop(),c),{datasource:u}=l,p={};let d=[];u.parameters.forEach((e=>{null!=e&&e.value?(p[e.name]=Zr.isProperty(e.value)?fi(`.${et.getFullPropertyReference([i,et.getPropertyName(e.value)])}`,r,n):e.value,void 0===p[e.name]||null===p[e.name]||""===p[e.name]?(p[e.name]="",d.push(nt.NULL_STRING)):d.push(p[e.name])):(p[e.name]="",d.push(nt.NULL_STRING))})),d=u.name.concat(nt.UNDERSCORE_STRING,et.getHashedString(d.join(nt.HASH_DELIMITER)));const{name:h}=u,f=hn(h);a.datapages[d]={mode:u.mode,propertyName:t,name:u.name,dataViewParameters:p,refreshStrategy:null==f?void 0:f.refreshStrategy}})),s.length&&ui({type:zt,payload:a})})(r),(((e,t)=>{if(!e||!t)return!1;const n=po[e]&&po[e][t];return!!n&&n.previousValue!==n.value})(r.context,r.reference)||(o=r.context,r.reference,o&&eo[o]&&(1===eo[o].length&&Object.keys(eo[o][0].content).length>0||eo[o].length>1)))&&ni(r)),n===Xt){const{context:e,referenceList:t}=r;ni({context:e,pageReference:t})}if(n===rt){const{reference:e}=r;(class{static isPageInstruction(e){return e&&e.includes("[")&&e.includes("]")}}).isPageInstruction(e)||(e=>{const{payload:t}=e,{context:n,initialValue:r="",isStrictTracking:o}=t,s=t.reference.startsWith(".")?t.reference.substr(1):t.reference;po[n]=po[n]||{},po[n][s]?po[n][s].previousValue=po[n][s].value:(po[n][s]={initialValue:r||fi(t.reference,null,n)},po[n][s].previousValue=po[n][s].initialValue),po[n][s].value=t.value,o&&po[n][s].value===po[n][s].initialValue&&go(t)})(t),r.removePropertyFromChangedList&&go(r)}if(n===Ot||n===Nt){const{transientItemID:e,data:t}=r;et.iterateLeafNodes(t,(t=>{go({context:e,value:"",reference:t.join(".")})}))}n&&[Dt,St,wt].includes(n)&&(mo(r.context),Xa(r.context),(r.childContainersContexts||[]).forEach((e=>{mo(e)})),(r.transientItems||[]).forEach((e=>{mo(e)}))),e(t)},Eo=fo,Ao={},_o=(e,t)=>{e.DeclareExpressions&&((e={})=>{et.copy(e,Jr)})({[t.context]:e.DeclareExpressions})},vo=(e,t,n=!1)=>{const r=et.getIn(e,nt.RESOURCERS);r&&((e=>{e&&un(e)})(r),_o(r,t),(e=>{var t;e.Theme&&(t=e.Theme,et.copy(t,Ao))})(r)),n||Hr({...e,options:t})},So=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getTypes",{SCRIPT:"script",STYLE:"link"}),this.loaderObj={},this.staticServerURL="",this.constellationServiceUrl="",this.loadedAssets={},this.appAlias="",this.b2sJWT=null}getStaticServerUrl(){return this.staticServerURL}getConstellationServiceUrl(){return this.constellationServiceUrl}setAppAlias(e){this.appAlias=e}getAppAlias(){return this.appAlias}async getSvcComponentsConfig(e,t={}){var n,r;let o="",s=0;e.forEach((e=>{o+=`${0===s?"?":"&"}field${s}=${e.field}&value${s}=${e.value}`,s+=1}));const a=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/componentslist${o}`,i=await fetch(a,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>e.json())).then((e=>({data:e})));if(t.alternateDesignSystemURL&&1===(null==i||null===(n=i.data)||void 0===n||null===(r=n.components)||void 0===r?void 0:r.length)){const n=`${t.alternateDesignSystemURL}${t.alternateDesignSystemURL.endsWith("/")?"":"/"}components/${e[0].value}/config-ext.json`;await fetch(n,{method:"GET"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>(i.data.components[0].alternateDesignSystemConfig=e,{data:e}))).catch((e=>{i.data.components[0].alternateDesignSystemConfig={error:e.message}}))}return i}getSvcImage(e){const t=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/image/${e}`;return fetch(t,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>e.blob())).catch()}getSvcLocale(e,t){const n=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/locales/${e}/${t}`;return fetch(n,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}})}getSvcComponent(e){const t=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/component/${e}`;return fetch(t,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>{if(!e.ok)throw Error(e.statusText);return e})).then((e=>e.text())).then((e=>e)).catch()}loadSvcComponent(e){return this.getSvcComponent(e).then((t=>{const n=document.createElement("script");return n.type="text/javascript",n.innerHTML=t,document.head.appendChild(n),e}))}initServer(e,t){this.staticServerURL=e;const n=e.lastIndexOf("/",e.length-2);n>0&&(this.constellationServiceUrl=e.substring(0,n)),this.b2sJWT=t}register(e,t){this.loaderObj[e]=t}getLoader(e){let t={};return t=e?this.loaderObj[e]:(e,t)=>new Promise(((n,r)=>{const o=document.createElement(t);"script"===t?(o.onload=()=>{n(e)},o.onerror=()=>{r(e)},o.type="text/javascript",o.charset="UTF-8",o.async=!1,o.src=e):(o.type="text/css",o.rel="stylesheet",o.href=e),document.head.appendChild(o)})).catch(),t}loadAssets(e){if(!e)return Promise.resolve();const t=[];return e.forEach((e=>{this.loadedAssets[e]||(-1!==e.indexOf(".js")?t.push(this.getLoader()(this.getStaticServerUrl()+e,this.getTypes.SCRIPT)):-1!==e.indexOf(".css")&&this.getLoader()(this.getStaticServerUrl()+e,this.getTypes.STYLE),this.loadedAssets[e]=!0)})),Promise.all(t)}},bo="component-loader",Co={},Po=async(e,t)=>{const n=So.getLoader(),r=t||So.staticServerURL;if(!e||window.PCore&&!1===window.PCore.getBehaviorOverride("dynamicLoadComponents"))return Promise.resolve();if(So.getLoader(bo))return await So.getLoader(bo)(e||[],r);const o=[];return e.forEach((e=>{if(Co[e])return;const t=In.getComponent(e);if(t)(t.scripts||[]).forEach((e=>{const t=e.startsWith("http")?e:r+e;o.push(n(t,So.getTypes.SCRIPT))})),(t.styles||[]).forEach((e=>{o.push(n(r+e,So.getTypes.STYLE))})),Co[e]=!0;else{const t=`${So.getConstellationServiceUrl()}/v860/${So.getAppAlias()}/component/${e}.js`;o.push(n(t,So.getTypes.SCRIPT))}})),Promise.all(o)},To=new Map,Oo=e=>{if(e){const t=e.toLowerCase();let n="primary";return To.has(t)&&(n=To.get(t)),n}return""},No="pxOperator",Ro="pxApplication",Do="pxLocale";class xo{static setEnvironmentInfo(e){this.environmentInfoObject=e}static getOperatorName(){return this.environmentInfoObject[No].pyUserName}static getOperatorWorkGroup(){return this.environmentInfoObject[No].pyWorkGroup}static getOperatorIdentifier(){return this.environmentInfoObject[No].pyUserIdentifier}static getOperatorImageInsKey(){return this.environmentInfoObject[No].pyImageInsKey}static getApplicationLabel(){return this.environmentInfoObject[Ro].pyLabel}static getPortalName(){return Rr.getPortalName()}static getApplicationName(){return this.environmentInfoObject[Ro].pyRuleName}static getUseLocale(){return this.environmentInfoObject[Do].pyUseLocale}static getAccessGroup(){return this.environmentInfoObject[No].pyAccessGroup}static getTimeZone(){return this.environmentInfoObject[Do].pyTimeZone}static getTheme(){return this.themeOverrides}static setTheme(e){return this.themeOverrides=e,this.themeOverrides}static setLocale(e){this.locale=e.replace("_","-")}static getEnvironmentKeys(){return Object.keys(nt.ENV_INFO_KEYS)}static getMaxAttachmentSize(){return this.environmentInfoObject[Ro].pyMaxAttachmentSize}static getDefaultOperatorDP(){return this.environmentInfoObject[Ro].pyDefaultOperatorDP}static getDocumentUrlDP(){return this.environmentInfoObject[Ro].pyDocumentUrlDP}static getCaseInstanceListDP(){return this.environmentInfoObject[Ro].pyCaseInstanceListDP}static getBaseLocale(){return this.environmentInfoObject[Ro].pyBaseLocale||"en-US"}static getRenderingMode(){return this.environmentInfoObject.renderingMode}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xo,"getLocale",(()=>xo.locale));const wo=xo,Mo=e=>{if(e){const{stageID:t,stages:n=[]}=e,r=n.length;for(let e=0;e<r;e+=1)if(n[e].ID===t)return"create"===n[e].transitionType&&"active"===n[e].visited_status}return!1},Lo=(e,t)=>{if(e&&t){const n=et.getIn(t,["assignments","0","assigneeInfo"],{}),{ID:r,type:o}=n;return"worklist"===o&&r===e}return!1},jo=e=>{const{activeActionID:t,availableActions:n}=e;if(t&&n){const e=n.find((e=>e.ID===t));return Boolean(e)}return!1},Uo=(e,t)=>{const n=Ya.getProperyValue(tt.CASE_INFO.ACTIVE_ACTION_ID,t,e),r=Ya.getProperyValue(tt.CASE_INFO.AVAILABLEACTIONS,t,e);let o=!1;if(r&&n){const e=r.find((e=>e.ID===n));e&&(o=e.type.toLowerCase()===tt.LOCAL_ACTION_TYPE.CASE_WIDE.toLowerCase())}return o},ko=e=>{var t;const n=null==e||null===(t=e.parentCaseInfo)||void 0===t?void 0:t.ID;return Boolean(e&&n)},Vo=e=>gi(null,nt.CASE_VIEW_MODE_PROP,e)===nt.PERFORM_MODE&&(-1!==e.indexOf(nt.WORKAREA)||-1!==e.indexOf(nt.MODAL)),Fo={CASE_INFO:`${nt.DATA}.${nt.CASE_INFO.CASE_INFO}`,CASE_CLASS_NAME:`${nt.DATA}.${nt.CASE_INFO.CASE_TYPE_ID}`,NEXT_ASSIGNMENT_INFO_ID:`${nt.DATA}.${nt.NEXT_ASSIGNMENT_INFO_ID}`,ASSIGNMENTS:`${nt.DATA}.${nt.CASE_INFO.ASSIGNMENTS}`,CASE_INFO_ID:`${nt.DATA}.${nt.CASE_INFO.CASE_INFO_ID}`,CASE_FIRST_FLOW_ACTION_NAME:`${nt.DATA}.${nt.CASE_INFO.ASSIGNMENTACTION_ID}`,CASE_FIRST_ASSIGNMENT_ID:`${nt.DATA}.${nt.CASE_INFO.ASSIGNMENT_ID}`},$o=(e,t)=>{const{vcName:n,containerName:r}=t;return r||n||Oo(e)},Go=e=>{const t=e.lastIndexOf(nt.FORWARD_SLASH_STRING)+1,n=e.lastIndexOf(nt.UNDERSCORE_STRING);return e.substring(t,n)},Bo=e=>e===Ts.WORKAREA,Wo=e=>e===Ts.MODAL,Ho=e=>e===Et,qo=e=>et.getIn(e,Fo.CASE_INFO,{}),Yo=e=>{const[,t]=e?e.split(" "):[];return t},zo=e=>et.getIn(e,Fo.CASE_CLASS_NAME,nt.EMPTY_STRING),Ko=e=>et.getIn(e,Fo.CASE_INFO_ID,nt.EMPTY_STRING),Jo=(e,t)=>{const{removeActionPayload:n,target:r}=t;if(n&&n.containerItemID){const{containerItemID:t,context:o}=n;e.push(Va(xa,{containerItemID:t,context:o||Fs(t),target:r}))}},Xo=e=>{const t=li();if(!e)return!1;const n=pr(e),r=ea(n),o=ea(e);if(!r||!o)return!1;const s=Rs(r,n),a=Rs(o,e);if(!s||!a)return!1;const{key:i}=s||{};let{key:c}=a||{};var l,u,p;return c||(c=null===(l=t.getState().data)||void 0===l||null===(u=l[e])||void 0===u||null===(p=u.caseInfo)||void 0===p?void 0:p.ID),i&&c&&i===c},Qo=(e,t,n={})=>{const{skipFlowNameUpdate:r}=n,o=Ko(t);if(et.setIn(e,"key",o),!r&&(e=>{const t=et.getIn(e,Fo.ASSIGNMENTS,[]);return t&&t.length>0})(t)){const n=(e=>et.getIn(e,Fo.CASE_FIRST_ASSIGNMENT_ID,nt.EMPTY_STRING))(t),[,r]=n.split("!");et.setIn(e,"flowName",r)}},Zo=(e,t)=>{const{attachmentsExist:n}=t;n&&et.setIn(e,tt.SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME,(new Date).toLocaleString()),et.setIn(e,tt.SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME,(new Date).toLocaleString())};function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ts{constructor(){es(this,"GENERIC_BUNDLE_KEY","@BASECLASS!GENERIC!PYGENERICFIELDS"),es(this,"BASE_CLASS","@BASECLASS"),es(this,"DATA_PAGE_LOCALECONTEXT","datapage"),es(this,"setLocaleForRule",((e,t)=>{const n=e.LocaleContent||e;this.localeStore[t]=n})),es(this,"getLocaleForRule",((e=this.GENERIC_BUNDLE_KEY)=>this.localeStore[e])),es(this,"resetLocaleStore",(()=>{this.localeStore={}})),this.localeStore={},this.getLocaleValue=this.getLocaleValue.bind(this)}getLocaleValue(e,t,n=this.GENERIC_BUNDLE_KEY){t=t?`${t}.fields`:"fields";const r=this.localeStore[n.toUpperCase()];return(r?et.getIn(r,t,{}):{})[e]||e}static async getLocaleJsons(e){const t=wo.getUseLocale(),n=[],r=PCore.getLocaleUtils().localeStore;if((e=(e=e.filter((e=>!r[e]))).map((e=>e.toUpperCase()))).length>0){const r=e.map((e=>({localeRuleKey:e,promise:So.getSvcLocale(t,`${e}.json`)}))),o=await Promise.allSettled(r.map((e=>e.promise)));await Promise.all(o.map((async(e,t)=>{if("fulfilled"===e.status){const o=r[t];let s;try{s=await e.value.json()}catch{s=null}s&&n.push({localeRuleKey:o.localeRuleKey,jsonData:s})}})))}return n}async loadLocaleResources(e){const t=wo.getUseLocale(),n=wo.getBaseLocale();if(wo&&t&&t!==n&&(null==e?void 0:e.length)>0)try{(await ts.getLocaleJsons(e)).forEach((e=>{this.setLocaleForRule(e.jsonData,e.localeRuleKey)}))}catch(e){console.warn(e)}}setTimezone(e){this.timezone=e}getTimeZoneInUse(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return this.timezone||e}}const ns=new ts,{RESOURCE_TYPES:rs}=tt,os={PAGE:"page",FORM:"form"},ss={[rs.CASE]:[Ft,kt,Vt],[rs.PAGE]:[jt],[rs.DATA]:[Ut]},as=(e,t,n={})=>{if(!e)return{};const r={etag:e.etag},{RemoteSystemID:o}=n;return e[tt.REMOTE_SYSTEM_ID]||e[tt.REMOTE_SYSTEM_ID.toLowerCase()]||o?r.RemoteSystemID=e[tt.REMOTE_SYSTEM_ID]||e[tt.REMOTE_SYSTEM_ID.toLowerCase()]||o:Or.isRemoteCase(t)&&(r.RemoteSystemID=Or.getRemoteHeader(t)),r},is=(e,t={})=>{const{onlyChangedData:n=!1}=t;let r={};n||(r=((e,t={})=>{const n={},r=pi(e),{ignoreFieldsInsideList:o=!0}=t;if(r&&r.caseInfo&&r.caseInfo.content){const{formInputs:t,attachments:s}=((e,t={})=>{const n=[],r=[],o=xn(),{ignoreFieldsInsideList:s=!0}=t;if(o[e])for(const t in o[e].fieldOrder)if(Object.prototype.hasOwnProperty.call(o[e].fieldOrder,t)){const a=o[e].fieldOrder[t],i=wn(a),c=a.isInsideList();i&&("Attachment"===a.getMetadata().type?a.attachmentsInfo&&(a.attachmentsInfo.ID||a.attachmentsInfo.delete)&&r.push(a.attachmentsInfo):c&&(!c||s)||Array.isArray(a.getValue(t))||n.push(t))}return{formInputs:n,attachments:r}})(e,{ignoreFieldsInsideList:o});s&&s.length>0&&et.buildObject("caseInfo.attachments",n,s),t&&t.length>0?t.forEach((e=>{et.buildObject(e,n,et.getIn(r,e))})):et.buildObject("caseInfo.content",n,{})}return n})(e));const o=fo(e,!1),s=Be()(o,r);let a={},i=!1;if(s&&s.caseInfo){a={...s.caseInfo},s.caseInfo.attachments&&(i=!0);const t=eo[e]||[];t&&(a.pageInstructions=t),(e=>to[e]||[])(e).forEach((e=>{a&&a.content&&et.deleteIn(a.content,(e=>{if(!e)return"";const t=e.split(".");let n="";for(const e of t)if(e){if(-1!==e.indexOf("[")&&-1!==e.indexOf("]"))return n+=`['${e}']`,n;n+=`['${e}']`}return n})(e))}))}return et.escapeObject(a),{content:a,attachmentsExist:i}},cs=(e,t)=>{let n,r,o={};const s=et.getIn(e,nt.UI_RESOURCERS),a=et.getIn(e,"confirmationNote");s?(n=et.getIn(e,nt.UI_RESOURCERS_CONTEXT_DATA),r=et.getIn(e,nt.ROOT),o=et.getIn(e,nt.ACTION_BUTTONS)):a&&(r={});const{data:i={},Errors:c,semanticURL:l,key:u,flowName:p}=e,d=et.getIn(e,"nextAssignmentInfo",null),h=et.getIn(e,"nextAssignmentInfo.context",""),{isInCreateStage:f,openCaseViewAfterCreate:g}=t;return{data:{...i,key:u,flowName:p,caseInfo:{...i.caseInfo,actionButtons:o,headers:t.headers},[nt.CONTEXT_DATA]:f?{...i[nt.CONTEXT_DATA],...n,openCaseViewAfterCreate:g,errors:c}:{...i[nt.CONTEXT_DATA],...n,errors:c}},semanticURL:l,nextAssignmentInfo:d,assignmentContext:h,key:u,root:r,...t}},ls=async(e,t,n,r=!1,o=!1)=>{const s=et.getIn(e,nt.LOCALE_REFERENCES);await ns.loadLocaleResources(s);const a=et.getIn(e,nt.COMPONENTS);if(a)try{await Po(a)}catch(e){console.error(e)}const i={actionConfig:t,...n};r?Hr({...e,options:i,directUrlUpdation:!0}):vo(e,i,o)},us=(e="")=>{const t=e.indexOf(" "),n=e.indexOf("!");return e.substring(t+1,n)},ps=e=>{if(e){const[,t]=e.split("!");return{key:us(e),flowName:t}}return{}},ds=e=>{const{payload:t}=e,{err:n,context:r,actionMgrID:o}=t,s=n&&n.response?n.response.data:"",a=(e=>{const t=xn(),n=[];if(t[e])for(const r in t[e].fieldOrder)Object.prototype.hasOwnProperty.call(t[e].fieldOrder,r)&&!1!==t[e].fieldOrder[r].getConfigProps().visibility&&n.push(r.substring(r.indexOf("content")+8));return n})(r);return o&&Vn.rejectActionByID(o),Va(Fa,"Error action triggered",s,r,a)},hs=(e,t)=>Hs(e)&&Ys(e)?Va(La,t):Va(Sa,t),fs=(e,t,n=nt.APP.APP,r={})=>{let o=null;const{buildNew:s=!0}=r;return Hs(e)?o=Ys(e)?ks(e):dr(t,n):qs(e)&&(Ys(e)&&!s?o=$s(e):Ys(e)&&!s||(o=dr(t,n))),o},gs=e=>e&&e.type===vt,ys=e=>{let t=!1;const n=Ws(e);for(let e=0;e<n.length;e+=1){const r=n[e];if(r&&yo(r)){t=!0;break}}return t},ms=(e,t={})=>{let n=!1,r=!1,o={},s=!0,a=!1,i=!1;const{showConfirmDialogForMaxDocumentLimitReached:c=!1,dirtyMessage:l,skipChildDirtyState:u=!1}=t;if(Hs(e)){const t=ks(e),r=Fs(t);yo(r)&&(n=!0),u||n||(n=ys(t))}else if(qs(e)&&Js(e)){let t=Zs(e);t||(t=ks(e),r=!0),o.containerItemID=t,o.context=Fs(t)}if(n){const e=l||ho;a=window.confirm(ns.getLocaleValue(e,"Messages"))}if(!a&&n&&(o={},s=!1),r){const e=ns.getLocaleValue("You have reached maximum limit of pending changes. Please commit/cancel one or more changes to continue.","Messages");c?i=window.confirm(e):(window.alert(e),s=!1)}return!i&&r&&(o={},s=!1),{continueExecution:s,removeActionPayload:o}},Is=(e,t)=>{let n=!1;const{insKey:r,isParallelCall:o,skipFlowNameCheck:s}=t;if(!r)return{};const[,a]=r.split("!")||"",i=s?r:us(r),c=Ls(e,i);let l={},u=!1;if(c&&(n=!0,l=Rs(e,c),!s)){var p;let e=null===(p=l)||void 0===p?void 0:p.flowName;const t=Go(c),r=Gs(c);if(r.length){var d;const n=Dr(t,r[0]);e=null===(d=Rs(n,r[0]))||void 0===d?void 0:d.flowName}else n=e===a;(e!==a||o)&&(u=!0)}return{activate:n,activateContainerActionPayload:{target:e,isParallelAssignment:u,containerItemID:c,semanticURL:l.semanticURL,insKey:r}}},Es=(e,t,n)=>e===rs.PAGE?((e,t={})=>{let n=!1;const{semanticURL:r}=t,o=Ls(e,r);return o&&(n=!0),{activate:n,activateContainerActionPayload:{target:e,containerItemID:o,semanticURL:r}}})(t,n):e===rs.ASSIGNMENT?Is(t,n):e===rs.CASE?Is(t,{...n,skipFlowNameCheck:!0}):{},As=(e=[])=>{Ys(`${nt.APP.APP}/${nt.PREVIEW}`)&&e.push(Va(va,Xs({context:tt.APP.APP,name:nt.PREVIEW})))},_s=e=>{let t;for(const n of Object.keys(ss))if(ss[n].includes(e)){t=n;break}return t},vs=(e,t)=>{const{data:n={},context:r,caseViewMode:o}=e,s={data:{...n},caseViewMode:o,context:pr(r)};et.deleteIn(s.data,"shared"),et.setIn(s.data,["context_data","caseViewMode"],o),t.push({type:Qt,payload:{context:s.context}}),t.push(Va(ga,s))},Ss=e=>{if(Array.isArray(e)&&e.length>0){const r=e[0];if("other"===et.getIn(r,["payload","assignmentContext"])){var t,n;const o=et.getIn(r,["payload","nextAssignmentInfo","ID"]);if(null!=r&&null!==(t=r.payload)&&void 0!==t&&t.isProcessAction){const t={acName:et.getIn(r,["payload","target"]),caseID:r.payload.data.caseInfo.ID,containerItemID:et.getIn(r,["payload","context"]),context:et.getIn(r,["payload","context"])},n={type:ft,payload:{...t}};e.push(n),e=e.filter((e=>{var t,n;return null==e||null===(t=e.payload)||void 0===t||null===(n=t.data)||void 0===n||delete n.caseMessages})),ui(e),e=e.filter((e=>e.type!==ft))}const s={assignmentID:o,vcName:nt.PRIMARY,targetContainerName:et.getIn(r,["payload","target"]),context:et.getIn(r,["payload","context"]),isChild:!0,isProcessAction:null==r||null===(n=r.payload)||void 0===n?void 0:n.isProcessAction},a={type:gt,payload:{...s}};e.push(a),ui(e)}else ui(e)}},bs=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"error",(e=>{console.error(e)}))}},Cs={defaultLimit:16},Ps={SINGLE:"single",MULTIPLE:"multiple"},Ts={PRIMARY:"primary",WORKAREA:"workarea",MODAL:"modal",PREVIEW:"preview"},Os=()=>li().getState().containers,Ns=e=>e?li().getState().containers[e]:(bs.error("getContainerData: target is the required parameter"),null),Rs=(e,t)=>{if(!e||!t)return bs.error("getContainerItemData: target and containerItem are required parameter"),null;const n=Os()[e];return n&&n.items&&n.items[t]||null},Ds=e=>{var t;return e?(null===(t=li().getState().containers[e])||void 0===t?void 0:t.items)||{}:(bs.error("getContainerItems: target is the required parameter"),null)},xs=e=>{var t;return e?(null===(t=li().getState().containers[e])||void 0===t?void 0:t.accessedOrder)||[]:(bs.error("getContainerAccessOrder: target is the required parameter"),[])},ws=e=>{var t;return e?(null===(t=xs(e))||void 0===t?void 0:t.length)>0||!1:(bs.error("areContainerItemsPresent: target is the required parameter"),!1)},Ms=(e,t,n)=>{if(!e||!t)return bs.error("isContainerItemExists: target and key are required parameters"),!1;const r=Os()[e],o=r&&r.items||null,s=n||((e,t)=>e===t);if(t&&o)for(const e in o)if(s(t,o[e].key))return!0;return!1},Ls=(e,t,n)=>{if(!e||!t)return bs.error("getContainerItemName: target and key are required parameters"),null;const r=Os()[e],o=r&&r.items||null,s=n||((e,t)=>e===t);if(t&&o)for(const e in o)if(s(t,o[e].key))return e;return null},js=(e,t)=>{if(!e||!t)return bs.error("isContainerInitialized: context and name are required parameters"),!1;const n=Os();return n&&Object.prototype.hasOwnProperty.call(n,`${e}/${t}`)},Us=(e,t)=>{if(!e||!t)return bs.error("getContainerType: context and name are required parameters"),null;const n=Os()[`${e}/${t}`];return n&&n.type},ks=e=>{if(!e)return bs.error("getActiveContainerItemName: target is the required parameter"),null;let t=null;const n=Os();if(n&&n[e]){const r=n[e],{accessedOrder:o}=r;t=o&&o.length>0?o[o.length-1]:null}return t},Vs=(e,t,n)=>{if(!e||!t)return bs.error("isContainerItemActive: target and key are required parameters"),!1;const r=Ls(e,t,n);return!!r&&r===ks(e)},Fs=e=>{if(!e)return bs.error("getDataContextName: containerItemName is required parameters"),null;let t=null;const n=Os();for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r].items){const o=n[r].items[e];if(t=o?o.context:null,t)break}return t},$s=e=>{if(!e)return bs.error("getActiveContainerItemContext: target is required parameters"),null;let t=null;const n=Os();if(n&&n[e]){const r=n[e],{accessedOrder:o}=r,s=o&&o.length>0?o[o.length-1]:null;t=Fs(s)}return t},Gs=e=>{if(!e)return bs.error("getChildContainerItems: containerItemName is required parameters"),[];const t=e.endsWith("/")?e:`${e}/`;let n=[],r=!1;const o=Os(),s=n=>{const o=[];return Object.keys(n).forEach((n=>{n.startsWith(t)&&n!==t&&o.push(n),n===e&&(r=!0)})),o};for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&o[e].items){const t=s(o[e].items);t&&t.length>0&&(n=n.concat(t)),n=n.sort()}return r?n:[]},Bs=e=>{if(!e)return bs.error("getChildContainers: containerItemName is required parameters"),[];const t=[],n=Os();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&r.startsWith(e)&&r!==e&&t.push(r);return t},Ws=e=>{if(!e)return bs.error("getChildContainersContexts: parentContainerItemID is required parameters"),[];const t=[],n=Os();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&r.startsWith(e)&&r!==e&&(xs(r)||[]).forEach((n=>{Fs(n)!==e&&t.push(Fs(n))}));return t},Hs=e=>e?e&&Ns(e)&&Ns(e).type===Ps.SINGLE:(bs.error("isContainerSingleMode: target is required parameters"),null),qs=e=>e?e&&Ns(e)&&Ns(e).type===Ps.MULTIPLE:(bs.error("isContainerMultipleMode: target is required parameters"),null),Ys=e=>{var t;return e?Ns(e)&&Ns(e).items&&Object.keys(null===(t=Ns(e))||void 0===t?void 0:t.items).length>0||!1:(bs.error("hasContainerItems: target is required parameters"),!1)},zs=e=>e&&Cs[e]?Cs[e]:Cs.defaultLimit,Ks=(e,t=Cs.defaultLimit)=>{e?Cs[e]=t:bs.error("setContainerLimit: target is required parameter")},Js=e=>{if(!e)return bs.error("isContainerLimitReached: target is required parameter"),!1;let t=!1;const n=Ns(e),{items:r={}}=n,o=Object.keys(r),s=zs(e);return o&&o.length>0&&o.length>=s&&(t=!0),t},Xs=e=>{if(!e||!e.name||!e.context)return bs.error("resetContainersPayload: containerInfo object should contain name and context"),null;const t=null==e?void 0:e.name,n=`${null==e?void 0:e.context}/${t}`,r=Ns(n),o=Array.isArray(null==r?void 0:r.accessedOrder)&&(null==r?void 0:r.accessedOrder.map((e=>{var t;return null==r||null===(t=r.items[`${e}`])||void 0===t?void 0:t.context})))||[],s=Bs(`${nt.APP.APP}/${nt.PREVIEW}`),a=Ws(`${nt.APP.APP}/${nt.PREVIEW}`);return{context:null==e?void 0:e.context,name:t,containerItems:[...o,...a],childContainers:s}},Qs=e=>{if(!e)return bs.error("isContainerDirty: containerItemID is the required parameter"),!1;const t=Fs(e);return yo(t)||ys(e)},Zs=e=>{if(!e)return bs.error("getLeastRecentlyUsedNonDirtyContainerItemID: target is required parameter"),null;let t;const n=Ns(e),{accessedOrder:r=[]}=n;for(let e=0;e<r.length;e+=1){const n=r[e];if(!Qs(n)){t=n;break}}return t},ea=e=>{if(!e)return bs.error("getTargetFromContainerItemID: containerItemID is the required parameter"),null;const t=e.lastIndexOf(nt.UNDERSCORE_STRING);return e.substring(0,t)},ta=(e,t={})=>{if(!e)return bs.error("closeContainerItem: containerItemID is the required parameter"),Promise.reject(new Error("closeContainerItem: containerItemID is the required parameter"));const n=ea(e),r=Fs(e),{skipDirtyCheck:o}=t;let s=!0,a=[];if(Qs(e)&&!o&&(s=window.confirm(ns.getLocaleValue(ho,"Messages"))),s){const{accessedOrder:t=[],items:o={}}=Ns(n);a=t.filter((t=>t!==e));const s=a[a.length-1],i=o[s]||{},{semanticURL:c=nt.FORWARD_SLASH_STRING,context:l}=i;a.length>0&&c&&c!==nt.FORWARD_SLASH_STRING&&Hr({directUrlUpdation:!0,semanticURL:c,options:{containerItemID:s,context:l}}),ui(xa({containerItemID:e,context:r,target:n}))}return Promise.resolve({newAccessedOrder:a})},na=(e,t,n,r)=>{const o="root",s=dr(t,o,!0),a=Dr(t,o),i={data:n,context:r?"app":s},c=[Sa({root:e,containerItemID:s,context:r?"app":s,target:a,containerName:t})];c.push(ga(i)),ui(c)},ra=(e,t,n)=>{let r=xs(e);r=r.filter((e=>e!==t));let o=!1;for(let e=0;e<r.length;e+=1)if(Fs(r[e])===n){o=!0;break}return o},oa=e=>{if(!e)return bs.error("isContainerItemContextBeingUsedInOtherContainers: containerItemID is the required parameter"),!1;const t=Os(),n=Fs(e),r=Object.keys(t);let o=!1;for(let t=0;t<r.length&&(o=ra(r[t],e,n),!o);t+=1);return o},sa=e=>{Array.isArray(e)||(e=[e]);const t=Os()||{};return e.map((e=>{const n=ea(e);return et.getIn(t,[n,"items",e,"transientItems"])||[]})).flat()},aa=e=>{const t=et.deepClone(li().getState().data[e]);et.iterateLeafNodes(t,(e=>et.setIn(t,e,""))),ui(Pa({transientItemID:e,data:t}))},ia=e=>{const t=et.deepClone(li().getState().data[e]);et.iterateLeafNodes(t,(e=>et.setIn(t,e,""))),ui(Ta({transientItemID:e,data:t}))};class ca{static addContainerItems(e){this.items=e}static getContainerItems(){return this.items}static deleteContainerItem(e){var t;const n=null==this||null===(t=this.items)||void 0===t?void 0:t.indexOf(e);void 0!==n&&-1!==n&&this.items.splice(n,1)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ca,"items",void 0);const la=()=>ca,ua=e=>{ui({type:Lt,payload:{containerName:e}})},pa=(e,t)=>{const n=Gs(e),{key:r}=Rs(ea(e),e),o=[];n.map((e=>{const{key:n}=Rs(ea(e),e);if(n===r){const n={data:{caseInfo:{headers:{etag:t}}},target:ea(e),context:e};o.push({type:mt,payload:n})}})),o.length&&ui(o)},da="CREATE_WORK",ha=e=>({type:da,payload:e}),fa=(e,t)=>{const n=[];for(const r in e)if("object"==typeof e[r]&&-1!==r.indexOf("[")){const o=r.substring(0,r.indexOf("[")),s=r.substring(r.indexOf("[")+1,r.indexOf("]"));t[o].splice(s,1,e[r]),n.push(o)}else"object"==typeof e[r]?fa(e[r],t[r]):t[r]=e[r];for(const r in t)(Array.isArray(t[r])&&-1===n.indexOf(r)||!Array.isArray(t[r])&&!Object.hasOwnProperty.call(e,r))&&delete t[r]},ga=e=>{var t,n;const{context:r,data:o,isArrayDeepMerge:s,preserveClientChanges:a=!1}=e,i=fo(r,!0),c=pi(r);let l={};c&&void 0!==c&&(l=JSON.parse(JSON.stringify(c))),fa(i,l);const u={caseInfo:{content:{...null===(t=l)||void 0===t||null===(n=t.caseInfo)||void 0===n?void 0:n.content}}};let p=o;return a&&(p=Ai(o,u,{isArrayDeepMerge:!s})),{type:mt,payload:{...e,data:p}}},ya=e=>({type:"SHOW_HARNESS",payload:e}),ma=e=>({type:st,payload:e}),Ia=e=>({type:at,payload:e}),Ea=e=>({type:"ADD_WORK",payload:e}),Aa=e=>({type:pt,payload:e}),_a=e=>({type:At,payload:e}),va=e=>({type:_t,payload:e}),Sa=e=>({type:vt,payload:e}),ba=e=>({type:bt,payload:e}),Ca=e=>({type:Ct,payload:e}),Pa=e=>({type:Ot,payload:e}),Ta=e=>({type:Nt,payload:e}),Oa=e=>({type:Dt,payload:e}),Na=e=>({type:xt,payload:e}),Ra=e=>({type:Rt,payload:e}),Da=e=>({type:Ht,payload:e}),xa=e=>{const{context:t,containerItemID:n}=e;let r=t;return r||(r=Fs(n)),e.context=r,e.deleteContext=!oa(n),e.childContainers=Bs(n),e.childContainersContexts=Ws(n),e.transientItems=sa([...e.childContainersContexts,n]),n===t&&(e.caseID=fi(nt.CASE_INFO.CASE_INFO_ID,"",t),e.RemoteSystemID=fi(nt.CASE_INFO.REMOTESYSTEMID,"",t)),{type:St,payload:e}},wa=e=>{const{containerItemID:t}=e;return e.transientItems=sa([...Ws(t),t]),{type:Tt,payload:e}},Ma=e=>{const{transientItemID:t}=e;return e.transientItems=[t],{type:Pt,payload:e}},La=e=>{const{context:t,containerItemID:n}=e;let r=t;return r||(r=Fs(n)),e.context=r,e.childContainers=Bs(n),e.childContainersContexts=Ws(n),e.transientItems=sa([...e.childContainersContexts,n]),n===t&&(e.caseID=fi(nt.CASE_INFO.CASE_INFO_ID,"",t),e.RemoteSystemID=fi(nt.CASE_INFO.REMOTESYSTEMID,"",t)),{type:wt,payload:e}},ja=e=>({type:ht,payload:e}),Ua=e=>({type:gt,payload:e}),ka=e=>({type:It,payload:e}),Va=(e,...t)=>(Zn(),e(...t)),Fa=(e,t,n,r)=>({type:Et,payload:{msg:e,err:t,context:n,formFields:r}}),$a=e=>({type:Kt,payload:e}),Ga=e=>({type:Jt,payload:e}),Ba=e=>({type:Xt,payload:e}),Wa=e=>({type:"SHOW_CASE_PREVIEW",payload:e}),Ha=nt.SUMMARY_OF_LISTS,qa=nt.SUMMARY_OF_WHEN_CONDITIONS,Ya=class{static updateData(e){Object.keys(e).forEach((t=>{ui(ga({context:t,data:e[t]}))}))}static updateContextData(e){Object.keys(e).forEach((t=>{ui(ga({context:t,data:e[t]}))}))}static resolveWhen(e,t){return!!t.getContextDataValue(`.${qa}.${e}`)}static resolveFieldValue(e,t){return t.getLocalizedValue(e)}static resolveNavigation(e,t){return dn([this.resolveName(e,t)])}static resolveView(e,t,n=""){const r=pn([this.resolveName(e,t)]);let o=[];return Array.isArray(r)&&r.length>0?(t&&(n||(n=t.getValue(nt.CLASS_ID)),o=r.filter((e=>e[nt.CLASSID]===n))),0===o.length?r[0]:o[0]):r}static resolveName(e,t){return 0===e.indexOf("param.")?(e=e.substring(6),t.getContextDataValue(`.$parameters.${e}`)):(e.startsWith("@")&&(e=An.handleAnnotation(e,t)),e)}static getContextPath(e,t){return"number"!=typeof t&&!t||"number"!=typeof(t=An.trimAnnotation(t))&&"string"!=typeof t?e:"number"==typeof t&&parseInt(t,10)===t?`${e}[${t}]`:"."===t.charAt(0)?e+t:t}static resolveReference(e,t){const{type:n}=e;let r;if("reference"===n){const{config:n}=e,o=n.type,{ref:s,name:a}=n;return"navigation"===o?r=this.resolveNavigation(s||a,t):"view"===o?r=this.resolveView(s||a,t):"widget"===o&&(r={type:"Widget",config:{name:n.name,ruleClass:n.ruleClass}}),r}return e}static resolvePropertyReference(e,t,n){return fi(t,e,n)}static getProperty(e,t,n){let r=this.resolvePropertyReference(t,e,n);if(null==r||0===r.length){const o=yi(`${t}.${Ha}`,e,n);o&&(r=this.resolvePropertyReference(t,o,n))}return r}static getProperyValue(e,t,n){return e=An.trimAnnotation(e),this.getProperty(e,t,n)}static _handlePropString(e,t,n,r){n.startsWith("@")?e[t]=An.handleAnnotation(n,r):e[t]=n}static _resolveProps(e,t){e&&Object.keys(e).forEach((n=>{const r=e[n];"string"==typeof r?this._handlePropString(e,n,r,t):Array.isArray(r)?r.forEach((n=>{this._resolveProps("object"==typeof n?n:e[n],t)})):"object"==typeof r&&this._resolveProps(e[n],t)}))}static resolveProps(e,t,n){return e&&t?(et.mergeDeep(e,t),this._resolveProps(t,n),t):t}},za="REFRESH_DATA",Ka=e=>({type:za,payload:e}),Ja={},Xa=e=>{e&&Ja[e]&&delete Ja[e]},Qa=function(e,t,n,r){var o,s=!1,a=0;function i(){o&&clearTimeout(o)}function c(){for(var e=arguments.length,c=new Array(e),l=0;l<e;l++)c[l]=arguments[l];var u=this,p=Date.now()-a;function d(){a=Date.now(),n.apply(u,c)}s||(r&&!o&&d(),i(),void 0===r&&p>100?d():!0!==t&&(o=setTimeout(r?function(){o=void 0}:d,void 0===r?100-p:100)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){i(),s=!0},c}(0,((e,t,n,r,o)=>{if(!(e&&n&&t))return;const s=o.actionMgrID||Vn.getNextActionMgrId();ui(Ka({ID:e,actionID:t,context:n,caseWideAction:r,contextData:!1,options:{actionMgrID:s}}))}),!1),Za=(e,t,n,r,o)=>{e&&n&&t&&ui(Ka({ID:e,viewID:t,context:n,caseViewAction:!0,contextData:!1,interestPage:r,options:o}))},ei=(e,t,n)=>{Ja[t]||(Ja[t]={}),Ja[t][e]||(Ja[t][e]={pageReference:n})},ti=(e,t,n)=>{const r=Uo(e,t),o=Ya.getProperyValue(tt.CASE_INFO.ACTIVE_ACTION_ID,t,e)?Ya.getProperyValue(tt.CASE_INFO.ACTIVE_ACTION_ID,t,e):Ya.getProperyValue(tt.CASE_INFO.ASSIGNMENTACTION_ID,t,e),s=r?Ya.getProperyValue(tt.CASE_INFO.CASE_INFO_ID,t,e):Ya.getProperyValue(tt.CASE_INFO.ASSIGNMENT_ID,t,e);Qa(s,o,e,r,n)},ni=e=>{const{context:t,pageReference:n}=e;(e=>Ja[e]&&Object.keys(Ja[e]).length>0&&Vo(e))(t)&&ti(t,n,{})},ri=new class{constructor(){this.components={}}_checkComponent(e,t){var n;return!(null===(n=this.components[t])||void 0===n||!n[e])}start(e,t,n,r,o){const s={viewName:e,pageReference:n,contextName:r,isInProgress:!0,active:!0,caseKey:t};this.components[r]=this.components[r]||{},this.components[r][o]=s}stop(e,t){this._checkComponent(e,t)&&(this.components[t][e].isInProgress=!1)}remove(e,t){this._checkComponent(e,t)&&delete this.components[t][e]}removeContext(e){delete this.components[e]}enableCascade(e){this.components[e]&&Object.values(this.components[e]).forEach((e=>{e.isInProgress&&(e.cascade=!0)}))}activate(e,t){this._checkComponent(e,t)&&(this.components[t][e].active=!0)}deactivate(e,t){this._checkComponent(e,t)&&(this.components[t][e].active=!1)}refreshActiveComponents(e){e&&this.components[e]&&Object.keys(this.components[e]).forEach((t=>{this.refreshComponent(t,e)}))}refreshComponent(e,t){if(!this._checkComponent(e,t))return;const n=this.components[t][e];if(n.active&&n.cascade){const{caseKey:e,viewName:r,pageReference:o}=n;Za(e,r,t,o,{})}}};class oi{constructor(){this.name="CascadeManager",this.cascadeSubscribers={}}registerFields(e,t,n=[],r,o){this.cascadeSubscribers[e]=this.cascadeSubscribers[e]||{},n.forEach((n=>{this.cascadeSubscribers[e][`${t}${n}`]=this.cascadeSubscribers[e][`${t}${n}`]||{};const s=this.cascadeSubscribers[e][`${t}${n}`];if(!s[o]){s[o]=r;const a=fi(n,t,e);s.previousValue="object"==typeof value?null:a}}))}registerListField(e,t,n,r,o){const s=oi._getFieldsForList(e,t,n);s.length>0&&(this.registerFields(e,t,s,r,o),ri.enableCascade(e))}unRegisterListField(e,t,n,r,o){const s=oi._getFieldsForList(e,t,n);s.length>0&&this.unRegisterFields(e,t,s,o)}static _getFieldsForList(e,t,n){const r=[],o=an(n,fi("classID",t,e));return o&&o.datasource&&o.datasource.parameters&&Object.values(o.datasource.parameters).forEach((e=>{if(An.isProperty(e)){const t=An.trimAnnotation(e);r.push(t)}})),r}unRegisterFields(e,t,n=[],r){this.cascadeSubscribers[e]&&n.forEach((n=>{if(!this.cascadeSubscribers[e][`${t}${n}`])return;const o=this.cascadeSubscribers[e][`${t}${n}`];o[r]&&delete o[r]}))}triggerCascade(e,t,n,r){if(!this.cascadeSubscribers[e])return;if(!this.cascadeSubscribers[e][t])return;let o=!1;Object.keys(this.cascadeSubscribers[e][t]).forEach((s=>{const a=this.cascadeSubscribers[e][t];"previousValue"!==s&&a.previousValue!==n&&(o=!0,r?r.add(a[s]):a[s](t,n))})),o&&(this.cascadeSubscribers[e][t].previousValue=n)}purgeCascadeFields(e){delete this.cascadeSubscribers[e]}handleServerChanges(e,t){if(!(e&&e.caseInfo&&e.caseInfo.content&&t))return;const n=new Set,r=e.caseInfo.content;this._handleCascaseObject(r,t,"caseInfo.content",n),n.forEach((e=>{e()}))}_handleCascaseObject(e,t,n,r){"object"==typeof e?Object.keys(e).forEach((o=>{const s=`${n}.${o}`;this._handleCascaseObject(e[o],t,s,r)})):this.triggerCascade(t,n,e,r)}}const si=new oi;let ai=null;const ii=e=>e.split(/\.(?![^[]+\])|\[|\]/g).filter(Boolean),ci=e=>{ai=e},li=()=>ai,ui=e=>{e&&(li().dispatch(e),"MERGE_DATA"===e.type&&si.handleServerChanges(e.payload.data,e.payload.context))},pi=e=>li().getState().data[e],di=()=>li().getState().data[nt.SHARED],hi=(e,t,n)=>{if('"'===(r=e).charAt(0)||"'"===r.charAt(0))return(e=>e.trim().substring(1,e.length-1))(e);var r;const o="."===e.charAt(0)?t+e:e,s=ii(o);return et.getIn(n,s)},fi=(e,t,n)=>hi(e,t,pi(n)),gi=(e,t,n)=>hi(t,e?`${nt.CONTEXT_DATA}.${e}`:`${nt.CONTEXT_DATA}`,pi(n)),yi=(e,t,n)=>((e,t,n)=>{const r=ii(`${t}.${n}`);return et.getIn(e,r)})(pi(n),`${nt.CONTEXT_DATA}.${e}`,t),mi=e=>{const{context:t}=e;if(li().getState().data[t])return dt;const{action:n}=e;return-1!==["createWork","showHarness","openAssignment","openWorkByHandle","initRouting"].indexOf(n)?vt:dt},Ii=(e,t)=>{const n=ii(t);return et.deleteIn(e,n)},Ei=e=>!Array.isArray(e)&&"object"==typeof e,Ai=(e,t,n={})=>{const{isArrayDeepMerge:r}=n,o=(e,t)=>{if(Ei(e)&&null!==t&&"string"!=typeof t)return Be()(e,t,o);if(Array.isArray(e)&&null!==t&&Array.isArray(t)){if(r)return Be()(e,t,o);{const n=t.length;n<e.size&&(e.length=n)}}return""===t&&e&&"object"==typeof e?e:t};return o(e,t)},_i=(e,t,n,r={})=>{const{isArrayDeepMerge:o=!0}=r,s=ii(t);if("object"==typeof n){const t=Ai(et.getIn(e,s),n,{isArrayDeepMerge:o});return et.setIn(e,s,t)}return et.setIn(e,s,n)},vi=(e,t,n)=>{const r=ii(t);return et.setIn(e,r,n)};var Si=n(462),bi=n.n(Si);const Ci=new class{constructor(){this.subscribers={}}publish(e,t){var n;null===(n=this.subscribers[e])||void 0===n||n.forEach((e=>{e.callback(t)}))}unsubscribe(e,t,n){const r=this.subscribers[e]||[];let o=0,s=-1;r.forEach((e=>{e.id===t&&e.contextName===n&&(s=o),o+=1})),r.splice(s,1)}subscribe(e,t,n,r,o){this.subscribers[e]=this.subscribers[e]||[];let s=!1;if(o&&this.subscribers[e].forEach((e=>{s=e.id===t&&e.contextName===r})),!s){const o=new class{constructor(e,t,n,r){this.eventType=e,this.callback=n,this.contextName=r,this.id=t}}(e,t,n,r);this.subscribers[e].push(o)}}clearContext(e){const t=this.subscribers;Object.keys(t).forEach((t=>{const n=this.subscribers[t],r=[];n.forEach((t=>{t.contextName!==e&&r.push(t)})),this.subscribers[t]=r}))}},Pi=class{static subscribe(e,t,n,r=!1,o="app"){Ci.subscribe(e,n,t,o,r)}static subscribeOnce(e,t,n){this.subscribe(e,t,n,!0)}static publish(e,t){Ci.publish(e,t)}static unsubscribe(e,t,n="app"){Ci.unsubscribe(e,t,n)}static cleanContextSubscribers(e){Ci.clearContext(e)}};function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Oi{constructor(e,t=!0){Ti(this,"getTokenAndFinish",(e=>{window.removeEventListener("message",this.authMessageHandler,!1),this.getToken(e,!1).then((()=>{})).catch((e=>{console.log(e)}))})),Ti(this,"authMessageHandler",(e=>{if(e.origin!==this.getRedirectUriOrigin())return;if(!e.data||!e.data.type||"PegaAuth"!==e.data.type)return;console.log("authjs(login): postMessage received with code");const t=e.data.code.toString();this.getTokenAndFinish(t,this.config)})),Ti(this,"getRedirectUriOrigin",(()=>{let{redirectUri:e}=this.config;e=e||this.config.redirect_uri;const t=e.indexOf("//"),n=-1!==t?e.indexOf("/",t+2):-1;return-1!==n?e.substring(0,n):e})),this.config=e,t?(this.ssKeyConfig=e,this.reloadConfig()):this.updateConfig(e,!1)}static init(e,t=!0){return new Oi(e,t)}updateConfig(e,t=!0){t?window.sessionStorage.setItem(this.ssKeyConfig,JSON.stringify(this.config)):qi(e)}reloadConfig(e=!0){if(e){const e=window.sessionStorage.getItem(this.ssKeyConfig);this.config=e?JSON.parse(e):null}else this.config=Yi()}async buildAuthorizeUrl(e){e=e||window.btoa(location.origin);let{sessionIndex:t}=this.config;const{password:n}=this.config,r=this.config.clientId?this.config.clientId:this.config.client_id,o=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,s=this.config.authorizeUri?this.config.authorizeUri:this.config.endPoints.authorize,a=this.config.authService?this.config.authService:this.config.authentication_service||"pega",i=this.config.appAlias?this.config.appAlias:Rr.getApplicationAlias(),c=this.config.userIdentifier?this.config.userIdentifier:this.config.user_identifier;t=t||this.config.tokenInfo.session_index;const l=t?"&session_index="+t:""+c?"&UserIdentifier="+c:""+n?"&Password="+window.atob(n):"",u=new Uint8Array(64);window.crypto.getRandomValues(u),this.config.codeVerifier=this.base64UrlSafeEncode(u),this.updateConfig(this.config,!1);const p=i?`+app.alias.${i.replace(/^app\//,"")}`:"";return this.getCodeChallenge(this.config.codeVerifier).then((t=>`${s}?client_id=${r}&response_type=code&redirect_uri=${o}&scope=openid${p}&state=${e}&code_challenge=${t}&code_challenge_method=S256&authentication_service=${a}&enable_psyncId=true${l}`))}getToken(e,t){this.reloadConfig(t,!1);const n=this.config.clientId?this.config.clientId:this.config.client_id,r=this.config.clientSecret?this.config.clientSecret:this.config.client_secret,o=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,s=this.config.tokenUri?this.config.tokenUri:this.config.endPoints.token,{codeVerifier:a}=this.config,i=window.location.search,c=new URLSearchParams(i),l=e||c.get("code"),u=new URLSearchParams;return u.append("client_id",n),r&&u.append("client_secret",r),u.append("grant_type","authorization_code"),u.append("code",l),u.append("redirect_uri",o),u.append("code_verifier",a),Fi(s,{method:"POST",headers:new Headers({"content-type":"application/x-www-form-urlencoded"}),body:u.toString()}).then((e=>e.data)).then((e=>{e.eA=Date.now()+1e3*e.expires_in;let n=!1;if(this.config.codeVerifier&&(delete this.config.codeVerifier,n=!0),e.session_index&&(this.config.session_index=e.session_index,n=!0),n){this.updateConfig(this.config,t),Hi({tokenInfo:e}),Wi({Authorization:`${null==e?void 0:e.token_type} ${null==e?void 0:e.access_token}`});const{onTokenRetrieval:n}=this.config;n&&"function"==typeof n&&n(e),window.postMessage("oAuthSuccess")}return e})).catch((e=>console.log(e)))}sha256Hash(e){return window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e))}encode64(e){return window.btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))}base64UrlSafeEncode(e){return this.encode64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}getCodeChallenge(e){return this.sha256Hash(e).then((e=>this.base64UrlSafeEncode(e))).catch((e=>{console.log(e)})).finally((()=>null))}}const Ni=Oi,Ri=(e,t)=>{(async e=>{const t={};if("OAuth2.0"===(null==e?void 0:e.authType)){const n=new Ni(e,!1);t.reauthUrl=await n.buildAuthorizeUrl(),t.redirectOrigin=n.getRedirectUriOrigin(),window.addEventListener("message",n.authMessageHandler,!1)}else t.reauthUrl=`${ir()}/?reAuth=true`;return t})(t).then((t=>{const n={openReauthMessageModal:!0,reAutheticationURL:t.reauthUrl,url:e,redirectOrigin:t.redirectOrigin};Pi.publish(tt.PUB_SUB_EVENTS.EVENT_REAUTH,n)}))},Di=(e,t)=>"OAuth2.0"===(null==t?void 0:t.authType)?null==e?void 0:e.includes(t.endPoints.token):null==e?void 0:e.includes("updateSession");function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let wi={};const Mi={},Li=new class{constructor(){xi(this,"getUpdateSessionStatus",(()=>this.updateSessionInProgress)),xi(this,"setUpdateSessionStatus",(e=>{this.updateSessionInProgress=e})),this.updateSessionInProgress=!1}};let ji={},Ui={},ki={};const Vi="updateSession",Fi=(e,t,n="root")=>{null===e&&window.console.error("Error: url passed to Service Broker fetch is null (or) undefined");const{body:r,signal:o,headers:s={},...a}=t;((e,t,n)=>{Or.injectRemoteCaseHeader(e,t,n)})(s,t.body,n),n&&Mi[n]>=0?Mi[n]=Mi[n]+1:n&&void 0===Mi[n]&&(Mi[n]=1);let i={...wi,...s,context:n};var c;return e&&Di(e,Ui)&&Li.getUpdateSessionStatus()||!Li.getUpdateSessionStatus()?(Di(e,Ui)&&"OAuth2.0"===(null===(c=Ui)||void 0===c?void 0:c.authType)&&(i={...s}),bi()({...a,url:e,data:r,cancelToken:o,headers:i})):((e,t,n)=>new Promise(((r,o)=>{Pi.subscribe(Vi,(s=>{Li.setUpdateSessionStatus(!s.updateStatus.length>0),"success"===s.updateStatus?Fi(e,t,n).then((e=>r(e))).catch((e=>o(e))):o(s.updateStatus.error)}),Vi)})))(e,t,n)},$i=e=>{Mi[e]>0&&(Mi[e]=Mi[e]-1,0===Mi[e]&&delete Mi[e])};bi().interceptors.request.use((e=>(ji.request&&(e=ji.request(e)),e)),(e=>{Promise.reject(e)})),bi().interceptors.response.use((e=>{var t,n;if(202===e.status&&e.config.headers.context&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.caseInfo)&&void 0!==n&&n.errorMessage){const t=[{type:"error",message:e.data.caseInfo.errorMessage}];let n=e.config.headers.context;return n&&n.includes("/workarea")&&(n=n.substring(0,n.lastIndexOf("/workarea"))),Cn({messages:t,category:"HTTP",context:n}),Promise.reject(e)}return e.config.headers&&e.config.headers.context&&(e.config.skipClearErrorMessages||(Sn({type:"error",category:"HTTP",context:e.config.headers.context}).length>0&&bn({type:"error",category:"HTTP",context:e.config.headers.context}),Sn({type:"error",category:"",context:e.config.headers.context}).length>0&&bn({type:"error",category:"PAGE",context:e.config.headers.context})),$i(e.config.headers.context)),ji.response&&(e=ji.response(e)),e}),(e=>(e.config&&e.config.headers&&e.config.headers.context&&$i(e.config.headers.context),!e.response||!e.response.status||401!==e.response.status||e.config&&Di(e.config.url,Ui)||Pi.subscribe(Vi,(e=>{Li.setUpdateSessionStatus(!e.updateStatus.length>0)}),Vi),((e,t,n)=>{if(e.config&&Di(e.config.url,n))return Promise.reject(e);if(e.response&&e.response.status&&401===e.response.status&&!t.getUpdateSessionStatus())return t.setUpdateSessionStatus(!0),((e,t,n)=>{const{config:r}=e,{url:o,config:s,callback:a}=(e=>{let t="",n={},r={};if("OAuth2.0"===(null==e?void 0:e.authType)){t=e.endPoints.token;const o=new URLSearchParams;o.append("client_id",e.client_id),o.append("grant_type","refresh_token"),o.append("refresh_token",e.tokenInfo.refresh_token),n={method:"POST",body:o.toString(),headers:{"content-type":"application/x-www-form-urlencoded"}},r={success:(t,n)=>{const{data:r}=t,o={access_token:null==r?void 0:r.access_token,refresh_token:null==r?void 0:r.refresh_token};Hi({tokenInfo:{...e.tokenInfo,...o}}),Wi({Authorization:`${null==r?void 0:r.token_type} ${null==r?void 0:r.access_token}`}),n.headers={...n.headers,Authorization:`${null==r?void 0:r.token_type} ${null==r?void 0:r.access_token}`};const{onTokenRetrieval:s}=e;s&&"function"==typeof s&&s(r)},failure:t=>{if(e.popupReauth)return Ri(t,e);Pi.publish(tt.PUB_SUB_EVENTS.EVENT_FULL_REAUTH,e)}}}else t=`${ir()}/updateSession`,n={method:"GET",headers:{}},r={failure:Ri};return{url:t,config:n,callback:r}})(n);return Fi(o,s).then((e=>{var n;t.updateSessionInProgress=!1,null==a||null===(n=a.success)||void 0===n||n.call(a,e,r);const o=r.headers&&r.headers.context;return r.data&&(r.body=r.data),new Promise(((e,t)=>{Fi(r.url,r,o).then((t=>{Pi.publish("updateSession",{updateStatus:"success"}),e(t)})).catch((e=>{Pi.publish("updateSession",{updateStatus:"success"}),t(e)}))}))})).catch((()=>{var t;return Pi.publish("updateSession",{updateStatus:"failed",error:e}),null==a||null===(t=a.failure)||void 0===t||t.call(a,r.url,n),Promise.reject(e)}))})(e,t,n);if(e.response&&e.response.status&&401===e.response.status&&t.getUpdateSessionStatus()){const{config:t}=e,n=t.headers&&t.headers.context;return t.data&&(t.body=t.data),Fi(t.url,t,n)}if(e.response&&e.response.status&&422!==e.response.status&&e.config.headers.context&&e.response.data){const t=e.response.data.errorDetails&&e.response.data.errorDetails.map((e=>({type:"error",message:e.localizedValue||e.message})));let n=e.config.headers.context;return n&&n.includes("/workarea")&&(n=n.substring(0,n.lastIndexOf("/workarea"))),Cn({messages:t,category:"HTTP",context:n}),Promise.reject(e)}return Promise.reject(e)})(e,Li,Ui))));const Gi=()=>bi().CancelToken.source(),Bi=e=>bi().isCancel(e),Wi=e=>{wi={...wi,...e}},Hi=e=>{Ui={...Ui,...e}},qi=e=>{ki={...ki,...e}},Yi=()=>({...ki}),zi=(e,{body:t={},queryPayload:n={},cancelTokenSource:r,headers:o={}},s)=>{const{restApi:a,reqType:i}=Gr(e,n),c={method:i,headers:o,body:t};return r&&(c.signal=r.token),Fi(a,c,s)},Ki=e=>Rr.doesRestApiExist(e),Ji=()=>Gi(),Xi=e=>Bi(e),Qi=e=>{(e=>{ji=e})(e)},Zi={},ec=e=>{const t=Gi();return Zi[e]=t,t},tc={uploadAttachment:(e,t,n,r)=>{const o=new FormData;o.append("appendUniqueIdToFileName",!0),o.append("file",e);const{restApi:s,reqType:a}=Gr("uploadAttachment",{});return Fi(s,{method:a,headers:{"Content-Type":"multipart/form-data"},body:o,onUploadProgress:t,signal:ec(e.ID).token},r).then((t=>({type:"File",category:e.category||"File",ID:t.data.ID,clientFileID:e.ID}))).catch(n?n(Bi,e):e=>{throw e.isHandled=!1,e}).finally((()=>delete Zi[e.ID]))},linkAttachmentsToCase:(e,t,n,r)=>{const o={};if("File"===n){const[e]=t,{clientFileID:n}=e;delete e.clientFileID,o.signal=ec(n).token}const{restApi:s,reqType:a}=Gr("linkCaseAttachment",{caseID:e});return Fi(s,{...o,body:{attachments:t},method:a},r)},getCaseAttachments:(e,t)=>{const{restApi:n,reqType:r}=Gr("getCaseAttachments",{caseID:e});return Fi(n,{method:r},t).then((e=>e.data.attachments))},getAttachmentCategories:(e,t,n)=>{const{restApi:r,reqType:o}=Gr("getAttachmentCategories",{caseID:e,type:t});return Fi(r,{method:o},n).then((e=>e.data))},downloadAttachment:(e,t)=>{const{restApi:n,reqType:r}=Gr("downloadAttachment",{attachmentID:e});return Fi(n,{method:r},t)},editAttachment:(e,t,n)=>{const{restApi:r,reqType:o}=Gr("editAttachment",{attachmentID:e});return Fi(r,{method:o,body:{...t}},n)},deleteAttachment:(e,t)=>{const{restApi:n,reqType:r}=Gr("deleteAttachment",{attachmentID:e});return Fi(n,{method:r},t)},downloadDocument:(e,t)=>{const{restApi:n,reqType:r}=Gr("downloadDocument",{documentID:e});return Fi(n,{method:r},t)},deleteDocument:(e,t,n)=>{const{restApi:r,reqType:o}=Gr("deleteDocument",{caseID:e,documentID:t});return Fi(r,{method:o},n)},getDocumentURL:e=>{const t={dataViewName:PCore.getEnvironmentInfo().getDocumentUrlDP()||"D_pxGetDocumentURL"};return zi("getPageData",{queryPayload:t},e.getContextName()).catch((t=>{e.reportError(": Error ocurred during ajax call getDocumentURL API : ",t.response)}))},cancelRequest:e=>{Zi[e]&&(Zi[e].cancel(),delete Zi[e])}},nc={addCaseFollower:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({users:t.map((e=>({ID:e})))});return zi("addCaseFollower",{body:o,queryPayload:r},n)},deleteCaseFollower:(e,t,n)=>zi("deleteCaseFollower",{queryPayload:{caseID:e,followerID:t}},n),getCaseFollowers:(e,t)=>zi("getCaseFollowers",{queryPayload:{caseID:e}},t).then((e=>e.data.followers))},rc={addRelatedCases:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({cases:t});return zi("addRelatedCases",{body:o,queryPayload:r},n)},removeRelatedCase:(e,t,n)=>zi("removeRelatedCase",{queryPayload:{caseID:e,relatedCaseID:t}},n),getRelatedCases:(e,t)=>zi("getRelatedCases",{queryPayload:{caseID:e}},t).then((e=>e.data.relatedCases))},oc={getOperatorDetails:e=>{const t={encodedOperatorId:encodeURIComponent(`{"opname":"${e}"}`)};return zi("operatorDetails",{queryPayload:t})}},sc=(e,t)=>{var n,r,o,s,a;if(!e.uiResources&&e.confirmationNote){let t=e;const{confirmationNote:n}=t;return t=((e,t)=>{const n=[e];return t.data.caseMessages=n,t})(n,t),t}if(e.confirmationNote||"pyConfirm"!==(null==e||null===(n=e.uiResources)||void 0===n||null===(r=n.root)||void 0===r||null===(o=r.config)||void 0===o?void 0:o.name)||null==e||null===(a=e.uiResources)||void 0===a||delete a.root,!e.uiResources||!e.data||null==e||null===(s=e.uiResources)||void 0===s||!s.root)return e;const i=e,{uiResources:{actionButtons:c,navigation:l},nextAssignmentInfo:u}=i;if(i.data&&i.data.caseInfo){c&&(i.data.caseInfo.actionButtons=c),l&&(i.data.caseInfo.navigation=l),t&&t[tt.ACTIONS.DELETEAVIALACTIONS]&&delete i.data.caseInfo.availableActions;const{assignments:n,availableActions:r=[]}=i.data.caseInfo;if(!(n&&Array.isArray(n)&&n[0].actions&&Array.isArray(n[0].actions))||t&&t[tt.STOPMERGEACTIONS]||(n[0].actions.forEach((e=>{"Assignment"!==e.type&&"LocalAction"!==e.type||r.push(e)})),i.data.caseInfo.availableActions=r),e.confirmationNote){const{confirmationNote:e}=i,t=[e];i.data.caseMessages=t}}return u&&(i.data.nextAssignmentInfo=u),i},ac=async e=>{const t=sc(e),n=et.getIn(t,nt.COMPONENTS);vo(t,{},!0),await Po(n)},ic=(e,t,n)=>Ya.resolveView(e,t,n);function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lc=new class{constructor(){cc(this,"getFeeds",((e,t,n,r,o,s,a)=>{let i="";r&&(r.forEach((e=>{e.on&&(i=`${i}${e.id},`)})),""===i&&(i="ClearFilters"));let c="";a&&(c=s.getValue("pulse.nextPageFirstEntry"));const l={filterForContext:e,feedID:t,feedClass:n,filterBy:i,pageSize:9,olderThan:c};for(let e=0;e<o.length;e+=1)o[e].cancel();const u=Ji();return o.push(u),zi("getFeedMessages",{queryPayload:l,cancelTokenSource:u},s.getContextName()).then((async e=>{if(200===e.status&&e.data){o.pop();const t=[],n={};let i=!1;if(e.data){if(e.data.data.FeedList){const r=e.data.data.FeedList.pxResults;Array.isArray(r)&&r.forEach(((e,r)=>{e.ID=""!==e.pzInsKey?e.pzInsKey:`message${r}`,t.push(e.ID),n[e.ID]=e,i||"pzPostDetails"===e.pyMessageViewReference||"pzPrivatePostDetails"===e.pyMessageViewReference||(i=!0)}))}if(i&&await ac({uiResources:e.data.uiResources}),!r&&(r=[{id:"All",label:"All",on:!0,disabled:!1}],e.data.data.FeedFilters)){const t=e.data.data.FeedFilters.pxResults;let n=!0;Array.isArray(t)&&(t.forEach((e=>{const t={id:e.pyFeedSourceReference,label:e.pyLabel,disabled:!1,on:"true"===e.pySelected};t.on||(n=!1),r.push(t)})),r.find((e=>"All"===e.id)).on=n)}}if(a&&s.getValue("pulse.messageIDs")){let r=s.getValue("pulse.messageIDs"),o=s.getValue("pulse.messages");r=[...r,...t],o={...o,...n},s.updateState({pulse:{messages:o,messageIDs:r,nextPageFirstEntry:e.data.nextPageFirstEntry?e.data.nextPageFirstEntry:""}})}else s.updateState({pulse:{messages:n,messageIDs:t,nextPageFirstEntry:e.data.nextPageFirstEntry?e.data.nextPageFirstEntry:""}});return r}return s.reportError(`getFeeds call failed ${e.status}`,e.data),""})).catch((e=>{Xi(e)||s.reportError(": Error ocurred during ajax call at getFeeds API : ",e.response)}))})),cc(this,"postMessage",((e,t,n=[],r=!1,o)=>{const s=JSON.stringify({context:e,parentMessageId:r?e:"",message:t,attachments:n});return zi("postFeedMessages",{body:s,headers:{"Content-Type":"application/json"}},o.getContextName()).then((t=>{if((201===t.status||200===t.status)&&t.data){const s=t.data,a={ID:s.ID,pzInsKey:s.ID,pyFeed:{pyPostedOn:s.postedTime,pyFeedTitle:s.postedByUser.name,pyCommentContext:"pzInsKey",pyIconType:"user",pyIconReference:"pi pi-case"},pyHasAttachment:!(!n||!n.length),postedByUser:s.postedByUser,pyMessage:s.message,mentions:s.mentions||[],pyMessageViewReference:"pzPostDetails",pxIcon:"globe",tags:s.tags||[],pyContext:""};if(r){let t=o.getValue(".pxResults");t||(t=[]),t=[...t,a],o.updateState({pulse:{messages:{[e]:{pxResults:t}}}})}else if(a.pxResults=[],o.getValue("pulse.messageIDs")){const e=o.getValue("pulse.messageIDs"),t=o.getValue("pulse.messages");o.updateState({pulse:{messages:{...t,[a.ID]:a},messageIDs:e.includes(a.ID)?e:[a.ID,...e]}})}}return o.reportError(`postMessage call failed with status ${t.status}`,t),""})).catch((e=>{o.reportError(": Error ocurred during ajax call at postMessage API : ",e.response)}))})),cc(this,"likeMessage",(({pulseContext:e,likedBy:t,messageID:n,isReply:r,c11nEnv:o})=>{const s=t?"unlikeFeedMessages":"likeFeedMessages",a=JSON.stringify({ContextClass:e});zi(s,{body:a,queryPayload:{pulseContext:e},headers:{"Content-Type":"application/json"}},o.getContextName()).then((s=>{if(200===s.status)if(r){const r=o.getValue(`pulse.messages.${n}`).pxResults.map((n=>{if((n={...n}).pzInsKey===e){let e=0,r=!1;const o=n.pyLikes?n.pyLikes.pxLikeCount:0;t?(e=o-1,r=!1):(e=o+1,r=!0),n.pyLikes={pxLikeCount:e,pxIsLiked:r}}return n}));o.updateState({pulse:{messages:{[n]:{pxResults:r}}}})}else{const r={...o.getValue(`pulse.messages.${n}`)},s=r.pyLikes?r.pyLikes.pxLikeCount:0;let a=0,i=!1;t?(a=s-1,i=!1):(a=s+1,i=!0),r.pyLikes={pxLikeCount:a,pxIsLiked:i},o.updateState({pulse:{messages:{[e]:r}}})}else o.reportError(`likeMessage call failed with status ${s.status}`,s)})).catch((e=>{o.reportError(": Error ocurred during ajax call at likeMessage API : ",e.response.data)}))})),cc(this,"deleteMessage",((e,t,n,r)=>{let o=e;t&&(o=n),zi("deleteFeedMessage",{queryPayload:{messageID:o}},r.getContextName()).then((o=>{if(200===o.status)if(t){const t=r.getValue(`pulse.messages.${e}`).pxResults.filter((e=>e.pzInsKey!==n));r.updateState({pulse:{messages:{[e]:{pxResults:t}}}})}else{const t=r.getValue("pulse.messageIDs").filter((t=>t!==e)),n={...r.getValue("pulse.messages")};delete n[e],r.updateState({pulse:{messageIDs:t,messages:n}})}else r.reportError(`deleteMessage call failed with status ${o.status}`,o)})).catch((e=>{r.reportError(": Error ocurred during ajax call at deleteMessage API : ",e.response)}))})),cc(this,"getLikedUsers",((e,t)=>zi("getFeedMessageLikes",{queryPayload:{messageID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.users})).catch((e=>{t.reportError(": Error ocurred during ajax call at getLikedUsers API : ",e.response)})))),cc(this,"getMentionSuggestions",((e,t)=>{const{pulseContext:n,searchFor:r,mentionsType:o="Users",listSize:s=5}=e,a={pulseContext:n,searchFor:r,mentionsType:o,listSize:s};for(let e=0;e<this.mentionsTagsCancelTokenSource.length;e+=1)this.mentionsTagsCancelTokenSource[e].cancel();const i=Ji();return this.mentionsTagsCancelTokenSource.push(i),zi("getMentionSuggestions",{queryPayload:a,cancelTokenSource:i},t.getContextName()).then((e=>(this.mentionsTagsCancelTokenSource=[],200===e.status&&e.data?e.data:(t.reportError(`Get mention suggestions call failed ${e.status}`,e.data),[])))).catch((e=>{Xi(e)||t.reportError(": Error ocurred during ajax call at getMentionSuggestions API : ",e.response.data)}))})),cc(this,"getTagSuggestions",((e,t)=>{const{searchFor:n,listSize:r=5}=e,o={searchFor:n,listSize:r};for(let e=0;e<this.mentionsTagsCancelTokenSource.length;e+=1)this.mentionsTagsCancelTokenSource[e].cancel();const s=Ji();return this.mentionsTagsCancelTokenSource.push(s),zi("getTagSuggestions",{queryPayload:o,cancelTokenSource:s},t.getContextName()).then((e=>{this.mentionsTagsCancelTokenSource=[];let n=[];return 200===e.status&&e.data?n=e.data.tags.map((e=>`#${e}`)):t.reportError(`Get tag suggestions call failed ${e.status}`,e.data),n})).catch((e=>{Xi(e)||t.reportError(": Error ocurred during ajax call at getTagSuggestions API : ",e.response.data)}))})),this.mentionsTagsCancelTokenSource=[]}},uc={getTaggedCases:(e,t)=>zi("loadView",{queryPayload:{caseID:e,viewID:"pyTaggedCases"}},t.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{t.reportError(": Error ocurred during ajax call at fetchTaggedcases API : ",e.response)})),getTags:(e,t)=>zi("getCaseTags",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.tagsList})).catch((e=>{t.reportError(": Error ocurred during ajax call at fetchTags API : ",e.response)})),postTags:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({tags:t});return zi("addTagsToCase",{body:o,queryPayload:r},n.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})).catch((e=>{n.reportError(": Error ocurred during ajax call at postTags API : ",e.response)}))},removeTag:(e,t,n)=>zi("deleteCaseTag",{queryPayload:{caseID:e,tagID:t}},n.getContextName()).catch((e=>{n.reportError(": Error ocurred during ajax call at removeTag API : ",e.response)})),getTagsLandingPageURL:e=>zi("getPageData",{queryPayload:{dataViewName:"D_pxGetTagsLandingPageURL"}},e.getContextName()).catch((t=>{e.reportError(": Error ocurred during ajax call getTagsLandingPageURL API : ",t.response)}))},pc=(e,t)=>{t.updateState({caseInfo:{headers:{etag:e.etag}}})},dc={getParticipants:(e,t)=>zi("getAllParticipants",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.data.content.pyParticipants})).catch((e=>{t.reportError(": Error ocurred during ajax call at getParticipants API : ",e.response)})),getRoleView:(e,t,n)=>zi("getParticipantRoleView",{queryPayload:{caseID:e,participant_roleID:t}},n.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{n.reportError(": Error ocurred during ajax call at fetchTaggedcases API : ",e.response)})),getParticipantRoles:(e,t)=>zi("getParticipantRoles",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.participant_roles})).catch((e=>{t.reportError(": Error ocurred during ajax call at getParticipantRoles API : ",e.response)})),getParticipant:(e,t,n)=>zi("getParticipant",{queryPayload:{caseID:e,participantID:t}},n.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{n.reportError(": Error ocurred during ajax call at getParticipant API : ",e.response)})),createParticipant:(e,t,n,r)=>{const o={caseID:e},{content:s}=n,a={content:s,participantRoleID:t},i={"if-match":r.getCaseSummary().headers.etag};return zi("createParticipant",{body:a,queryPayload:o,headers:i},r.getContextName()).then((e=>{pc(e.headers,r)})).catch((e=>{r.reportError(": Error ocurred during ajax call at createParticipant API : ",e.response)}))},updateParticipant:(e,t,n,r)=>{const{content:o}=n,s={content:o},a={caseID:e,participantID:t},i={"if-match":r.getCaseSummary().headers.etag};return zi("updateParticipant",{body:s,queryPayload:a,headers:i},r.getContextName()).then((e=>{pc(e.headers,r)})).catch((e=>{r.reportError(": Error ocurred during ajax call at updateParticipant API : ",e.response)}))},deleteParticipant:(e,t,n)=>{const r={caseID:e,participantID:t},o={"if-match":n.getCaseSummary().headers.etag};return zi("deleteParticipant",{queryPayload:r,headers:o},n.getContextName()).then((e=>{pc(e.headers,n)})).catch((e=>{n.reportError(": Error ocurred during ajax call at deleteParticipant API : ",e.response)}))}};class hc{static setRuntimeParams(e){this.runtimeParams=e}static getRuntimeParams(){return this.runtimeParams}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(hc,"runtimeParams",{});const fc=hc;function gc(e=[]){return e.reduce(((e,t)=>(e[t.personalizationID]={name:t.name,personalizationState:JSON.parse(t.personalizationState||"{}")},e)),{})}const yc="create",mc="update",Ic="delete";function Ec(e,t,n,r){const o=PCore.getMetadataUtils().getPersonalizationMetadata(t);if(o){switch(e){case yc:case mc:{const{markAsDefault:e,...t}=r;Object.entries(t).length>0&&(o.allPersonalizations[n]=t),e&&(o.defaultPersonalization=n);break}case Ic:delete o.allPersonalizations[n],o.defaultPersonalization===n&&(o.defaultPersonalization="");break;default:return null}return o}return null}const Ac={},_c=e=>{const t=PCore.getMetadataUtils().getPersonalizationMetadata(e);if(t)return Array.isArray(t.allPersonalizations)&&(t.allPersonalizations=gc(t.allPersonalizations)),Promise.resolve(t);const{restApi:n,reqType:r}=Gr("getUIListPersonalizations",{listID:e});return Fi(n,{method:r,body:{}}).then((e=>{const{data:t}=e;return{allPersonalizations:gc(t.allPersonalizations),defaultPersonalization:t.defaultPersonalization}}))},vc=(e,t,n)=>{const{restApi:r,reqType:o}=Gr("createListPersonalization",{listID:e});return Ec(yc,e,t,n),Fi(r,{method:o,body:{...n,personalizationState:JSON.stringify(n.personalizationState)}}).then((e=>{const n=e.data;return Ac[t]=n,e}))},Sc=(e,t,n)=>{const r=Ac[t]||t;Ec(mc,e,t,n);const{restApi:o,reqType:s}=Gr("updateListPersonalization",{listID:e,personalizationID:r});return Fi(o,{method:s,body:{...n,personalizationState:JSON.stringify(n.personalizationState)}})},bc=(e,t)=>{const n=Ac[t]||t;Ec(Ic,e,t);const{restApi:r,reqType:o}=Gr("deleteListPersonalization",{listID:e,personalizationID:n});return Fi(r,{method:o,body:{}}).then((e=>(Ac[t]&&delete Ac[t],e)))},Cc=function(e){return e?{createPersonalization:vc.bind(null,e),updatePersonalization:Sc.bind(null,e),deletePersonalization:bc.bind(null,e),fetchPersonalizations:_c.bind(null,e)}:{createPersonalization:()=>Promise.resolve(""),updatePersonalization:()=>Promise.resolve(),deletePersonalization:()=>Promise.resolve(),fetchPersonalizations:()=>Promise.resolve({})}},Pc={getData:(e,t,n,r={})=>((e,t,n,r={})=>{const o={dataViewName:e},{skipClearErrorMessages:s}=r,{restApi:a,reqType:i}=Gr("getListData",o);return Fi(a,{method:i,body:t,...s&&{skipClearErrorMessages:s}},n)})(e,t,n,r),getListCount:(e,t,n)=>{const r={dataViewName:e},{restApi:o,reqType:s}=Gr("getListDataCount",r);return Fi(o,{method:s,body:t},n)},getDataViewMetadata:(e,t)=>{const n={dataViewName:e},{restApi:r,reqType:o}=Gr("getDataViewMetadata",n);return Fi(r,{method:o},t)},getCaseEditMetadata:(e,t)=>{const n={caseID:e,viewID:"pyEdit"},{restApi:r,reqType:o}=Gr("loadView",n);return Fi(r,{method:o},t)},getCaseEditLock:(e,t)=>{const n={caseID:e,actionID:"pyUpdateCaseDetails"},{restApi:r,reqType:o}=Gr(Bt,n);return Fi(`${r}?viewType=page`,{method:o},t)},updateCaseEditFieldsData:(e,t,n,r)=>{const o={caseID:e,actionID:"pyUpdateCaseDetails"},{restApi:s}=Gr(Bt,o),a=t[e];return Fi(`${s}?viewType=form`,{method:"PATCH",body:{content:{...a}},headers:{"if-match":n}},r)},moveListRecords:(e,t)=>{const{sourceID:n,destinationID:r,context:o,listClass:s,viewName:a,viewClassName:i}=e,c={viewName:a,viewClassName:i},{restApi:l,reqType:u}=Gr("moveListRecords",c);return Fi(l,{method:u,body:{content:{sourceID:n,destinationID:r,context:o,listClass:s}}},t)},isTimeElapsed:(e,t="",n="")=>{if(t){if(e&&n===nt.RELOAD_IF_OLDER_THAN)return new Date(e).setSeconds(t)<Date.now();if(e&&n===nt.RELOAD_ONCE_PER_INTERACTION)return!0}return!0},getAppCacheKey:e=>`${xl.getAssetLoader().getAppAlias()}-${e}`};class Tc{constructor(){this.isInitialised=!1,this.isQueryable=!0,this.dataSourceMetaData={},this.nonQueryableData=[],this.fetchedNQData=!1,this.previousSearchText=null,this.totalRecordCount=0,this.fetchedRecordCount=0,this.cache={},this.pageNumber=0}static init(e,t){return new Promise(((n,r)=>{const o=[...e.columns.map((e=>e.value)),...Object.entries(e.parameters).map((([e,t])=>`${e}+${t}`))].join(nt.HASH_DELIMITER),s=et.getHashedString(o),a=`${e.dataSource}_${s}`,i=Pc.getAppCacheKey(e.dataSource);if(window.sessionStorage.getItem(i)){var c,l,u,p;const r=JSON.parse(window.sessionStorage.getItem(i));if(t&&null!==(c=Tc._searchResultsCache)&&void 0!==c&&null!==(l=c[t])&&void 0!==l&&l[a])n(Tc._searchResultsCache[t][a]);else if(null!==(u=Tc._searchResultsCache)&&void 0!==u&&null!==(p=u.persisted)&&void 0!==p&&p[a])n(Tc._searchResultsCache.persisted[a]);else{const o=new Tc;o.listType=e.listType,o.dataSource=e.dataSource,e.enablePagination?(o.enablePagination=e.enablePagination,o.pageSize=e.pageSize):o.maxResultsDisplay=e.maxResultsDisplay,o.parameters=e.parameters,o.columns=e.columns,o.matchPosition=e.matchPosition,o.dataSourceMetaData=r.dataSourceMetaData,o.isQueryable=r.isQueryable,o.isInitialised=r.isInitialised,Tc.initializeCache(t,e,a,o),n(o)}}else if(e.deferDatasource){const r=new Tc;r.listType=e.listType,r.dataSource=e.dataSource,e.enablePagination?(r.enablePagination=e.enablePagination,r.pageSize=e.pageSize):r.maxResultsDisplay=e.maxResultsDisplay,r.dataSourceMetaData=e.dataSourceMetaData,r.parameters=e.parameters,r.columns=e.columns,r.matchPosition=e.matchPosition;const o=PCore.getMetadataUtils().getDataPageMetadata(e.dataSource);r.isQueryable=o.isQueryable,r.isInitialised=!0,r.dataSourceMetaData=o,window.sessionStorage.setItem(i,JSON.stringify({isQueryable:o.isQueryable,dataSourceMetaData:o,isInitialised:!0})),Tc.initializeCache(t,e,a,r),n(r)}else{const o=new Tc;o.listType=e.listType,o.dataSource=e.dataSource,e.enablePagination?(o.enablePagination=e.enablePagination,o.pageSize=e.pageSize):o.maxResultsDisplay=e.maxResultsDisplay,o.dataSourceMetaData=e.dataSourceMetaData,o.parameters=e.parameters,o.columns=e.columns,o.matchPosition=e.matchPosition,o.fetchMetaData(t).then((r=>{window.sessionStorage.setItem(i,JSON.stringify({isQueryable:r.data.isQueryable,dataSourceMetaData:r.data,isInitialised:!0})),o.isQueryable=r.data.isQueryable,o.dataSourceMetaData=r.data,o.isInitialised=!0,Tc.initializeCache(t,e,a,o),n(o)})).catch((e=>{o.isInitialised=!1,r(e)}))}}))}static clearContextedCache(e){delete Tc._searchResultsCache[e]}static initializeCache(e,t,n,r){var o;e&&"form"===(null===(o=t.cacheLifeSpan)||void 0===o?void 0:o.toLowerCase())?(void 0===Tc._searchResultsCache[e]&&(Tc._searchResultsCache[e]={}),Tc._searchResultsCache[e][n]=r):(void 0===Tc._searchResultsCache.persisted&&(Tc._searchResultsCache.persisted={}),Tc._searchResultsCache.persisted[n]=r)}fetchMetaData(e){return Pc.getDataViewMetadata(this.dataSource,e)}getData(e){return this.isQueryable?Pc.getData(this.dataSource,this.buildSchemaForQueryableDP(e),this):this.fetchNonQueryableResults(e)}memoizedGetData(e){if(this.enablePagination?e in this.cache&&this.pageNumber in this.cache[e]:e in this.cache)return this.enablePagination?this.cache[e][this.pageNumber]:this.cache[e];const t=this.getData(e);return this.enablePagination?(this.cache[e]=this.cache[e]||{},this.cache[e][this.pageNumber]=t):this.cache[e]=t,t}fetchData(e,t){return this.isValidDatasource()&&this.isInitialised?(this.pageNumber=t?this.pageNumber:1,null!=e&&(e=e.toLowerCase()),this.memoizedGetData(e)):Promise.reject()}fetchPaginatedData(e){return this.pageNumber=this.pageNumber+1,this.fetchData(e,!0)}fetchNonQueryableResults(e){return this.fetchedNQData?new Promise((t=>t({data:{data:this.filterNonQueryableData(e)}}))):this.dataSourceMetaData.structure&&"list"===this.dataSourceMetaData.structure.toLowerCase()?new Promise(((t,n)=>{Pc.getData(this.dataSource,this.buildSchemaForNonQueryableDP(),this).then((n=>(this.nonQueryableData=n.data.data?[...n.data.data]:[],this.fetchedNQData=!0,t({data:{data:this.filterNonQueryableData(e)}})))).catch((e=>n(e)))})):null}filterNonQueryableData(e){const t=this.columns.filter((e=>e.useForSearch)).map((e=>e.value));return this.nonQueryableData.reduce(((n,r)=>(Object.keys(r).every((o=>!(t.includes(o)&&r[o]&&this.positionMatches(r[o],e)&&(n.push({...r}),1)))),n)),[])}positionMatches(e,t){switch(this.matchPosition){case"start":return e.toLowerCase().startsWith(t.toLowerCase());case"contains":return e.toLowerCase().includes(t.toLowerCase());default:return!1}}buildSelect(){const e=[],t=[];return this.columns.forEach((n=>{if(!t.includes(n.value)){t.push(n.value);const r={field:n.value};e.push(r)}})),e}buildFilters(e){let t={};const n={};this.columns.forEach(((t,r)=>{if(t.useForSearch){const o=`F${r}`,s={field:t.value},a={value:e};let i="CONTAINS";"start"===this.matchPosition?i="STARTS_WITH":"EQ"===this.matchPosition&&(i="EQ");const c={ignoreCase:"true",lhs:s,rhs:a,comparator:i};n[o]=c}}));const r=Object.keys(n).join(" OR ");return t={filterConditions:n,logic:r},t}buildQuery(e){return e?{select:this.buildSelect(),filter:this.buildFilters(e),distinctResultsOnly:"true"}:{select:this.buildSelect(),distinctResultsOnly:"true"}}buildPageOptions(){return this.enablePagination?{pageNumber:this.pageNumber,pageSize:this.pageSize}:{maxResultsToFetch:this.maxResultsDisplay}}buildSchemaForQueryableDP(e){return{dataViewParameters:this.parameters,query:this.buildQuery(e),paging:this.buildPageOptions()}}buildSchemaForNonQueryableDP(){return{dataViewParameters:this.parameters}}isValidDatasource(){return!!this.dataSource}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Tc,"_searchResultsCache",{});const Oc=Tc,Nc="getDataObjects",Rc=["LocalList","RemoteList","PromptList","DataPage"];let Dc=null;function xc(e){const t=PCore.getMetadataUtils().getDataPageMetadata(e);if(t&&t.classID){const e=PCore.getMetadataUtils().getFieldsByClassName(t.classID);if(e&&Object.keys(e).length>0){const r=new Set(t.rdFields);for(const t in e){var n;"undefined"===t||e[t].type.startsWith("Page")||!e[t].isQueryable||r.size>0&&!r.has(t)?delete e[t]:null!==(n=e[t])&&void 0!==n&&n.datasource&&Rc.includes(e[t].datasource.tableType)&&(e[t].fieldType="Picklist")}return{sourceFields:e,sourceMetadata:t}}}return{}}const wc={getDataObjects:function(){const e=Pc.getAppCacheKey(Nc);if(window.sessionStorage.getItem(e))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(e)));const{restApi:t,reqType:n}=Gr(Nc,{}),r=Fi(t,{method:n});return r.then((t=>{window.sessionStorage.setItem(e,JSON.stringify(t))})),r},getDataPageObjects:function(e=!0){if(Dc)return Dc;const t=Pc.getAppCacheKey("getDataPageObjects");if(e&&window.sessionStorage.getItem(t))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(t)));const{restApi:n,reqType:r}=Gr("getDataPages",{datapageRequestType:"explorable"});return Dc=Fi(n,{method:r,datapageRequestType:"explorable"}),Dc.then((e=>{Dc=null,window.sessionStorage.setItem(t,JSON.stringify(e))})),Dc},getDataViewMetadata:function(e,t=!1){if(!t){const{sourceMetadata:t,sourceFields:n}=xc(e);if(t&&n&&Object.keys(n).length>0){const e={data:{...t,fields:Object.entries(n).map((e=>({...e[1],fieldID:e[0],fieldType:e[1].fieldType?e[1].fieldType:e[1].isUserReference?"User reference":void 0,category:e[0].indexOf(":")>0?e[0].substring(0,e[0].indexOf(":")):void 0,classID:e[1].associationClassID?e[1].associationClassID:e[1].classID})))}};return Promise.resolve(e)}}const n={dataSource:e,columns:[],parameters:{}};return PCore.getDataApi().init(n).then((({dataSourceMetaData:e})=>Promise.resolve({data:e})))},getDefaultColumns:function(e){const t=Pc.getAppCacheKey(`DefaultColumns_${Object.values(e).join("_")}`);if(window.sessionStorage.getItem(t))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(t)));const{restApi:n,reqType:r}=Gr("getListData",{dataViewName:"D_pzGetDefaultColumns"}),o=Fi(n,{method:r,body:{dataViewParameters:e}});return o.then((e=>{window.sessionStorage.setItem(t,JSON.stringify(e))})),o},getFieldsForDataSource:function(e,t=!1){if(!t){const{sourceFields:t}=xc(e);if(t)return Promise.resolve({data:{data:Object.keys(t).map((e=>({pyFieldName:e})))}})}const n=Pc.getAppCacheKey(`RDColumns-${e}`);if(window.sessionStorage.getItem(n))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(n)));const r=PCore.getDataApiUtils().getData("D_pxFieldsForDataSource",{dataViewParameters:{DataPageName:e}});return r.then((e=>{window.sessionStorage.setItem(n,JSON.stringify(e))})),r},getInsightIDs:function(){const{restApi:e,reqType:t}=Gr("getInsightIDs");return Fi(e,{method:t})},getInsightByID:function(e){const t=PCore.getMetadataUtils().getInsight(e);if(t)return Promise.resolve({data:{pyInsights:[t]}});const n={insightID:e},{restApi:r,reqType:o}=Gr("getInsightByID",n);return Fi(r,{method:o})},createInsight:function(e){const{restApi:t,reqType:n}=Gr("createInsight");return Fi(t,{method:n,body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},updateInsight:function(e,t){const n={insightID:e},{restApi:r,reqType:o}=Gr("updateInsight",n);return Fi(r,{method:o,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},deleteInsight:function(e){const t={insightID:e},{restApi:n,reqType:r}=Gr("deleteInsight",t);return Fi(n,{method:r})},exportToExcel:function(e){const{restApi:t,reqType:n}=Gr("exportToExcel");return Fi(t,{method:n,body:JSON.stringify(e)})},translateStrings:function(e){const{restApi:t,reqType:n}=Gr("translateStrings");return Fi(t,{method:n,body:JSON.stringify(e)})}};class Mc{constructor(){this.validators={}}register(e,t){this.validators[e]=t}getValidator(e){return this.validators[e]}validateRquired(e,t,n,r,o,s){let a=null;if("true"===s.getConfigProps().required||!0===s.getConfigProps().required){let i=r;"string"==typeof i&&(i=i.trim()),"radiobuttons"===e&&(i=s.getConfigProps().value),"attachment"!==e||s.attachmentsInfo&&!s.attachmentsInfo.delete||(i=""),"checkbox"!==e||i&&"false"!==i||(i=""),a=this.getValidator("required")(i),Mc.messageDispatcher(t,n,o,a)}return a}validateType(e,t,n,r,o,s){let a=null;return this.getValidator(e)&&(a=this.getValidator(e)(r),""!==r&&Mc.messageDispatcher(t,n,o,a)),s.getConfigProps().validationType&&(a=this.getValidator(s.getConfigProps().validationType)(r),Mc.messageDispatcher(t,n,o,a)),a}validate(e,t,n,r){const o=r.getContextName();let s=null;if(!r.getConfigProps().disabled&&!r.getConfigProps().readOnly){const a=r.getPageReference();r.skipRequiredValidation()||(s=this.validateRquired(e,t,a,n,o,r)),s||(s=this.validateType(e,t,a,n,o,r))}return{message:s}}static messageDispatcher(e,t,n,r){if(r){const o=[];o.push({type:tt.MESSAGES.MESSAGES_TYPE_ERROR,message:r}),Cn({messages:o,property:e,pageReference:t,context:n})}}isValidatorExist(e){return!!e.validatetype}}const Lc=new Mc,jc=function(e){this.c11nEnv=e};jc.prototype={constructor:jc,validate:function(e,t){if(!t&&!(t=this.c11nEnv.getStateProps().value)){const e=this.c11nEnv.getComponentConfig();"multi"===e.selectionMode?t=this.c11nEnv.getStateProps().selectionList:"Editable"===e.renderMode&&(t=this.c11nEnv.getStateProps().referenceList)}return Lc.validate(this.c11nEnv.getComponentName().toLowerCase(),t,e,this.c11nEnv)}};const Uc=jc,kc="OPEN_PROCESS_ACTION",Vc="OPEN_ASSIGNMENT",Fc="DELETE_CASE_IN_CREATE_STAGE",$c="SAVE_AND_CLOSE",Gc=e=>({type:$c,payload:e});function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{RESOURCE_TYPES:Hc}=tt;class qc{static openCase(e,t,n,r){const o={insKey:e,acTargetName:n,actionMgrID:Vn.getNextActionMgrId(),context:t,...r},s=pt,{promise:a}=Vn.actionManagerPromise(s,o.actionMgrID);return ui({type:s,payload:o}),a}static openAssignment(e,t,n,r){const o={assignmentID:e,vcName:n,doDeleteCaseSummary:!0,actionMgrID:Vn.getNextActionMgrId(),context:t,...r},s=gt,{promise:a}=Vn.actionManagerPromise(s,o.actionMgrID);return ui({type:s,payload:{...o}}),a}static createCase(e,t,n,r){const o=ut,s={class:e,acTargetName:n,actionMgrID:Vn.getNextActionMgrId(),context:t,...r},{promise:a}=Vn.actionManagerPromise(o,s.actionMgrID);return ui({type:o,payload:{...s}}),a}static getOpenedCaseItems(e){const t=[],n=Ns(e);if(n){const{items:r={}}=n,o=Object.keys(r),s=ks(e);o.forEach((n=>{if(r[n]&&(r[n].resourceType===Hc.CASE||r[n].resourceType===Hc.ASSIGNMENT)){const{key:o="",context:a}=r[n],i=r[n],c=o.substring(o.indexOf(" ")+1),l=xl.getStoreValue(".caseTypeID","caseInfo",a),u=s===n;t.push({...i,key:o,workID:o,caseID:c,className:l,context:a,containerItemID:n,target:e,active:u})}}))}return t}}Wc(qc,"getCaseDetails",(e=>{const t={caseID:e},{restApi:n,reqType:r}=Gr(kt,t);return Fi(n,{method:r})})),Wc(qc,"getCaseBulkActions",(e=>{const{restApi:t,reqType:n}=Gr("getBulkActions"),r=e.map((e=>({ID:e}))),o=r.length,s=o/5,a={},i=[];for(let e=0;e<o;e+=s)a.cases=r.slice(e,e+s),a.cases.length&&i.push(Fi(t,{method:n,body:a}));return Promise.all(i).then((e=>{let t=[];for(let n=0;n<e.length;n+=1)0!==n?t.length&&(t=t.filter((t=>e[n].data.availableActions.some((e=>t.id===e.id))))):t=e[n].data.availableActions;return t}))}));const Yc=qc;class zc{constructor(e,t){this.children=e,this.index=0,this.options=t}hasNext(){return this.index<this.children.length}next(){if(!this.hasNext())throw new Error("No Children");const e=this.children[this.index];return this.index+=1,rl.createC11nEnv({meta:e,options:this.options})}resetIndex(){this.index=0}}class Kc{constructor(e,t,n){this.meta=e,this.datasource=t,this.index=0,this.options=n,this.datasourceObj=Ya.getProperyValue(t,n.pageReference,n.context)}hasNext(){return this.index<this.datasourceObj.length}next(){if(!this.hasNext())throw new Error("No Children");const e=Ya.getContextPath(this.datasource,this.index);return this.index+=1,rl.createC11nEnv({meta:this.meta,options:{...this.options,pageReference:e}})}resetIndex(){this.index=0}}const Jc={Currency:!0,TextInput:!0,Phone:!0,Percentage:!0,Email:!0,Integer:!0,Decimal:!0,URL:!0,SemanticLink:!0,Checkbox:!0,RadioButtons:!0,DateTime:!0,Date:!0,Time:!0,Text:!0,TextArea:!0,RichText:!0,Dropdown:!0,Search:!0,Location:!0,Attachment:!0,AutoComplete:!0,MultiSelect:!0,UserReference:!0,Region:!0,TextContent:!0,View:{Forms:!0,DefaultForm:!0,OneColumn:!0,TwoColumn:!0,ThreeColumn:!0}};let Xc=null;const Qc=(e,t,n)=>{e&&(Object.keys(e).forEach((r=>{if("children"!==r){const o=e[r],s=An.trimAnnotation(o);if("string"!=typeof s&&"string"!=typeof o||!(et.isPropertyRef(s)||o.startsWith("@W ")||o.startsWith("@E "))){if(Array.isArray(s))s.forEach(((e,n)=>{const o={parentStateObj:t,parentKey:r,isObjHasValue:!!t[r]};t[r]=t[r]||[],t[r][n]=Object.create({}),Qc(e,t[r][n],o)}));else if(s&&"object"==typeof s&&"exp"!==s.type){const e={parentStateObj:t,parentKey:r,isObjHasValue:!!t[r]};t[r]=t[r]||{},Qc(s,t[r],e)}}else n&&n.parentKey&&(n.isObjHasValue=!0),t[r]=s}})),n&&!n.isObjHasValue&&delete n.parentStateObj[n.parentKey])},Zc=(e,t)=>{e._inheritedProps=e._inheritedProps||[],e.inheritedProps=[...e._inheritedProps,...et.deepClone(t.inheritedProps)]};function el(e){var t,n;const{meta:r,isRoot:o,options:s={},useCustomContext:a}=e;let i=r.config,c=!1,u=!1,p=!1,d="",h="";const f={},g={};let y="";const m={};let I,{viewName:E}=s,A=s.referenceList||"";const _=s.isInsideList||!1;let v={},S=s.localeReference;const b=s.target,C={},P=(null==r||null===(t=r.config)||void 0===t?void 0:t.readOnly)||s.readOnly;s.inheritedConfig&&(v=et.deepClone(s.inheritedConfig)),null!=r&&null!==(n=r.config)&&void 0!==n&&n.inheritedProps&&Zc(v,r.config),Qc(i,f);const T=!et.isObjectEmpty(f);var O;i&&i.config&&(c=et.isExpressionExist(i.config),u=et.isWhenExist(i.config),p=Lc.isValidatorExist(i.config)),h=o?tt.APP.APP:(null==r||null===(O=r.config)||void 0===O?void 0:O.contextName)||s.context,this.setXRayInfo=e=>{et.mergeDeep(e,C)},this.getXRayInfo=()=>C,this.getStateProps=()=>f,this.setStateProps=e=>{et.mergeDeep(e,f)},this.getMetadata=()=>i,this.getCaseInfo=()=>(I||(I=new class{constructor(e){this.c11nEnv=e}getCaseTypeName(){return this.c11nEnv.getValue(nt.CASE_INFO.CASE_TYPE_NAME)}getName(){return this.c11nEnv.getValue(nt.CASE_INFO.CASE_INFO_NAME)}getClassName(){return this.c11nEnv.getValue(nt.CASE_INFO.CASE_TYPE_ID)}getKey(){return this.c11nEnv.getValue(nt.CASE_INFO.CASE_INFO_ID)}getID(){const e=this.getKey();if(e){const[,t]=e.split(" ");return t}}getAssignmentID(){return this.c11nEnv.getValue(nt.CASE_INFO.ASSIGNMENT_ID)}getActions(){return this.c11nEnv.getValue(nt.CASE_INFO.ACTION_BUTTONS)}getActiveFlowActionID(){return this.c11nEnv.getValue(nt.CASE_INFO.ACTIVE_ACTION_ID)||this.c11nEnv.getValue(nt.CASE_INFO.ASSIGNMENTACTION_ID)}getParentCaseInfo(){return this.c11nEnv.getValue(nt.CASE_INFO.PARENTCASEINFO)}isPerform(){return!!this.c11nEnv.getValue("nextAssignmentInfo")}isReview(){return!this.isPerform()}isAssignmentInCreateStage(){const e=this.c11nEnv.getValue(nt.CASE_INFO.CASE_INFO);return Mo(e)}isLocalAction(){const e=this.c11nEnv.getValue(nt.CASE_INFO.CASE_INFO);return jo(e)}}(this)),I),this.getListActions=()=>lo(this),this.getReferenceList=()=>A,this.isInsideList=()=>_||/\[\d+\]/g.test(this.getPageReference()),this.getRawMetadata=()=>this.getMetadata(),this.setReferenceList=e=>{A=e},this.getComponentConfig=()=>{var e;return(null===(e=this.getMetadata())||void 0===e?void 0:e.config)||{}},this.isExpressionExist=()=>c,this.isWhenExist=()=>u,this.isConditionExist=()=>this.isExpressionExist()||this.isWhenExist(),this.isBoundToState=()=>T,this.getPageReference=()=>d,this.getFullReference=()=>{const e=this.getPageReference(),t=this.getComponentConfig();let n="value";"multi"===t.selectionMode?n="selectionList":"Editable"===t.renderMode&&(n="referenceList");const r=this.getComponentConfig()[n];return Ya.getContextPath(e,r)},this.getContextName=()=>h,this.getContainerName=()=>{const{acTargetName:e="primary",type:t,name:n}=this.getComponentConfig();return"view"!==(null==t?void 0:t.toLowerCase())&&n?n:s.containerName||e},this.getTarget=()=>b,this.getCurrentView=()=>E,this.getConfigProps=(e={})=>{var t;const n={readOnly:P,...null===(t=i)||void 0===t?void 0:t.config,...m,...v};return this.resolveConfigProps(n,e),et.resolveStringBooleans(e)},this.getRawConfigProps=()=>({...i.config,...m,...v}),this.resolveConfigProps=(e,t={})=>(e&&(Ya.resolveProps(e,t,this),An.handleComponentMapping(t,{type:this.getComponentName(),config:e},this)),t),this.registerAdditionalProps=(e={})=>(Object.assign(m,e),this.resolveConfigProps(m)),this.deRegisterAdditionalProps=(e=[])=>(e.forEach((e=>{delete m[e]})),!0),this.populateAdditionalProps=e=>{const t=this.getComponentName(),n=this.getComponentConfig();if(t===nt.MODAL_VIEW_CONTAINER||t===nt.CASE_CREATE_STAGE||t===nt.FLOW_CONTAINER){const n=t===nt.FLOW_CONTAINER?this.getContextName():ks(`${nt.APP.APP}/${this.getContainerName()}`),r=Sn({context:n,category:tt.PAGE});e.pageMessages=r,f.pageMessages=e.pageMessages}if(this.isEditable()){var r,o;let{value:t}=this.getStateProps();void 0===t&&"multi"===(null===(r=this.getComponentConfig())||void 0===r?void 0:r.selectionMode)?t=this.getStateProps().selectionList:!t&&"Editable"===(null===(o=this.getComponentConfig())||void 0===o?void 0:o.renderMode)&&this.getStateProps().referenceList&&(t=this.getStateProps().referenceList);const n=Sn({property:t,pageReference:this.getPageReference(),context:this.getContextName(),type:tt.MESSAGES.MESSAGES_TYPE_ERROR}),s=Sn({property:t,pageReference:this.getPageReference(),context:this.getContextName(),type:tt.MESSAGES.MESSAGES_TYPE_INFO});n&&n[0]&&(e.validatemessage=n[0].message,e.status=nt.FIELD_LEVEL_ERROR,f.validatemessage=e.validatemessage,f.status=e.status),s&&s[0]&&(e.infoMessage=s[0].message,e.status=nt.FIELD_LEVEL_WARNING,f.infoMessage=e.infoMessage,f.status=e.status)}if(t===nt.ROOT_CONTAINER){const t=Sn({context:nt.APP.ROOT,category:"HTTP"});e.httpMessages=t,f.httpMessages=e.httpMessages}if(t===nt.APP_SHELL&&e.portalDocMode===nt.CONTAINER_TYPE.MULTIPLE&&(e.activeCases=Yc.getOpenedCaseItems(`${tt.APP.APP}/${nt.PRIMARY}`),f.activeCases=e.activeCases),t===nt.APP_SHELL||t===nt.MODAL_VIEW_CONTAINER||t===nt.CASE_CREATE_STAGE||n.template===nt.CASE_PREVIEW){var s;let t=Sn({context:nt.APP.APP,category:"HTTP"});const n=Sn({context:ks(`${nt.APP.APP}/${this.getContainerName()}`),category:"HTTP"});t=t?n?t.concat(Sn({context:ks(`${nt.APP.APP}/${this.getContainerName()}`),category:"HTTP"})):t:Sn({context:ks(`${nt.APP.APP}/${this.getContainerName()}`),category:"HTTP"}),e.httpMessages=t?t.map((e=>e.message)):t,f.httpMessages=e.httpMessages,null===(s=t)||void 0===s||s.map((t=>{t.errorDetails&&(e.errorDetails=e.errorDetails?e.errorDetails.push(...t.errorDetails):t.errorDetails,f.errorDetails=e.errorDetails)}))}if(t===nt.VIEW_CONTAINER||t===nt.FLOW_CONTAINER||t===nt.MODAL_VIEW_CONTAINER||t===nt.PREVIEW_VIEW_CONTAINER||t===nt.ROOT_CONTAINER){if(e.routingInfo=xr(this.getContainerName(),h),f.routingInfo=e.routingInfo,t===nt.FLOW_CONTAINER){const t=Sn({context:this.getContextName(),category:nt.CASEMESSAGES}),n=this.getContextName();e.caseMessages=t,f.caseMessages=e.caseMessages,e.caseViewMode=this.getValue("context_data.caseViewMode"),f.caseViewMode=e.caseViewMode;const r=Bs(n)[0];if(r){var a,i,c,u,p,d,g,y,m,I;const t=ks(r);e.lastUpdateTime=null==l||null===(a=li())||void 0===a||null===(i=a.getState())||void 0===i||null===(c=i.data)||void 0===c||null===(u=c[t])||void 0===u||null===(p=u.caseInfo)||void 0===p?void 0:p.lastUpdateTime,f.lastUpdateTime=null==l||null===(d=li())||void 0===d||null===(g=d.getState())||void 0===g||null===(y=g.data)||void 0===y||null===(m=y[t])||void 0===m||null===(I=m.caseInfo)||void 0===I?void 0:I.lastUpdateTime}}if(e.loadingInfo=this.getLoadingStatus(this.getContextName()),t===nt.MODAL_VIEW_CONTAINER){var E;const t=(null===(E=e.routingInfo)||void 0===E?void 0:E.accessedOrder)||[],n=t[t.length-1];n&&(e.loadingInfo=this.getLoadingStatus(n))}f.loadingInfo=e.loadingInfo}else n.template===nt.CASE_VIEW||n.template===nt.CASE_PREVIEW||n.template===nt.OBJECT_PAGE?(e.caseInfo=this.getCaseSummary(),f.caseInfo=e.caseInfo):t===nt.CASE_STAGES&&(e.stages=this.getCaseStages(),f.stages=e.stages);this.populateFieldMetadata(e)},this.populateFieldMetadata=e=>{const{value:t,datasource:n,listType:r}=this.getComponentConfig();let o="",s="";if(r===nt.ASSOCIATED?(o=n,s=nt.ASSOCIATED_PROPERTY_ANNOTATION):(o=t,s=nt.PROPERTY_ANNOTATION),o&&"string"==typeof o&&o.includes(s)){const t=An.getPropertyName(o),n=this.getFieldMetadata(t);n&&(e.fieldMetadata=n,(e.fieldMetadata.isDeclarativeTarget||Zr.isPropertyInternal(t)||!e.datasource&&e.fieldMetadata.isClassKey&&e.listType!==nt.ASSOCIATED)&&(e.readOnly=!0,f.readOnly=e.readOnly,e.fieldMetadata.isDeclarativeTarget&&this.registerAdditionalProps({readOnly:!0})))}},this.getFieldMetadata=e=>{if(!e)return null;const t=e.split(".");if(t.length<2){let t=this.getValue(nt.CLASS_ID);return!t&&i&&i.config&&i.config.ruleClass&&(t=i.config.ruleClass),an(e,t)}return an(t.pop(),this.getValue(`.${t.join(".")}${nt.CLASS_ID}`))},this.getCurrentPageFieldMetadata=(e=null)=>{let t=this.getPageReference().split(".");null!==e&&(t=e.split("."));const n=t.pop();return an(n,this.getValue(`${t.join(".")}${nt.CLASS_ID}`))},this.getCurrentClassID=()=>this.getValue(nt.CLASS_ID),this.getCaseSummary=()=>{const e=this,t={...this.getDataObject()[tt.CASE_INFO.CASE_INFO]};return t.CaseID=t.CaseID||this.getValue(tt.CASE_INFO.CASE_INFO_PZINSKEY),{...t,isCaseWideAction:()=>Uo(e.getContextName(),e.getPageReference())}},this.getReferencedUser=e=>{const t=this.getValue("referencedUsers");return t&&t[e]?t[e]:null},this.getCaseStages=()=>this.getDataObject()[tt.CASE_INFO.CASE_INFO].stages,this.getActions=()=>g,this.isRoot=()=>o,this.resolveContextProps=e=>{const{value:t}=this.getStateProps();t&&(e.error=this.getContextDataValue(`${this.getPageReference()+t}.error`),e.validatemessage=this.getContextDataValue(`${this.getPageReference()+t}.validatemessage`))},this.isValidatorExist=()=>!!p,this.getValidationApi=()=>new Uc(this),this.isEditable=()=>i&&i.config&&(Object.prototype.hasOwnProperty.call(i.config,"value")||i.config.selectionList||"Editable"===i.config.renderMode&&i.config.referenceList)&&!(Object.prototype.hasOwnProperty.call(i.config,"readOnly")&&"true"===i.config.readOnly),this.hasChildren=()=>!!y,this.getChildrenIterator=()=>(y.setContext(this.getPageReference()),y),this.setAction=(e,t)=>{g[e]=t},this.getComponentName=()=>i&&i.type,this.isComponentRefreshable=()=>i&&i.isRefreshable,this.getDataObject=e=>pi(e||this.getContextName()),this.getImagePath=e=>`${So.getConstellationServiceUrl()}/v860/${So.getAppAlias()}/image/${e}?org=${Rr.getOrganizationName()}`,this.skipRequiredValidation=()=>s.isBulkAction,this.isBulkAction=()=>s.isBulkAction,this.getChildren=()=>{if(y&&y.length){const t=((e,t)=>{const n=!!e.repeat;if(e["repeat-self"])return new Kc(e,e.context,t);if(n){const n=yi(`${t.context}.${nt.SUMMARY_OF_LISTS}`,e.pageReference,t.context);return new Kc(e.children[0],n||e.context,t)}return e.children?new zc(e.children,t):void 0})(i,{pageReference:d,context:h,localeReference:S,hasForm:s.hasForm,isBulkAction:s.isBulkAction,containerName:this.getContainerName(),containerItemName:s.containerItemName,viewName:E,inheritedConfig:v,target:b,readOnly:P}),n=[];for(;t.hasNext();){const r=t.next();if(this.isBulkAction()){var e;const t=r.getPConnect().getComponentName(),{template:n}=r.getPConnect().getConfigProps();if(!0!==Jc[t]&&!0!==(null===(e=Jc[t])||void 0===e?void 0:e[n]))continue}n.push(r)}return t.resetIndex(),n}return null},this.setInheritedProp=(e,t)=>{v[e]=t},this.getLocaleRuleName=()=>S,this.getLocalizedValue=(e,t,n)=>{const r=n||this.getLocaleRuleName();return ns.getLocaleValue(e,t,r)},this.getLocaleRuleNameFromKeys=(e,t,n)=>`${e}!${t}!${n}`,this.getValue=(e,t)=>a?a[0===e.indexOf(".")?e.substring(1):e]:Ya.getProperyValue(e,t||this.getPageReference(),h),this.setInheritedConfig=e=>{if(!e)return;const{readOnly:t,displayMode:n,referenceType:r,hideLabel:o}=e;o&&(v.hideLabel=o),r&&(v.referenceType=r),n&&(v.displayMode=n),(v.readOnly||t)&&(v.readOnly=t),e.inheritedProps&&Zc(v,e)},this.getInheritedProps=()=>{var e;const t={},n={};return null===(e=v.inheritedProps)||void 0===e||e.forEach((e=>{n[e.prop]=e.value})),Ya.resolveProps(n,t,this),t},this.setValue=(e,t,n)=>{let r,o;this.isInsideList()&&this.getListActions().updateProperty(e,t),this.isBulkAction()&&(r=!0,t||(o=!0)),ui({type:"SET_PROPERTY",payload:{reference:`${this.getPageReference()}${e}`,value:t,initialValue:n,context:this.getContextName(),...r&&{isStrictTracking:r},...o&&{removePropertyFromChangedList:o}}})},this.getContextDataValue=(e,t)=>gi(t||this.getPageReference(),e,h),this.updateState=e=>{ui(ga({context:h,data:e}))},this.replaceState=(e,t)=>{ui({type:"REPLACE_PROPERTY",payload:{reference:`${this.getPageReference()}${e}`,value:t,context:this.getContextName()}})},this.reportError=(e,t={},n)=>{ui(Fa(e,t,n))},this.getComponent=()=>Xc({getPConnect:()=>this}),this.createComponent=(e,t,n,r={})=>{let o=d;if(t){const e=yi(`${this.getPageReference()}.${nt.SUMMARY_OF_LISTS}`,t,h);o=Ya.getContextPath(e||t,n)||t}else if(r.pageReference){let e=r.pageReference;e=An.handleAnnotation(e,this),o=Ya.getContextPath(d,e)||""}return Xc(tl({meta:e,options:{containerName:this.getContainerName(),hasForm:s.hasForm,...e.options,pageReference:o,context:h,target:b}}),r)},this.getReferencedView=()=>Ya.resolveReference(r,this),this.getReferencedViewPConnect=e=>{const t={...this.getComponentConfig()};return null==t||delete t.name,null==t||delete t.type,tl({meta:this.getReferencedView(),options:{...e?s:void 0,...t,context:this.getContextName(),pageReference:this.getPageReference()}})},this.getContainerManager=()=>new class{constructor(e){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"containerManagerPromise",(e=>{const t=Vn.getNextActionMgrId();let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return Vn.register(t,o,n,r,e),{actionMgrID:t,promise:o}})),this.c11nEnv=e}initializeContainers(e){const t=this.c11nEnv,n={context:t.getContextName(),name:t.getContainerName(),type:nt.CONTAINER_TYPE.SINGLE},{actionMgrID:r,promise:o}=this.containerManagerPromise("INIT_CONTAINERS"),s={...n,...e,actionMgrID:r};return ui(_a(s)),o}addContainerItem(e){var t,n;const r=vt,o=this.c11nEnv,s=o.getMetadata(),{children:a}=s,[i]=a,c=o.getContextName(),l=o.getContainerName(),u=dr(l,c,(null==e?void 0:e.containerType)===nt.CONTAINER_TYPE.SINGLE),p=Dr(l,c),d={root:{...i,config:{...null==i?void 0:i.config,context:(null==i||null===(t=i.config)||void 0===t?void 0:t.context)||(null===(n=o.getPageReference)||void 0===n?void 0:n.call(o))}},containerItemID:u,context:u,target:p,containerName:l},{actionMgrID:h,promise:f}=this.containerManagerPromise(r),g={...d,...e,actionMgrID:h};return ui(Sa(g)),f}updateContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("updateContainerItem : containerItemID is required in containerInfo object"));const t=Dt,n={context:Fs(e.containerItemID),target:ea(e.containerItemID)},{actionMgrID:r,promise:o}=this.containerManagerPromise(t),s={...n,...e,actionMgrID:r};return ui(Oa(s)),o}activateContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("activateContainerItem : containerItemID is required in containerInfo object"));const t={target:ea(e.containerItemID)},{actionMgrID:n,promise:r}=this.containerManagerPromise("ACTIVATE_CONTAINER_ITEM"),o={...t,...e,actionMgrID:n};return ui(Ra(o)),r}removeContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("removeContainerItem : containerItemID is required in containerInfo object"));const t=St,n={context:Fs(e.containerItemID),target:ea(e.containerItemID)},{actionMgrID:r,promise:o}=this.containerManagerPromise(t),s={...n,...e,actionMgrID:r};return ui(xa(s)),o}resetContainers(e){if(null==e||!e.context||null==e||!e.name)return Promise.reject(new Error("resetContainers : context and name are required in containerInfo object"));const t=Xs(e),{actionMgrID:n,promise:r}=this.containerManagerPromise("RESET_CONTAINERS"),o={...t,...e,actionMgrID:n};return ui(va(o)),r}addTransientItem(e){const{id:t,data:n}=e,r=this.c11nEnv.getContextName(),o=fr(t,r),s=sa(r);return o&&s.includes(o)||ui(ba({transientItemID:o,contextName:r,target:ea(r),data:n})),o}updateTransientData(e){const{transientItemID:t,data:n}=e,r=this.c11nEnv.getContextName();if(t){if(!sa(r).includes(t))return;ui(Ca({transientItemID:t,data:n}))}}removeTransientItem(e){const t=this.c11nEnv.getContextName(),{target:n=this.c11nEnv.getTarget(),containerItemID:r,transientItemID:o}=e;if(o&&r){if(!sa(t).includes(o))return;ui(Ma({target:n,containerItemID:r,transientItemID:o}))}}}(this),this.getActionsApi=()=>new class{constructor(e){Bc(this,"MSG_CLASSNAME_REQUIRED","className is required parameter"),Bc(this,"MSG_CLASSNAME_STRING","className must be a string"),Bc(this,"MSG_CONTAINERITEMID_REQUIRED","containerItemID is required parameter"),Bc(this,"MSG_CONTAINERITEMID_STRING","containerItemID must be a string"),Bc(this,"MSG_PAGENAME_REQUIRED","pageName is required parameter"),Bc(this,"MSG_PAGENAME_STRING","pageName must be string"),Bc(this,"actionsApiPromise",((e,t=null,n=!0)=>{let r,o,s=null;s=t&&null!==t.actionMgrID?t.actionMgrID:Vn.getNextActionMgrId();const a=new Promise(((e,t)=>{r=e,o=t}));return Vn.register(s,a,r,o,e,t,n),{actionMgrID:s,promise:a}})),this.c11nEnv=e}createWork(e,t={}){if(!e)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));const n=ut,r=Hn({class:e,flowType:"pyStartCase",containerName:nt.PRIMARY,openCaseViewAfterCreate:!0,...t},this.c11nEnv),{promise:o}=this.actionsApiPromise(n,r);if(Or.isRemoteCase(e)){const{RemoteClassName:t,RemoteSystemID:n}=Or.getRemoteCase(e);r.class=t,r.headers=r.headers||{},r.headers.RemoteSystemID=n}return ui({type:n,payload:{...r}}),o}openWorkByHandle(e,t){if(!e)return Promise.reject(new Error("workID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("workID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms&&window.pms.plugins&&window.pms.plugins.c11n&&window.pms.plugins.c11n.openWorkByHandle)return window.pms.plugins.c11n.openWorkByHandle(e,t);const n={insKey:e,acTargetName:nt.PRIMARY},r=pt,o=Hn(n,this.c11nEnv),{promise:s}=this.actionsApiPromise(r,o);if(Or.isRemoteCase(t)){const{RemoteSystemID:e}=Or.getRemoteCase(t);o.headers=o.headers||{},o.headers.RemoteSystemID=e,o.isRemoteCase=!0,o.remoteCaseClass=t}return ui({type:r,payload:o}),s}openAssignment(e,t,n){if(!e)return Promise.reject(new Error("assignmentID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("assignmentID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms&&window.pms.plugins&&window.pms.plugins.c11n&&window.pms.plugins.c11n.openAssignment)return window.pms.plugins.c11n.openAssignment(e,t);const r={assignmentID:e,doDeleteCaseSummary:!0,containerName:n.containerName,isActionFromToDoList:n.isActionFromToDoList};n.isChild&&(r.containerName=nt.PRIMARY,r.isChild=n.isChild);const o=Vc,s=Hn(r,this.c11nEnv),{promise:a}=this.actionsApiPromise(o,s);if(Or.isRemoteCase(t)){const{RemoteSystemID:e}=Or.getRemoteCase(t);s.headers=s.headers||{},s.headers.RemoteSystemID=e}s.activeItemCaseViewMode=this.c11nEnv.getValue("context_data.caseViewMode");const i={context:s.context||n.context,containerName:s.containerName||n.containerName,targetContainerName:s.containerName||n.containerName,viewType:s.viewType||n.viewType,skipBrowserSemanticUrlUpdate:n.skipBrowserSemanticUrlUpdate};return ui({type:o,payload:{...s,...i}}),a}finishAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=ht,n=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID),r=this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO_ID),o=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENTS),s=this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID),a=s||((e,t)=>{var n,r,o;if(!Array.isArray(e)||!t)throw"Invalid parameters passed to getAssignmentActionID API";return null===(n=e.find((e=>e.ID===t)))||void 0===n||null===(r=n.actions)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.ID})(o,n),i=this.c11nEnv.getValue(tt.CASE_INFO.AVAILABLEACTIONS),c=Mo(this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO));let l=!1;if(i&&s){const e=i.find((e=>e.ID===s));e&&(l="Case"===e.type)}const[u,p]=r.split(" "),d={class:u,actionID:a,assignmentID:n,caseID:r,workID:p,containerName:this.c11nEnv.getContainerName(),containerItemID:e,isCaseWideAction:l,doDeleteCaseSummary:!0,isInCreateStage:c};e&&-1!==e.indexOf(nt.MODAL)&&(d.containerName=nt.MODAL,d.isModalAction=!0);const h=Hn(d,this.c11nEnv),{promise:f}=this.actionsApiPromise(t,h),g=Fs(e),y=this.c11nEnv.getValue("isProcessAction","isProcessAction",g);return h.isProcessAction=y,ui({type:t,payload:{...h,context:g,isFormValid:Ln(g)}}),f}submitBulkAction(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t="SUBMIT_BULK_ACTION",n=this.c11nEnv.getValue(tt.CASE_INFO.CASES),r=this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID),o={containerName:this.c11nEnv.getContainerName(),containerItemID:e,isCaseWideAction:!0,doDeleteCaseSummary:!0,isInCreateStage:!1};e&&-1!==e.indexOf(nt.MODAL)&&(o.containerName=nt.MODAL,o.isModalAction=!0);const s=Hn(o,this.c11nEnv),{promise:a}=this.actionsApiPromise(t,s),i=Fs(e);return ui({type:t,payload:{...s,context:i,cases:n,actionID:r,isFormValid:Ln(i)}}),a}openBulkAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter for openBulkAction"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string openBulkAction"));const{selectedList:n}=t,r=t.type,o={selectedList:n,vcName:t.target,actionName:null==t?void 0:t.name,actionID:e,doDeleteCaseSummary:!0,localActionType:r,...t},s="OPEN_BULK_ACTION",a=Hn(o,this.c11nEnv),{promise:i}=this.actionsApiPromise(s,a);return ui({type:s,payload:{...a}}),i}cancelBulkAction(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=St,n={containerItemID:e,context:e,skipReleaseLockRequest:!0,target:`${nt.APP.APP}/${nt.MODAL}`,caseViewMode:nt.PERFORM_MODE,deleteContext:!0};ui({type:t,payload:n});const{promise:r}=this.actionsApiPromise(t,n);return r}approveCase(e){return e?"string"!=typeof e?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(ui({type:rt,payload:{reference:tt.CASE_INFO.APPROVALFLAG,value:nt.APPROVED,context:e}}),this.finishAssignment(e)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}rejectCase(e){return e?"string"!=typeof e?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(ui({type:rt,payload:{reference:tt.CASE_INFO.APPROVALFLAG,value:nt.REJECTED,context:e}}),this.finishAssignment(e)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}resolveDuplicateCase(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const[,t]=this.c11nEnv.getValue(tt.CASE_INFO.DUPLICATECASEINSKEY).split(" "),n={type:rt,payload:{reference:tt.CASE_INFO.DUPLICATECASEFLAG,value:nt.DUPLICATE,context:e}},r={type:rt,payload:{reference:tt.CASE_INFO.DUPLICATECASEID,value:t,context:e}};return ui([n,r]),this.finishAssignment(e)}ignoreDuplicateCase(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t={type:rt,payload:{reference:tt.CASE_INFO.DUPLICATECASEFLAG,value:nt.IGNORE,context:e}},n={type:rt,payload:{reference:tt.CASE_INFO.DUPLICATECASEID,value:"",context:e}},r={type:rt,payload:{reference:tt.CASE_INFO.DUPLICATECASEINSKEY,value:"",context:e}};return ui([t,n,r]),this.finishAssignment(e)}openLocalAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string"));const n=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID)||t.assignKey,r=this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO_ID)||t.caseID,o=t.type,s={caseID:r,assignmentID:n,vcName:t.target,actionName:null==t?void 0:t.name,assignKey:n,actionID:e,doDeleteCaseSummary:!0,localActionType:o,...t},a="OPEN_LOCAL_ACTION",i=Hn(s,this.c11nEnv),c=this.c11nEnv.getContextName(),{promise:l}=this.actionsApiPromise(a,i);let u=ks(Bs(c)[0]);const p=Ns(Bs(c)[0]);let d=!1;if(null==p||p.accessedOrder.forEach((e=>{r===p.items[e].key&&(d=!0,u=p.items[e].context)})),!d)return ui({type:a,payload:{...i,contextName:c,continueExecution:d}}),l;const h=u,f=h&&-1!==h.indexOf(nt.MODAL),g=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID),y=this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID)?this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID):this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENTACTION_ID),m=this.c11nEnv.getContainerName(),I=this.c11nEnv.getValue(tt.CASE_INFO.CASE_TYPE_ID),E=this.c11nEnv.getValue("isProcessAction","isProcessAction",h),A=Hn({context:h,containerItemID:u,assignmentID:g,actionID:y,caseID:r,containerName:m,caseType:I,isModalAction:f,isFormValid:!0,isProcessAction:E},this.c11nEnv);A.context=u;const _=Fs(u),v=this.c11nEnv.getCaseSummary(),S=Mo(v),b=Hn({caseID:r,containerItemID:u,cancelContext:_},this.c11nEnv);let C={};return f?(b.acTargetName=nt.MODAL,b.isInCreateStage=S,b.isModalAction=f,C={...b}):C={...b,acName:Dr(this.c11nEnv.getContainerName(),b.context)},ui({type:a,payload:{...i,contextName:c,saveActionPayload:A,cancelActionPayload:C,continueExecution:d}}),l}openProcessAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string"));const n=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID)||t.assignKey,r=this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO_ID)||t.caseID,o=t.type,s={caseID:r,assignmentID:n,vcName:t.target,actionName:null==t?void 0:t.name,assignKey:n,actionID:e,doDeleteCaseSummary:!0,processActionType:o,isProcessAction:!0,...t},a=kc,i=Hn(s,this.c11nEnv),{promise:c}=this.actionsApiPromise(a,i);return ui({type:a,payload:{...i}}),c}navigateToStep(e,t){if(!e)return Promise.reject(new Error("stepID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("stepID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const n="NAVIGATE_TO_STEP",r=this.c11nEnv.getValue(tt.NEXT_ASSIGNMENT_INFO_ID)?this.c11nEnv.getValue(tt.NEXT_ASSIGNMENT_INFO_ID):this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID),o=Mo(this.c11nEnv.getCaseSummary()),s={ID:r,stepID:e,acTargetName:this.c11nEnv.getContainerName(),targetContainerName:this.c11nEnv.getContainerName(),containerItemID:t,doDeleteCaseSummary:!0,isInCreateStage:o};t&&-1!==t.indexOf(nt.MODAL)&&(s.acTargetName=nt.MODAL);const a=Hn(s,this.c11nEnv),{promise:i}=this.actionsApiPromise(n,a),c=Fs(t),l=Ln(c);return ui({type:n,payload:{...a,containerItemID:t,context:c,isFormValid:l}}),i}cancelAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:t}=tt,n=ft,r=Fs(e),o=e&&e.indexOf(nt.MODAL)>-1,s=this.c11nEnv.getCaseSummary(),a=Mo(s),i=this.c11nEnv.getValue(t.CASE_INFO_ID),c=Hn({caseID:i,containerItemID:e,context:r},this.c11nEnv);let l={};o?(c.acTargetName=nt.MODAL,c.isInCreateStage=a,c.isModalAction=o,l={...c}):l={...c,acName:Dr(this.c11nEnv.getContainerName(),c.context)},ui({type:n,payload:l});const{promise:u}=this.actionsApiPromise(n,c);return u}cancelCreateStageAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:t}=tt,n=yt,r=e,o=r&&-1!==r.indexOf(nt.MODAL),s=this.c11nEnv.getCaseSummary(),a=Mo(s),i=this.c11nEnv.getValue(t.CASE_INFO_ID),c=Hn({caseID:i,containerItemID:e,context:r},this.c11nEnv),l=this.c11nEnv.getValue("isProcessAction","isProcessAction",r);if(c.isProcessAction=l,a&&o&&!jo(s)){const t=this.c11nEnv.getValue("caseInfo.isFirstAssignment");if(!yo(r)&&t)return this.deleteCaseInCreateStage(e);ui({type:n,payload:{...c,isModalAction:o,isChildCase:ko(s)}})}const{promise:u}=this.actionsApiPromise(n,c);return u}saveAndClose(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=e,n=t&&-1!==t.indexOf(nt.MODAL),r=this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO_ID),o=this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENT_ID),s=this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID)?this.c11nEnv.getValue(tt.CASE_INFO.ACTIVE_ACTION_ID):this.c11nEnv.getValue(tt.CASE_INFO.ASSIGNMENTACTION_ID),a=this.c11nEnv.getContainerName(),i=this.c11nEnv.getValue(tt.CASE_INFO.CASE_TYPE_ID),c=Ln(this.c11nEnv.getContextName()),l=this.c11nEnv.getValue("isProcessAction","isProcessAction",t),u=Hn({context:t,containerItemID:e,assignmentID:o,actionID:s,caseID:r,containerName:a,caseType:i,isModalAction:n,isFormValid:c,isProcessAction:l},this.c11nEnv),{promise:p}=this.actionsApiPromise("SAVE_AND_CLOSE",u);return ui(Gc(u)),p}deleteCaseInCreateStage(e,t=!1){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const n=e,r=n&&-1!==n.indexOf(nt.MODAL),o=this.c11nEnv.getValue(tt.CASE_INFO.CASE_INFO_ID),s=this.c11nEnv.getValue(tt.CASE_INFO.CASE_TYPE_ID),a=Hn({caseID:o,caseType:s,containerItemID:e,context:n,ignoreCaseDeletion:t},this.c11nEnv),i=this.c11nEnv.getValue("isProcessAction","isProcessAction",n),c=this.c11nEnv.getValue(tt.CASE_INFO.PARENTCASEINFO);a.isProcessAction=i,a.parentCaseInfo=c;const l=`${nt.APP.APP}/${Ts.PRIMARY}`,u=fs(l,Ts.PRIMARY);a.parentContext=u,r&&(a.targetName=nt.MODAL,a.containerName=Ts.MODAL,a.isModalAction=r),ui((e=>({type:Fc,payload:e}))(a));const{promise:p}=this.actionsApiPromise("DELETE_CASE_IN_CREATE_STAGE",a);return p}getRecents(e){if(!e)return Promise.reject(new Error("maxResultsToFetch is required parameter"));if("number"!=typeof e)return Promise.reject(new TypeError("maxResultsToFetch must be number"));let{restApi:t}=Rr.getRestEndPoint("getRecents");t=`${t}?maxResultsToFetch=${e}`;const n=ir()+t;return Fi(n,{method:"GET",headers:{}})}logout(){const{restApi:e}=Rr.getRestEndPoint("Logout"),t=ir()+e;return Fi(t,{method:"GET",headers:{}})}invoke(e,t={}){const n={method:t.method||"GET",body:t.body};return Fi(e,n,this.c11nEnv.getContextName())}showCasePreview(e,t={}){this.loadView(e,"pyCasePreview",{container:Ts.PREVIEW,containerName:Ts.PREVIEW,context:tt.APP.APP,...t})}showDataPreview(e,t,n={}){return e?"string"!=typeof e?Promise.reject(new TypeError("dataContext must be string")):t?"object"!=typeof t?Promise.reject(new TypeError("dataContextParameters must be an object")):this.showData("pyDataPreview",e,t,{container:Ts.PREVIEW,containerName:Ts.PREVIEW,context:tt.APP.APP,...n,skipSemanticUrl:!0}):Promise.reject(new Error("dataContextParameters is required parameter")):Promise.reject(new Error("dataContext is required parameter"))}loadView(e,t,n){let r=Hn({caseId:e,viewName:t,caseClassName:this.c11nEnv.getValue(tt.CASE_INFO.CASE_TYPE_ID),RemoteSystemID:Or.getRemoteHeaderByContext(this.c11nEnv.getContextName())},this.c11nEnv);n&&(r={...r,...n});const o=st,{promise:s}=this.actionsApiPromise(o,r,!1);return ui({type:o,payload:{...r}}),s}showPage(e,t,n={}){if(!e)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));const r=Hn({viewName:e,className:t},this.c11nEnv),o=at,{promise:s}=this.actionsApiPromise(o,r);return ui({type:o,payload:{...r,containerName:n.containerName||this.c11nEnv.getContainerName(),skipSemanticUrl:n.skipSemanticUrl}}),s}showData(e,t,n,r={}){if(!e)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!t)return Promise.reject(new Error("dataContext is required parameter"));if("string"!=typeof t)return Promise.reject(new TypeError("dataContext must be string"));const o=Hn({pageName:e,dataContext:t,dataContextParameters:n},this.c11nEnv),s=it,{promise:a}=this.actionsApiPromise(s,o);return ui({type:s,payload:{...o,...r,skipSemanticUrl:Boolean(r.skipSemanticUrl)}}),a}changeHandler(e,t){Kn(e,t)}eventHandler(e,t){Xn(e,t)}triggerFieldChange(e,t){const n=this.c11nEnv.getContextName(),r=this.c11nEnv.getPageReference(),o=Ya.getContextPath(r,e);this.c11nEnv.getValidationApi().validate(t),this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(e,t);let s=this.c11nEnv.getValue(nt.CLASS_ID);const a=e?e.split(".").filter((e=>!!e)):[];a.length>1&&(a.pop(),s=fi(`.${a.join(".")}.classID`,r,n)),ui({type:ot,payload:{reference:o,value:t,context:n,pageReference:this.c11nEnv.getPageReference(),propertyName:this.c11nEnv.getComponentConfig().value,classID:s}})}updateFieldValue(e,t,n={}){const{removePropertyFromChangedList:r=!1,isArrayDeepMerge:o=!0,contextPageReference:s=null}=n,a=this.c11nEnv.getContextName(),i=null==s?this.c11nEnv.getPageReference():s,c=Ya.getContextPath(i,e);let l=!1;this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(e,t),this.c11nEnv.isBulkAction()&&(l=!0),e||(e=this.c11nEnv.getStateProps().value),bn({type:tt.MESSAGES.MESSAGES_TYPE_ERROR,property:e,pageReference:i,context:a}),ui({type:rt,payload:{reference:c,value:t,context:a,isArrayDeepMerge:o,...l&&{isStrictTracking:l},...r&&{removePropertyFromChangedList:r}}})}activateModalContainerItem(e){const t=Mt,{context:n}=e,r=n&&-1!==n.indexOf(nt.MODAL),o=Hn({...e,containerName:this.c11nEnv.getContainerName(),containerItemID:n},this.c11nEnv);r&&(o.containerName=nt.MODAL,o.isModalAction=r),ui({type:t,payload:o});const{promise:s}=this.actionsApiPromise(t,o);return s}refreshCaseView(e,t,n,r={}){const{promise:o,actionMgrID:s}=this.actionsApiPromise("REFRESH_DATA"),a={actionMgrID:s,caseViewAction:!0},{autoDetectRefresh:i}=r,c=this.c11nEnv.getContextName(),l=this.c11nEnv.getPageReference();return i&&(((e,t)=>!(!Vo(e)||Uo(e,t)))(c,l)||Uo(c,l))?ti(c,n,a):Za(e,t,c,n,a),o}}(this),this.getActionManager=()=>Vn,this.getGoogleMapsAPIKey=()=>sr,this.getLoadingStatus=e=>{let t=null;return e?(t=pi(e),t=t?t.context_data:null):t=this.getDataObject().context_data,!!t&&!!t.isLoading&&t.isLoading},this.clearErrorMessages=e=>{null!=e&&e.property?bn({type:"error",property:e.property,pageReference:this.getPageReference(),context:this.getContextName()}):null!=e&&e.context?bn({type:"error",...e}):(bn({type:"error",...e,context:nt.APP.APP}),bn({type:"error",...e,context:ks(`${nt.APP.APP}/${this.getContainerName()}`)}))},this.resolveDatasourceReference=e=>yi(`${this.getPageReference()}.${nt.SUMMARY_OF_LISTS}`,e,this.getContextName())||e;const N=r.type;let R=s.pageReference;if(R&&(R=An.handleAnnotation(s.pageReference,this)),d=Ya.getContextPath(R||s.parentPageReference,d),d||(d=""),"reference"===N&&(i=r),"reference"===N&&et.isWhenExist({visibility:r.config.visibility})&&ei(E,h,d),"reference"!==N&&(i=Ya.resolveReference(r,this)),this.removeFormField=()=>{i&&s.hasForm&&i.config&&Object.prototype.hasOwnProperty.call(i.config,"value")&&((e,t,n)=>{if(Tn[e]){var r,o;const s=Nn(t,n);!1===(null===(r=Tn[e].fieldOrder[s])||void 0===r||null===(o=r.getConfigProps())||void 0===o?void 0:o.visibility)?delete Tn[e].fieldOrder[s]:Tn[e].fieldOrder[s]&&(Tn[e].fieldOrder[s].isMounted=!1)}})(this.getContextName(),this.getStateProps().value,this.getPageReference())},this.addFormField=()=>{i&&s.hasForm&&i.config&&Object.prototype.hasOwnProperty.call(i.config,"value")&&((e,t,n)=>{if(Tn[e]){const r=Nn(t,n);Tn[e].fieldOrder[r]&&(Tn[e].fieldOrder[r].isMounted=!0)}})(this.getContextName(),this.getStateProps().value,this.getPageReference())},i){var D,x;const e=this.getRawConfigProps();e&&(S=An.trimAnnotation(e.localeReference)||s.localeReference,c=et.isExpressionExist(e),u=et.isWhenExist(e),p=Lc.isValidatorExist(e)),y=i.children,s.hasForm&&i.config&&(Object.prototype.hasOwnProperty.call(i.config,"value")||i.config.selectionList||"Editable"===i.config.renderMode&&i.config.referenceList)&&(!i.config.readOnly||"true"!==i.config.readOnly)&&((e,t,n)=>{const r=On(t);var o;!1===n.getConfigProps().visibility&&null!==(o=Tn[e])&&void 0!==o&&o.fieldOrder[r]||((e,t,n)=>{Tn[e]?(Tn[e].fieldOrder[t]=n,Tn[e].fieldOrder[t].isError=!1):(Tn[e]={fieldOrder:{[t]:n}},Tn[e].fieldOrder[t].isError=!1)})(e,r,n)})(h,this.getFullReference(),this),(null===(D=i)||void 0===D||null===(x=D.type)||void 0===x?void 0:x.toLowerCase())===nt.VIEW&&i.name&&(E=An.handleAnnotation(i.name,this)),s.hasForm&&(e=>{let t=!1;if(e.isWhenExist())t=!0;else{var n;const r=null===(n=e.getRawMetadata().config)||void 0===n?void 0:n.value;if(r){const n=an(An.getLeafPropertyName(r),e.getValue(nt.CLASS_ID));t=!(null==n||!n.isDeclarativeTarget)}}t&&ei(e.getCurrentView(),e.getContextName(),e.getPageReference())})(this)}return{getPConnect:()=>this}}function tl(e){return new el(e)}function nl(e){Xc=e}const rl={createC11nEnv:tl,registerComponentCreator:nl};function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class sl{}ol(sl,"getCaseEvent",(()=>Object.freeze(tt.PUB_SUB_EVENTS.CASE_EVENTS))),ol(sl,"getTransientEvent",(()=>Object.freeze(tt.PUB_SUB_EVENTS.EVENT_TRANSIENT_ITEMS)));const al=sl,il={getResolvedSemanticURL:(e,t,n)=>Rr.getResolvedSemanticURL(e,t,n),getActions:()=>({ACTION_OPENWORKBYHANDLE:kt,ACTION_SHOWDATA:Ut})};var cl=new x(N);function ll(e,t){return void 0===t&&(t=cl),function(n){return n.lift(new ul(e,t))}}var ul=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new pl(e,this.dueTime,this.scheduler))},e}(),pl=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return v(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dl,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(V);function dl(e){e.debouncedNext()}const hl=new class{getDebouncedSubject(e){return(new z).pipe(ll(e))}};function fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var yl=new WeakSet;function ml(e){return null==e?void 0:e.toString().replace(/\s/g,"-").toLowerCase()}const Il=new class{constructor(){yl.add(this),fl(this,"setComponentState",((e,t)=>{sessionStorage?sessionStorage.setItem(gl(this,yl,ml).call(this,e),JSON.stringify(t)):console.error("Session Storage not found")})),fl(this,"getComponentState",(e=>{const t=sessionStorage.getItem(gl(this,yl,ml).call(this,e));return et.isValidJson(t)||t})),fl(this,"removeComponentState",(e=>{sessionStorage.removeItem(gl(this,yl,ml).call(this,e))}))}},El=new class{constructor(){this.genericFailedMessage="Failed to display content. Contact the application administrator."}getGenericFailedMessage(){return this.genericFailedMessage}setGenericFailedMessage(e){this.genericFailedMessage=e}};var Al=n(926),_l=n.n(Al);const vl=new class{constructor(){this.subscriptions={}}getOrCreateSubscription(e){if(!this.subscriptions[e]){const t={caseId:e};this.subscriptions[e]=new class{constructor(e,t){this.atomicSubscribers={},this.connectionsCount=1,this.connected=!1,this.matcher=e,this.criteria=t}_handleAtomicMessage({message:e}){Object.keys(this.atomicSubscribers).forEach((t=>{const n=this.atomicSubscribers[t],r=Object.keys(n.criteria),o=Object.keys(e);0===_l()(r,o).length&&n.callback(e)}))}_getAutoGenId(){return this.connectionsCount=this.connectionsCount+1,`${Date.now()}_${this.connectionsCount}`}subscribe(e,t){if(!this.connected){const e={matcher:this.matcher,criteria:this.criteria};Cl.subscribe(e,this._handleAtomicMessage.bind(this)),this.connected=!0}const n=this._getAutoGenId();return this.atomicSubscribers[n]={criteria:e,callback:t},n}unsubscribe(e){delete this.atomicSubscribers[e]}}("CASE",t)}return this.subscriptions[e]}};function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bl{static initConnection(e){console.log("initConnection()");const{messagingService:t}=e;if(!t||t&&t.length<=6)return;const n=So.b2sJWT;if(!n||n.length<4)return;this.webSocket&&(console.log(`initConnection() - cleanup event handlers - ws state:${this.webSocket.readyState}`),this.cleanSocketListeners(),this.webSocket.close()),console.log("initConnection() - create new connection");const r=t.endsWith("/")?t+"ws":t+"/ws",o=new WebSocket(`${r}?token=${n}`);this.webSocket=o,o.addEventListener("open",this.handleOnOpen.bind(this)),o.addEventListener("message",this.handleOnMessage.bind(this)),o.addEventListener("error",this.handleOnError.bind(this)),o.addEventListener("close",this.handleOnClose.bind(this))}static handleOnError(e){console.log("web socket connection error event: ",e)}static handleOnClose(e){console.log("web socket connection closed event: ",e),null!==this.serviceAliveHandler&&(clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=null),this.connectionConfig.disableReInit||this.reInitInterval||this.reInitialization()}static handleOnOpen(e){console.log("successfully connected to messaging service ",e),clearInterval(this.reInitInterval),this.reInitInterval=null,null!=this.webSocket&&1===this.webSocket.readyState&&(this.inProgressSubscriptions.forEach((({messageSubscriber:e,id:t})=>{this.subscribeToSocket(e,t)})),this.inProgressSubscriptions=[],this.inProgressMessages.forEach((e=>{this.publishMessage(e)})),this.inProgressMessages=[])}static handleOnMessage(e){if(null!==e&&"ALIVE"===e.data)null===this.isServiceAlive&&(console.log("Registered to check liveness of messaging service"),this.checkLiveliness(6e3)),this.isServiceAlive=!0;else{let t=null;try{t=JSON.parse(e.data)}catch(t){console.error("Invalid data recieved from messaging service",e.data)}if(t&&t.msgId&&this.webSocket.send(`{"ack":"${t.msgId}"}`),t&&t.filter){const{matcher:e,criteria:n}=t.filter;delete n.environmentID,Object.keys(this.subscribers).forEach((r=>{const o=this.subscribers[r];o.filter.matcher===e&&et.isEqual(o.filter.criteria,n)&&o.messageHandler(t)}))}else console.error("filter missing from recieved data from messaging service",e.data)}}static reInitialization(e){console.log(`reInitialization(${e}), ${this.reInitInterval}`),this.reInitInterval||(Object.keys(this.subscribers).forEach((e=>{this.inProgressSubscriptions.push({messageSubscriber:this.subscribers[e],id:e})})),e?(console.log("web socket server re-initializing"),this.initConnection(this.connectionConfig)):(console.log("calling setInterval(initConnection)"),this.reInitInterval=setInterval((()=>{this.initConnection(this.connectionConfig)}),2e3)))}static checkLiveliness(e){!1===this.isServiceAlive?(console.log("web socket check liveness fail"),this.reInitialization(!0)):this.isServiceAlive=!1,null!==this.serviceAliveHandler&&clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=setTimeout((()=>{this.checkLiveliness(e)}),e)}static setConnectionConfig(e){this.connectionConfig=e}static cleanSocketListeners(){null!=this.webSocket&&(this.webSocket.removeEventListener("open",this.handleOnOpen.bind(this)),this.webSocket.removeEventListener("message",this.handleOnMessage.bind(this)),this.webSocket.removeEventListener("error",this.handleOnError.bind(this)),this.webSocket.removeEventListener("close",this.handleOnClose.bind(this)))}static disconnect(){null!=this.webSocket&&(this.cleanSocketListeners(),this.webSocket.close(),this.webSocket=null)}static subscribe(e,t,n,r){this.connectionsCount=this.connectionsCount+1;const o=r||`${Date.now()}_${this.connectionsCount}`,s=new class{constructor(e,t,n){this.filter=e,this.messageHandler=t,this.contextName=n}}(e,t,n);return null!==this.webSocket&&1===this.webSocket.readyState?(this.subscribeToSocket(s,o),o):(this.inProgressSubscriptions.push({messageSubscriber:s,id:o}),null===this.webSocket&&this.initConnection(this.connectionConfig),o)}static subscribeToSocket(e,t){this.subscribers[t]=e;const n={filter:e.filter,subscribe:{id:t}};this.webSocket.send(JSON.stringify(n))}static unsubscribe(e){delete this.subscribers[e];const t={unsubscribe:{id:e}};null!=this.webSocket&&1===this.webSocket.readyState&&this.webSocket.send(JSON.stringify(t))}static publishMessage(e){null!=this.webSocket?null==this.webSocket||1!==this.webSocket.readyState?this.inProgressMessages.push(e):this.webSocket.send(JSON.stringify(e)):console.error("Web socket not initialized.")}static clearContext(e){Object.keys(this.subscribers).forEach((t=>{this.subscribers[t].contextName===e&&this.unsubscribe(t)})),this.userPresence.clearContext(e)}}Sl(bl,"subscribers",{}),Sl(bl,"connectionsCount",0),Sl(bl,"webSocket",null),Sl(bl,"connectionConfig",null),Sl(bl,"inProgressSubscriptions",[]),Sl(bl,"inProgressMessages",[]),Sl(bl,"isServiceAlive",null),Sl(bl,"serviceAliveHandler",null),Sl(bl,"userPresence",new class{constructor(){this.users={},this.connected=!1,this.connectionsCount=1}_handleUserPresence({message:e}){const{state:t,updateById:n}=e,r=this.users[n];r&&(r.state=t,Object.keys(r.subscribers).forEach((e=>{var t;null===(t=r.subscribers[e])||void 0===t||t.callback({state:r.state})})))}_getAutoGenId(){return this.connectionsCount=this.connectionsCount+1,`${Date.now()}_${this.connectionsCount}`}subscribe(e,t,n){const r=this._getAutoGenId(),o=this.users[e];if(o)return o.subscribers[r]={callback:t,contextName:n},r;this.users[e]={subscribers:{[r]:{callback:t,contextName:n}}};const s={matcher:"PRESENCE",criteria:{userId:e}};return Cl.subscribe(s,this._handleUserPresence.bind(this)),r}unsubscribe(e,t){const n={matcher:"PRESENCE",unsubscribeUsers:{users:[e]}};this.users[e]&&this.users[e].subscribers&&(delete this.users[e].subscribers[t],0===Object.keys(this.users[e].subscribers).length&&(delete this.users[e],Cl.publishMessage(n)))}getUserState(e){return this.users[e]&&this.users[e].state}clearContext(e){Object.keys(this.users).forEach((t=>{Object.keys(this.users[t].subscribers).forEach((n=>{this.users[t].subscribers[n].contextName===e&&this.unsubscribe(t,n)}))}))}}),Sl(bl,"getUserPresence",(()=>bl.userPresence)),Sl(bl,"getCaseSubscription",(e=>vl.getOrCreateSubscription(e)));const Cl=bl,Pl=class{constructor(){this.records=[],this.maxRecords=0,this.isDirty=!1}getRecords(e){if(e){const t=[],{pageNumber:n,pageSize:r}=e,o=n*r;let s=o-r;for(;s<o;s+=1){if(!this.records[s])return this.maxRecords===s?t:[];t.push(this.records[s])}return t}return this.records}mergeRecords(e,t){if(t){const{pageNumber:n,pageSize:r}=t,o=n*r;let s=0;for(let t=o-r+1-1;t<o;t+=1)this.records[t]=e[s],s+=1;if(e.length<r){const t=(n-1)*r+e.length;this.setMaxRecordsCount(t)}}else Ai(this.records,e,{isArrayDeepMerge:!0}),this.setMaxRecordsCount(this.records.length)}setMaxRecordsCount(e){this.maxRecords=e}getMaxRecordsCount(){return this.maxRecords}},Tl=new class{constructor(){this.datastore={},this.subscribers={},this.isMessagingServiceOn=!1}getData(e,t={},n,r){const o=this._generateHash(e,t,r);if(null===o)return[];if(this.datastore[e]&&this.datastore[e][o]){const t=this.datastore[e][o];return t.isDirty?(t.isDirty=!1,[]):t.getRecords(n)}return[]}_generateHash(e,t,n){const r=hn(e);if(!r)return null;const o=r.parameters||[];let s="",a=e;const i=[];return o.forEach((e=>{t[e.name]?i.push(t[e.name]):i.push(e.defaultValue||nt.NULL_STRING)})),n&&i.push(JSON.stringify(n)),i.join(nt.HASH_DELIMITER)&&(s=et.getHashedString(i.join(nt.HASH_DELIMITER)),a=e+nt.UNDERSCORE_STRING+s),a}async getDataAsync(e,t,n={},r,o,s={}){var a;if(this._subscribeToMessageService(),!this._isCacheable(e,o)||s.invalidateCache){var i,c,l;const a=await this._fetchData(e,n,r,o,t,s);return{data:null!==(i=null==a||null===(c=a.data)||void 0===c?void 0:c.data)&&void 0!==i?i:[],queryStats:null==a||null===(l=a.data)||void 0===l?void 0:l.queryStats}}const u=this.getData(e,n,r,o);if(u.length>0)return{data:u};const p=await this._fetchData(e,n,r,o,t,s);return{data:this._mergeDataStore(e,n,r,o,p),queryStats:null===(a=p.data)||void 0===a?void 0:a.queryStats}}updateDataPageStore(e={}){Object.keys(e).forEach((t=>{this.datastore[t]||(this.datastore[t]={});const n=e[t];Object.keys(n).forEach((n=>{if(this.datastore[t][n])this.datastore[t][n].mergeRecords(e[t].pxResults);else{const r=new Pl;this.datastore[t][n]=r,r.mergeRecords(e[t].pxResults)}}))}))}_mergeDataStore(e,t,n,r,o){var s;const a=this._generateHash(e,t,r),i=null==o||null===(s=o.data)||void 0===s?void 0:s.data;if(!i||0===i.length)return[];if(null===a)return i;this.datastore[e]||(this.datastore[e]={}),this.datastore[e][a]||(this.datastore[e][a]=new Pl);const c=this.datastore[e][a];return c.mergeRecords(i,n),c.getRecords(n)}async _fetchData(e,t,n,r,o,s){const a={dataViewParameters:t};return n&&(a.paging=n),r&&(a.query=r),await Pc.getData(e,a,o,s)}isDataPage(e=""){return!(!e.startsWith("D_")&&!e.startsWith("Declare_"))}_handleCascadeUpdate(){const{dataPageName:e,scope:t}=this;t._handleMessage({message:{datapage:e}})}subscribeToUpdate(e,t,n,r,o,s){this.subscribers[e]=this.subscribers[e]||{},this.subscribers[e].callback=this.subscribers[e].callback||{},this.subscribers[e].callback[s]||(this.subscribers[e].callback[s]=o),this._subscribeToCascadeUpdates(e,t,n,r,s)}unsubscribe(e,t,n,r,o){var s;null===(s=this.subscribers[e])||void 0===s||delete s.callback[o],t&&t.length>0&&si.unRegisterFields(n,r,t,o)}_subscribeToCascadeUpdates(e,t,n,r,o){t&&t.length>0&&si.registerFields(n,r,t,this._handleCascadeUpdate.bind({dataPageName:e,scope:this}),o)}_subscribeToMessageService(){this.isMessagingServiceOn||(Cl.subscribe({matcher:"DATAPAGE_UPDATED",criteria:{}},this._handleMessage.bind(this)),this.isMessagingServiceOn=!0)}_handleMessage({message:e}){const{datapage:t}=e,n=this.subscribers[t];this._markDataInstancsDirty(t),n&&n.callback&&Object.keys(n.callback).forEach((t=>{n.callback[t](e)}))}_markDataInstancsDirty(e){this.datastore[e]&&Object.keys(this.datastore[e]).forEach((t=>{this.datastore[e][t].isDirty=!0}))}_isPerInteraction(e){const t=hn(e);return t&&t.refreshStrategy&&"reloadOncePerInteraction"===t.refreshStrategy.type}_isCacheable(e,t){return!(this._isPerInteraction(e)||t&&Object.keys(t).length>1)}},Ol={setTokens:e=>{Hi({tokenInfo:e}),Wi({Authorization:`${null==e?void 0:e.token_type} ${null==e?void 0:e.access_token}`})},revokeTokens:async()=>(async()=>new Promise(((e,t)=>{const n={...Ui};if(null==n||!n.tokenInfo)return void t(new Error("Missing token information."));const{access_token:r,refresh_token:o=null}=n.tokenInfo,{revoke:s}=n.endPoints,{client_id:a,client_secret:i}=n,c={"content-type":"application/x-www-form-urlencoded"};i&&(c.authorization="Basic "+window.btoa(a+":"+i));const l=["access_token"];o&&l.push("refresh_token"),l.forEach((async e=>{const t=new URLSearchParams;i||t.append("client_id",a),t.append("token","access_token"===e?r:o),t.append("token_type_hint",e),await fetch(s,{method:"POST",headers:new Headers(c),body:t.toString()})})),Wi({Authorization:null}),Hi({tokenInfo:null}),e()})))(),getAuthInstance:e=>Ni.init(e)},Nl=new class{constructor(){this.xray=!1,this.onXRayCallback=null,this.xrayRuntime=new class{constructor(e){this.xrayInfo={},this.xRayDebugger=e}startXRay(){if(!this.xRayDebugger.xray)return null;const e=`${Date.now()+Math.random()}`;return this.xrayInfo[e]={startTime:Date.now()/1e3},e}startXRayRestApi(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],restApisTime:{...this.xrayInfo[e]?this.xrayInfo[e].restApisTime:{},[t]:Date.now()}})}stopXRayRestApi(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],restApisTime:{...this.xrayInfo[e].restApisTime,[t]:(Date.now()-this.xrayInfo[e].restApisTime[t])/1e3}})}updateXRay(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],...t})}stopXRay(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],totalTime:Date.now()/1e3-this.xrayInfo[e].startTime},t().setXRayInfo(this.xrayInfo[e]),delete this.xrayInfo[e])}}(this)}onXRay(e){this.onXRayCallback=e}toggleXRay(e){this.xray=e,this.xrayRuntime.xrayInfo={},null!=this.onXRayCallback&&this.onXRayCallback(e)}isXRayOn(){return this.xray}getXRayRuntime(){return this.xrayRuntime}};function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dl{constructor(){Rl(this,"getPCoreVersion",(()=>"8.7.1")),Rl(this,"onPCoreReady",(e=>Hd(e))),Rl(this,"getComponentsRegistry",(()=>bd())),Rl(this,"checkIfSemanticURL",(()=>Wd())),Rl(this,"isValidSemanticURL",(()=>(()=>{if(zr()){const e=Rr.processUrl(br(),!0);return!!Rr._getMatchedRouteInRoutingTable(e)}return!1})())),Rl(this,"getViewResources",(()=>p)),Rl(this,"configureForBrowserBookmark",(e=>Bd(e))),Rl(this,"getStore",(()=>li())),Rl(this,"resetStore",(()=>{const e=Yt,{promise:t,actionMgrID:n}=Vn.actionManagerPromise(e);return ui({type:e,payload:{actionMgrID:n}}),t})),Rl(this,"getMessageManager",(()=>Pn)),Rl(this,"getStoreValue",((e,t,n)=>fi(e,t,n))),Rl(this,"getContainerUtils",(()=>i)),Rl(this,"getAnnotationUtils",(()=>Zr)),Rl(this,"getAssetLoader",(()=>So)),Rl(this,"getAttachmentUtils",(()=>tc)),Rl(this,"getFeedUtils",(()=>lc)),Rl(this,"getTagUtils",(()=>uc)),Rl(this,"getStakeholderUtils",(()=>dc)),Rl(this,"getUserApi",(()=>oc)),Rl(this,"getCaseFollowerApi",(()=>nc)),Rl(this,"getRelatedCasesApi",(()=>rc)),Rl(this,"getPersonalizationUtils",Cc),Rl(this,"getDataApi",(()=>Oc)),Rl(this,"getDataApiUtils",(()=>Pc)),Rl(this,"getAnalyticsUtils",(()=>wc)),Rl(this,"getLocaleUtils",(()=>ns)),Rl(this,"registerLocaleManager",(e=>{const t=this.getLocaleUtils();Object.keys(e).forEach((n=>{t[n]=e[n]}))})),Rl(this,"setBehaviorOverrides",(e=>{Dl.behaviorOverrides=e})),Rl(this,"setBehaviorOverride",((e,t)=>{Dl.behaviorOverrides[e]=t})),Rl(this,"getBehaviorOverrides",(()=>Dl.behaviorOverrides)),Rl(this,"getBehaviorOverride",(e=>Dl.behaviorOverrides[e])),Rl(this,"getAsynchronousUtils",(()=>hl)),Rl(this,"createPConnect",(e=>tl(e))),Rl(this,"getPubSubUtils",(()=>Pi)),Rl(this,"registerComponentCreator",(e=>{nl(e)})),Rl(this,"getConstants",(()=>Object.freeze(tt))),Rl(this,"getEvents",(()=>al)),Rl(this,"getRestClient",(()=>u)),Rl(this,"getMashupApi",(()=>class{static openCase(e,t=tt.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=nt.PY_DETAILS),Yc.openCase(e,t,nt.PRIMARY,n)}static createCase(e,t=tt.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=nt.PY_DETAILS),Yc.createCase(e,t,nt.PRIMARY,n)}static openAssignment(e,t=tt.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=nt.PY_DETAILS),Yc.openAssignment(e,t,nt.PRIMARY,n)}static openPage(e,t,n=tt.APP.APP){const r=at,o={viewName:e,className:t,acTargetName:nt.PRIMARY,actionMgrID:Vn.getNextActionMgrId(),context:n},{promise:s}=Vn.actionManagerPromise(r,o.actionMgrID);return ui({type:r,payload:{...o}}),s}static getCurrentContextAPI(e,t=tt.APP.APP){const n={meta:{config:{}},options:{context:t,pageReference:e,containerName:nt.PRIMARY}};return xl.createPConnect(n).getPConnect()}})),Rl(this,"getEnvironmentInfo",(()=>wo)),Rl(this,"getRuntimeParamsAPI",(()=>fc)),Rl(this,"getSemanticUrlUtils",(()=>il)),Rl(this,"getRemoteCaseUtils",(()=>Or)),Rl(this,"getNavigationUtils",(()=>Il)),Rl(this,"registerModule",((e,t)=>class{static registerModule(e,t,n){n[e]=()=>t}}.registerModule(e,t,this))),Rl(this,"getErrorHandler",(()=>El)),Rl(this,"getFormUtils",(()=>class{static getChanges(e){return Eo(e)}static isFormValid(e){return Ln(e)}})),Rl(this,"getMessagingServiceManager",(()=>Cl)),Rl(this,"getMetadataUtils",(()=>e)),Rl(this,"getDataPageUtils",(()=>Tl)),Rl(this,"getCascadeManager",(()=>si)),Rl(this,"isDeepEqual",((e,t)=>$e()(e,t))),Rl(this,"getAuthUtils",(()=>Ol)),Rl(this,"getDebugger",(()=>Nl)),Rl(this,"getDeferLoadManager",(()=>ri)),Dl.behaviorOverrides={}}}Rl(Dl,"behaviorOverrides",{});const xl=new Dl;function wl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ml(e){return!!e&&!!e[Iu]}function Ll(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Eu}(e)||Array.isArray(e)||!!e[mu]||!!e.constructor[mu]||Fl(e)||$l(e))}function jl(e,t,n){void 0===n&&(n=!1),0===Ul(e)?(n?Object.keys:Au)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ul(e){var t=e[Iu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Fl(e)?2:$l(e)?3:0}function kl(e,t){return 2===Ul(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vl(e,t,n){var r=Ul(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Fl(e){return hu&&e instanceof Map}function $l(e){return fu&&e instanceof Set}function Gl(e){return e.o||e.t}function Bl(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=_u(e);delete t[Iu];for(var n=Au(t),r=0;r<n.length;r++){var o=n[r],s=t[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Wl(e,t){return void 0===t&&(t=!1),ql(e)||Ml(e)||!Ll(e)||(Ul(e)>1&&(e.set=e.add=e.clear=e.delete=Hl),Object.freeze(e),t&&jl(e,(function(e,t){return Wl(t,!0)}),!0)),e}function Hl(){wl(2)}function ql(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Yl(e){var t=vu[e];return t||wl(18,e),t}function zl(){return pu}function Kl(e,t){t&&(Yl("Patches"),e.u=[],e.s=[],e.v=t)}function Jl(e){Xl(e),e.p.forEach(Zl),e.p=null}function Xl(e){e===pu&&(pu=e.l)}function Ql(e){return pu={p:[],l:pu,h:e,m:!0,_:0}}function Zl(e){var t=e[Iu];0===t.i||1===t.i?t.j():t.O=!0}function eu(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Yl("ES5").S(t,e,r),r?(n[Iu].P&&(Jl(t),wl(4)),Ll(e)&&(e=tu(t,e),t.l||ru(t,e)),t.u&&Yl("Patches").M(n[Iu].t,e,t.u,t.s)):e=tu(t,n,[]),Jl(t),t.u&&t.v(t.u,t.s),e!==yu?e:void 0}function tu(e,t,n){if(ql(t))return t;var r=t[Iu];if(!r)return jl(t,(function(o,s){return nu(e,r,t,o,s,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ru(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Bl(r.k):r.o;jl(3===r.i?new Set(o):o,(function(t,s){return nu(e,r,o,t,s,n)})),ru(e,o,!1),n&&e.u&&Yl("Patches").R(r,n,e.u,e.s)}return r.o}function nu(e,t,n,r,o,s){if(Ml(o)){var a=tu(e,o,s&&t&&3!==t.i&&!kl(t.D,r)?s.concat(r):void 0);if(Vl(n,r,a),!Ml(a))return;e.m=!1}if(Ll(o)&&!ql(o)){if(!e.h.F&&e._<1)return;tu(e,o),t&&t.A.l||ru(e,o)}}function ru(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Wl(t,n)}function ou(e,t){var n=e[Iu];return(n?Gl(n):e)[t]}function su(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function au(e){e.P||(e.P=!0,e.l&&au(e.l))}function iu(e){e.o||(e.o=Bl(e.t))}function cu(e,t,n){var r=Fl(t)?Yl("MapSet").N(t,n):$l(t)?Yl("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:zl(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,s=Su;n&&(o=[r],s=bu);var a=Proxy.revocable(o,s),i=a.revoke,c=a.proxy;return r.k=c,r.j=i,c}(t,n):Yl("ES5").J(t,n);return(n?n.A:zl()).p.push(r),r}function lu(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Bl(e)}var uu,pu,du="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),hu="undefined"!=typeof Map,fu="undefined"!=typeof Set,gu="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,yu=du?Symbol.for("immer-nothing"):((uu={})["immer-nothing"]=!0,uu),mu=du?Symbol.for("immer-draftable"):"__$immer_draftable",Iu=du?Symbol.for("immer-state"):"__$immer_state",Eu=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Au="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,_u=Object.getOwnPropertyDescriptors||function(e){var t={};return Au(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},vu={},Su={get:function(e,t){if(t===Iu)return e;var n=Gl(e);if(!kl(n,t))return function(e,t,n){var r,o=su(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ll(r)?r:r===ou(e.t,t)?(iu(e),e.o[t]=cu(e.A.h,r,e)):r},has:function(e,t){return t in Gl(e)},ownKeys:function(e){return Reflect.ownKeys(Gl(e))},set:function(e,t,n){var r=su(Gl(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=ou(Gl(e),t),s=null==o?void 0:o[Iu];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||kl(e.t,t)))return!0;iu(e),au(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ou(e.t,t)||t in e.t?(e.D[t]=!1,iu(e),au(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){wl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){wl(12)}},bu={};jl(Su,(function(e,t){bu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),bu.deleteProperty=function(e,t){return bu.set.call(this,e,t,void 0)},bu.set=function(e,t,n){return Su.set.call(this,e[0],t,n,e[0])};var Cu=new(function(){function e(e){var t=this;this.g=gu,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&wl(6),void 0!==r&&"function"!=typeof r&&wl(7),Ll(e)){var i=Ql(t),c=cu(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?Jl(i):Xl(i)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Kl(i,r),eu(e,i)}),(function(e){throw Jl(i),e})):(Kl(i,r),eu(a,i))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===yu&&(a=void 0),t.F&&Wl(a,!0),r){var u=[],p=[];Yl("Patches").M(e,a,u,p),r(u,p)}return a}wl(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,s=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,r,o]})):[s,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ll(e)||wl(8),Ml(e)&&(e=function(e){return Ml(e)||wl(22,e),function e(t){if(!Ll(t))return t;var n,r=t[Iu],o=Ul(t);if(r){if(!r.P&&(r.i<4||!Yl("ES5").K(r)))return r.t;r.I=!0,n=lu(t,o),r.I=!1}else n=lu(t,o);return jl(n,(function(t,o){r&&function(e,t){return 2===Ul(e)?e.get(t):e[t]}(r.t,t)===o||Vl(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=Ql(this),n=cu(this,e,void 0);return n[Iu].C=!0,Xl(t),n},t.finishDraft=function(e,t){var n=(e&&e[Iu]).A;return Kl(n,t),eu(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!gu&&wl(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Yl("Patches").$;return Ml(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}()),Pu=Cu.produce,Tu=(Cu.produceWithPatches.bind(Cu),Cu.setAutoFreeze.bind(Cu),Cu.setUseProxies.bind(Cu));Cu.applyPatches.bind(Cu),Cu.createDraft.bind(Cu),Cu.finishDraft.bind(Cu);const Ou=Pu,Nu=(e,t)=>{const{data:{shared:n={}}={},context:r}=t;((e,t)=>{Tl.updateDataPageStore(t),Object.keys(t).forEach((n=>{et.getIn(e,[nt.SHARED,n])?Object.keys(t[n]).forEach((r=>{et.setIn(e,[nt.SHARED,n,r],t[n][r])})):et.setIn(e,[nt.SHARED,n],t[n])}))})(e,n),r&&et.deleteIn(e,[r,"shared"])},Ru=(e,t,n=!1)=>{const{context:r,caseViewMode:o=(n?void 0:nt.PERFORM_MODE),containerName:s}=t;s!==Ts.WORKAREA&&o&&et.setIn(e,[r,"context_data","caseViewMode"],o)},Du=(e,t=[])=>{t.forEach((t=>et.deleteIn(e,t)))},xu=(e,t=[])=>{t.forEach((t=>{et.deleteIn(e,t)}))},wu=(e,t)=>{et.deleteIn(e,[t,"nextAssignmentInfo"]),et.deleteIn(e,[t,"caseMessages"]),et.deleteIn(e,[t,"caseInfo","navigation"]),et.deleteIn(e,[t,"caseInfo","actionButtons"]),et.deleteIn(e,[t,"caseInfo","availableActions"]),et.deleteIn(e,[t,"caseInfo","availableProcesses"]),et.deleteIn(e,[t,"caseInfo","activeActionID"]),et.deleteIn(e,[t,"caseInfo","assignments"])},Mu=e=>{const t=[];return e.map((e=>{t.push({type:tt.MESSAGES.MESSAGES_TYPE_ERROR,message:e.message})})),t},Lu=[(e,t)=>Ou(e,(e=>{switch(t.type){case mt:return e[t.payload.context]=Ai(e[t.payload.context],t.payload.data,{isArrayDeepMerge:!!t.payload.isArrayDeepMerge}),Ru(e,t.payload,!0),Nu(e,t.payload),e;case rt:{const{context:n,reference:r,value:o,isArrayDeepMerge:s}=t.payload;return _i(e[n],r,o,{isArrayDeepMerge:s}),e}case"REPLACE_PROPERTY":{const{context:n,reference:r,value:o}=t.payload;return vi(e[n],r,o),e}case"REMOVE_ITEM":return et.deleteIn(e[t.payload.contex],t.payload.reference);case ct:return et.setIn(e[t.payload.context],"context_data.isLoading",!0),e;case lt:return et.setIn(e[t.payload.context],"context_data.isLoading",!1),e;case Kt:{const{data:n}=t.payload;return Nu(e,{data:{shared:n}}),e}case Jt:{const{dataPagesToBeRemoved:n=[]}=t.payload;return n.forEach((t=>{const{dataPageName:n,dataPageNameWithHash:r}=t;et.deleteIn(e.shared,[n,r]);const o=et.getIn(e.shared,[n]);o&&0===Object.keys(o).length&&et.deleteIn(e.shared,[n])})),e}default:return e}})),(e={},t)=>Ou(e,(e=>{switch(t.type){case vt:{if(!t.payload.data||e[t.payload.context])return e;t.payload.doDeleteCaseSummary&&wu(e,t.payload.context);const{target:n}=t.payload;return!n||-1===n.indexOf(nt.WORKAREA)&&-1===n.indexOf(nt.MODAL)?e[t.payload.containerItemID]=t.payload.data:e[t.payload.context]=t.payload.data,Ru(e,t.payload),Nu(e,t.payload),e}case Dt:{t.payload.doDeleteCaseSummary&&wu(e,t.payload.context);const{target:n}=t.payload;return!n||-1===n.indexOf(nt.WORKAREA)&&-1===n.indexOf(nt.MODAL)?e[t.payload.containerItemID]=Ai(e[t.payload.containerItemID],t.payload.data):e[t.payload.context]=Ai(e[t.payload.context],t.payload.data),Ru(e,t.payload),Nu(e,t.payload),e}case St:{const{childContainersContexts:n=[]}=t.payload;return((e,t)=>{const{containerItemID:n,context:r,deleteContext:o}=t;o&&et.deleteIn(e,[r]),et.deleteIn(e,[n])})(e,t.payload),xu(e,n),Du(e,t.payload.transientItems),e}case _t:{const{containerItems:n}=t.payload;return Array.isArray(n)?n.forEach((t=>{et.deleteIn(e,[t])})):et.deleteIn(e,[n]),e}case xt:{const{context:n,contextToBeRemoved:r,data:o,childContainersContextsToBeRemoved:s}=t.payload;return wu(e,t.payload.context),Ru(e,t.payload),e[n]=Ai(e[n],e[r]),e[n]=Ai(e[n],o),et.deleteIn(e,[r]),xu(e,s),Nu(e,t.payload),e}case wt:{const{payload:{context:n,pulseReplace:r=!0,childContainersContexts:o=[]}}=t;let{payload:{data:s}}=t;const a=et.getIn(e[n],"pulse");let i=et.getIn(e[n],"OperatorID"),c=et.getIn(e[n],"pxRequestor");return c&&s.pxRequestor&&(c=et.mergeDeep(c,s.pxRequestor)),i&&s.OperatorID&&(i=et.mergeDeep(i,s.OperatorID)),!r&&a&&(s=_i(s,"pulse",a),s=_i(s,"OperatorID",i),s=_i(s,"pxRequestor",c)),et.setIn(e,n,s),Ru(e,t.payload),Nu(e,t.payload),xu(e,o),Du(e,t.payload.transientItems),e}case Qt:{const{context:n}=t.payload;return wu(e,n),e}case bt:{const{transientItemID:n,data:r}=t.payload;return et.setIn(e,n,r)}case Pt:case Tt:{const{transientItems:n}=t.payload;return n.forEach((t=>et.deleteIn(e,t))),e}case Ct:case Ot:{const{transientItemID:n,data:r}=t.payload;return Ai(et.getIn(e,n),r),e}case Nt:{const{transientItemID:n,data:r}=t.payload;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&et.deleteIn(e,[n,t]);return e}default:return e}})),(e=$u().data,t)=>Ou(e,(e=>{switch(t.type){case Et:return t.payload.err.errorDetails&&"Validation fail"===t.payload.err.errorClassification?function(e,t){const{err:n,formFields:r}=t.payload;let{context:o}=t.payload;const{fieldErrors:s,pageErrors:a,appErrors:i}=((e,t)=>{const n=[],r=[],o=[];return e.forEach((e=>{"content"===e[nt.ERROR_IN_PAGE_IDENTIFIER]?((e,t,n,r,o)=>{if(e[nt.ERROR_IN_PAGE_IDENTIFIER]&&e[nt.ERROR_FIELD_IN_PAGE]){const o=e[nt.ERROR_FIELD_IN_PAGE].slice(1);t.includes(o)?r.push(e):n.push(e)}else e[nt.ERROR_IN_PAGE_IDENTIFIER]&&!e[nt.ERROR_FIELD_IN_PAGE]?n.push(e):e[nt.ERROR_IN_PAGE_IDENTIFIER]||e[nt.ERROR_FIELD_IN_PAGE]||o.push(e)})(e,t,n,r,o):((e,t,n,r,o)=>{if(e[nt.ERROR_IN_PAGE_IDENTIFIER]&&e[nt.ERROR_FIELD_IN_PAGE]){const o=`${e[nt.ERROR_FIELD_IN_PAGE].slice(1)}${e[nt.ERROR_IN_PAGE_IDENTIFIER]}`;t.includes(o)?r.push(e):n.push(e)}else if(e[nt.ERROR_IN_PAGE_IDENTIFIER]&&!e[nt.ERROR_FIELD_IN_PAGE]){const o=e[nt.ERROR_IN_PAGE_IDENTIFIER].slice(1);t.includes(o)?r.push(e):n.push(e)}else e[nt.ERROR_IN_PAGE_IDENTIFIER]||e[nt.ERROR_FIELD_IN_PAGE]?!e[nt.ERROR_IN_PAGE_IDENTIFIER]&&e[nt.ERROR_FIELD_IN_PAGE]&&n.push(e):o.push(e)})(e,t,n,r,o)})),{fieldErrors:r,pageErrors:n,appErrors:o}})(n.errorDetails,r);if(et.setIn(e,[o,..._n.FIELD_MESSAGES_PATH],{}),et.setIn(e,[o,..._n.PAGE_MESSAGES_PATH],[]),s.length>0&&((e,t,n)=>{n.forEach((n=>{"content"===n[nt.ERROR_IN_PAGE_IDENTIFIER]?((e,t,n)=>{const r=n[nt.ERROR_FIELD_IN_PAGE].slice(1);if(r){const o=r.lastIndexOf(".");let s=r.substring(0,o)||nt.EMPTY_STRING;s=s?`caseInfo.content.${s}`:"caseInfo.content",s=s.replace(/\(/g,"[").replace(/\)/g,"]");const a=r.substring(o+1),i=vn(a,s,nt.PROPERTY),c={type:tt.MESSAGES.MESSAGES_TYPE_ERROR,message:n.message},l=et.getIn(e[t],i,[]);et.setIn(e[t],i,[...l,c])}})(e,t,n):((e,t,n)=>{const r=n[nt.ERROR_FIELD_IN_PAGE].slice(1),o=n[nt.ERROR_IN_PAGE_IDENTIFIER].slice(1);if(o){let s=r?`caseInfo.content.${r}`:"caseInfo.content";s=s.replace(/\(/g,"[").replace(/\)/g,"]");const a=vn(o,s,nt.PROPERTY),i={type:tt.MESSAGES.MESSAGES_TYPE_ERROR,message:n.message},c=et.getIn(e[t],a,[]);et.setIn(e[t],a,[...c,i])}})(e,t,n)}))})(e,o,s),a.length>0){const t=Mu(a);o.includes&&o.includes(Ts.WORKAREA)&&(o=pr(o)),e[o]||(o=nt.APP.APP),et.setIn(e,[o,..._n.PAGE_MESSAGES_PATH],t)}else o.includes&&o.includes(Ts.WORKAREA)&&(o=pr(o)),et.deleteIn(e,[o,..._n.PAGE_MESSAGES_PATH]);if(i.length>0){const t=Mu(i);et.setIn(e,[nt.APP.APP,..._n.PAGE_MESSAGES_PATH],t)}return e}(e,t):e;case Dt:{const{context:n}=t.payload,r=[n,..._n.FIELD_MESSAGES_PATH],o=[n,..._n.PAGE_MESSAGES_PATH];if(et.setIn(e,r,{}),et.setIn(e,o,[]),n&&n.includes(Ts.WORKAREA)){const t=[mr(n),..._n.PAGE_MESSAGES_PATH];et.setIn(e,t,[])}return e}case qt:return((e,t)=>{const{property:n,pageReference:r,category:o,type:s}=t.payload;let{context:a}=t.payload;const i=vn(n,r,o);o===nt.PAGE&&a.includes&&a.includes(Ts.WORKAREA)&&(a=pr(a));const c=et.getIn(e[a],i);if(c&&o===nt.CASEMESSAGES)et.setIn(e[a],vn(n,r,o),"");else if(c&&c.length>0&&Array.isArray(c)){const t=c.filter((e=>e.type!==s));i&&i.length>0&&et.setIn(e[a],vn(n,r,o),t)}return e})(e,t);case Ht:{const{messages:n,property:r,pageReference:o,context:s,category:a}=t.payload,i=vn(r,o,a);return n&&n.length>0&&Array.isArray(n)&&i&&i.length>0&&et.setIn(e[s],vn(r,o,a),n),e}default:return e}})),(e,t)=>Ou(e,(e=>{if(t.type===Xt){const{instruction:n,actions:r,context:o,referenceList:s,listIndex:a,listMoveToIndex:i,content:c={}}=t.payload,l=ii(s);switch(n){case nt.LIST_ACTIONS.INSERT:((e,t,n,r,o)=>{et.setIn(e[t],[...n,r],o)})(e,o,l,a,c);break;case nt.LIST_ACTIONS.UPDATE:((e,t,n,r,o)=>{const s=Ai(et.getIn(e[t],[...n,r],{}),o);et.setIn(e[t],[...n,r],s)})(e,o,l,a,c);break;case nt.LIST_ACTIONS.DELETE:((e,t,n,r)=>{const o=et.getIn(e[t],n,[]);o.splice(r,1),et.setIn(e[t],n,o)})(e,o,l,a);break;case nt.LIST_ACTIONS.MOVE:((e,t,n,r,o)=>{const s=et.getIn(e[t],[...n,r],{}),a=et.getIn(e[t],n,[]);a.splice(r,1),a.splice(o,0,s),et.setIn(e[t],n,a)})(e,o,l,a,i);break;case nt.LIST_ACTIONS_TYPE.SELECT_DESELECT:((e,t,n,r)=>{const o=et.getIn(e[t],n)||[];r.forEach((e=>{const{instruction:r,content:s,listIndex:a}=e;r===nt.LIST_ACTIONS.SELECT?(o[a]=s,n.forEach((e=>{so(t,e)}))):delete o[a]})),et.setIn(e[t],n,o.filter(Boolean))})(e,o,l,r)}}return e}))],ju=(e=$u().data,t)=>t.type===Yt?$u().data:(Lu.forEach((n=>{e=n(e,t)})),e),Uu=(e,t=[])=>{t.forEach((t=>{et.deleteIn(e,[t])}))},ku=(e,t)=>{const{type:n,payload:r}=t,o=n===Dt,{target:s,context:a,semanticURL:i="",root:c,containerItemID:l,childContainers:u,flowName:p,resourceType:d="",key:h=""}=r;return c&&et.setIn(e,[s,"items",l,"view"],c),a&&et.setIn(e,[s,"items",l,"context"],a),p&&et.setIn(e,[s,"items",l,"flowName"],p),(!o||o&&h)&&et.setIn(e,[s,"items",l,"key"],h.trim()),(!o||o&&i)&&et.setIn(e,[s,"items",l,"semanticURL"],i),(!o||o&&d)&&et.setIn(e,[s,"items",l,"resourceType"],d),Uu(e,u),e},Vu=(e=$u().containers,t)=>t.type===Yt?$u().containers:Ou(e,(e=>{switch(t.type){case At:{const{context:n,name:r,type:o,actionMgrID:s}=t.payload,a=`${n}/${r}`;let i=null;return Vn.resolveActionByID(s,null,!1),e[a]||(i={type:o,accessedOrder:[],items:{}},et.setIn(e,[a],i)),e}case Lt:{const{containerName:n}=t.payload;return et.deleteIn(e,[n]),e}case _t:{const{context:n,name:r,actionMgrID:o,childContainers:s}=t.payload,a=`${n}/${r}`;return Vn.resolveActionByID(o,null,!1),et.setIn(e,[a,"accessedOrder"],[]),et.setIn(e,[a,"items"],{}),Array.isArray(s)&&s.forEach((t=>{et.deleteIn(e,[t])})),e}case vt:{const{target:n,context:r,isInCreateStage:o,isBulkAction:s,semanticURL:a,root:i,containerItemID:c,actionMgrID:l,key:u,flowName:p,resourceType:d,actionName:h,isMinimizable:f,showProgress:g,progressMessage:y}=t.payload,m=e[n],I=m&&m.type,E=m&&m.accessedOrder||[],A=m&&m.items||{};let _=null;return e[n]&&"single"===I&&E.length>0?ku(e,t):(_={accessedOrder:[...E,c],items:{...A,[c]:{view:i,semanticURL:a,key:u,flowName:p,context:r,isInCreateStage:o,resourceType:d,actionName:h,isMinimizable:f,...s&&{isBulkAction:s},showProgress:g,progressMessage:y}}},Vn.resolveActionByID(l,null,!1),e[n]=Be()(e[n],_),e)}case Dt:{const{actionMgrID:n,data:r}=t.payload;let o=e;try{o=ku(e,t),Vn.resolveActionByID(n,r,!1)}catch{Vn.rejectActionByID(n,!1)}return o}case wt:return((e,t)=>{const{actionMgrID:n,data:r,target:o,containerItemID:s}=t.payload;let a=e;try{et.setIn(e,[o,"items",s,"transientItems"],[]),a=ku(e,t),Vn.resolveActionByID(n,r,!1)}catch{Vn.rejectActionByID(n,!1)}return a})(e,t);case Rt:{const{target:n,containerItemID:r,actionMgrID:o}=t.payload;try{const t=et.getIn(e,[n,"accessedOrder"]).filter((e=>e!==r));t.push(r),et.setIn(e,[n,"accessedOrder"],t),Vn.resolveActionByID(o,null,!1)}catch{Vn.rejectActionByID(o,!1)}return e}case xt:case St:{const{target:n,containerItemID:r,actionMgrID:o,childContainers:s}=t.payload;try{const t=et.getIn(e,[n,"accessedOrder"]).filter((e=>e!==r));et.setIn(e,[n,"accessedOrder"],t),et.deleteIn(e,[n,"items",r]),Uu(e,s),Vn.resolveActionByID(o,null,!1)}catch{Vn.rejectActionByID(o,!1)}return e}case bt:{var n;const{transientItemID:r,target:o,contextName:s}=t.payload,a=null!==(n=et.getIn(e,[o,"items",s,"transientItems"]))&&void 0!==n?n:[];return et.setIn(e,[o,"items",s,"transientItems"],[...a,r])}case Tt:{const{target:n,containerItemID:r}=t.payload;return et.deleteIn(e,[n,"items",r,"transientItems"]),e}case Pt:{var r;const{target:n,transientItemID:o,containerItemID:s}=t.payload,a=(null!==(r=et.getIn(e,[n,"items",s,"transientItems"]))&&void 0!==r?r:[]).filter((e=>e!==o));return et.setIn(e,[n,"items",s,"transientItems"],a)}default:return e}}));let Fu={};const $u=()=>Fu;function Gu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return ae(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof B?e[0]:function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Ae(G,e)}(n)(ie(e,r))}var Bu=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Wu(e,this.selector,this.caught))},e}(),Wu=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return v(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new me(this);this.add(r);var o=Ee(n,r);o!==r&&this.add(o)}},t}(Ie),Hu=n(44),qu=n.n(Hu);const Yu=(e,t)=>{return n=n=>(console.error(e,n),ce(Fa(e,n,t))),function(e){var t=new Bu(n),r=e.lift(t);return t.caught=r};var n},zu=[(e,t)=>e.pipe(Le(za),fe((e=>e.payload)),Ae((e=>{const{context:n,caseWideAction:r,contextData:o,caseViewAction:s,interestPage:a}=e;let i={};const c={...is(n).content,contextData:o};r?i=Gr("refreshCaseData",e):s?(i=Gr("refreshCaseView",e),c.interestPage=a):i=Gr("refreshAssignmentData",e);const{restApi:l,reqType:u}=i,p=t.value.data[n].caseInfo.headers;return ne(Fi(`${l}`,{method:u,body:c,headers:{"if-match":p&&p.etag}},n)).pipe(fe((t=>({response:{...t.data||{}},actionConfig:e,actionMgrID:e.options.actionMgrID,headers:as(t.headers)}))),Yu(": Error ocurred during fetch call at refreshData Epic : ",e.context))})),Ae((async e=>{if(e&&e.type===Et)return ds(e);const{actionConfig:t,response:n,headers:r,actionMgrID:o}=e,{context:s}=t,a=Oo(jt),i=Dr(a,s),c={acName:i,context:s},l=sc(n,{[tt.STOPMERGEACTIONS]:!0,[tt.ACTIONS.DELETEAVIALACTIONS]:!0});l.directUrlUpdation=!1,await ls(l,t,c);const u=cs(l,{target:i,context:s});u.preserveClientChanges=!0;const p=Va(ga,u);return ui(p),Vn.resolveActionByID(o,u),[]})))],Ku=[e=>e.pipe(Le(zt),Ae((async e=>{const{context:t}=e.payload,n={},r={},o=Object.keys(e.payload.datapages).map((o=>{const s=e.payload.datapages[o];if(s.mode===nt.READONLY&&null!=s&&s.refreshStrategy){const{timeoutSecs:e="",type:t=""}=(null==s?void 0:s.refreshStrategy)||{},n=di()[s.name];if(n&&o in n){const r=n[o],{loadTime:s}=r;if(!Pc.isTimeElapsed(s,e,t))return}}return Pc.getData(s.name,{dataViewParameters:s.dataViewParameters},t).then((e=>{const t=s.mode===nt.READONLY?r:n;var a,i;t[s.name]?t[s.name][o]={pxResults:e.data.data,parameters:s.dataViewParameters,loadTime:null===(a=e.data)||void 0===a?void 0:a.fetchDateTime}:t[s.name]={[o]:{pxResults:e.data.data,parameters:s.dataViewParameters,loadTime:null===(i=e.data)||void 0===i?void 0:i.fetchDateTime}}})).catch((()=>{}))}));await Promise.allSettled(o);const s=[];return Object.keys(n).length&&s.push(ga({context:t,data:n})),Object.keys(r).length&&s.push($a({data:r,context:t})),ui(s),[]})))],Ju=e=>{const{containerName:t,isInCreateStage:n}=e;return n?nt.MODAL:t||Oo(Ft)},Xu=e=>{const t=et.getIn(e,[nt.DATA,nt.CASE_INFO.CASE_INFO]);return Mo(t)&&Lo(wo.getOperatorIdentifier(),t)},{RESOURCE_TYPES:Qu}=tt,Zu=e=>{const{viewType:t,containerName:n,targetContainerName:r,isChild:o}=e;return t||(!Bo(n)&&!Bo(r)||o?os.PAGE:os.FORM)},ep=e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_SUBMISSION,e)},{RESOURCE_TYPES:tp}=tt,{RESOURCE_TYPES:np}=tt;function rp(e,t){return"function"==typeof t?function(n){return n.pipe(rp((function(n,r){return ne(e(n,r)).pipe(fe((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new op(e))}}var op=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new sp(e,this.project))},e}(),sp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return v(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new me(this),r=this.destination;r.add(n),this.innerSubscription=Ee(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Ie);const ap=(e,t)=>{const{containerItemID:n,skipReleaseLockRequest:r}=t,o=Fs(n),s=`${o.includes("root")?nt.APP.ROOT:nt.APP.APP}/${Ts.MODAL}`;e.push(Va(xa,{containerItemID:n,context:o,target:s,skipReleaseLockRequest:r}))},ip=e=>{var t;return null===(t=fi(".openCaseViewAfterCreate",nt.CONTEXT_DATA,e))||void 0===t||t},cp=(e,t,{data:n,caseViewMode:r})=>{const{containerItemID:o}=t,s=Fs(o);if(Xo(o)){const t=mr(s),o={data:n,caseViewMode:r,context:t};et.setIn(o.data,["context_data","caseViewMode"],r),e.push({type:Qt,payload:{context:t}}),e.push(Va(ga,o))}},lp=(e,t)=>{const n=pr(e);return/^app\/primary_[0-9]*/g.test(n)&&Xo(t)},{RESOURCE_TYPES:up}=tt,pp="CANCEL_ASSIGNMENT",dp=e=>{const t={},{routeKey:n,isModalAction:r,caseID:o,context:s,RemoteSystemID:a}=e;a&&(t.RemoteSystemID=a);const i=n||"releaseAssignmentLock",{restApi:c,reqType:l}=Gr(i,{ID:o,caseID:o,viewType:os.PAGE});return ne(Fi(c,{method:l,headers:t},s)).pipe(fe((t=>r?{actionInPayload:e}:{response:t.data,actionInPayload:e,headers:as(t.headers)})),Yu(": Error ocurred during ajax call at release lock request : ",s))},hp=dp,fp=e=>{let t=0,n=[];return e.pipe(Le(pp),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>{const{isModalAction:t}=e;return e.context||(e.context=Fs(e.containerItemID)),((e,t)=>{const{isModalAction:n}=t;return hp({routeKey:"cancelAssignment",isModalAction:n,...e})})(e,{isModalAction:t})})),Ae((async e=>{if(e&&e.type===Et)return n.push(ds(e)),n;const{actionInPayload:r,response:o}=e,{containerItemID:s,isModalAction:a,isInCreateStage:i}=r,c=ea(s),l=Fs(s),u={target:a?`${nt.APP.APP}/${nt.MODAL}`:c,containerItemID:s,caseViewMode:a?nt.PERFORM_MODE:nt.REVIEW_MODE,context:l,actionMgrID:t,key:Ko(o)};return i&&n.push(Va(Oa,u)),!a&&Xo(s)&&(async(e,t)=>{const{childContainerItemID:n,caseViewMode:r}=t,o=pr(n),s={context:Fs(o),data:{context_data:{caseViewMode:r}}};e.push(Va(ga,s))})(n,{childContainerItemID:s,caseViewMode:nt.REVIEW_MODE}),u.skipReleaseLockRequest=!0,n.push(Va(xa,u)),n})),fe((()=>(Vn.resolveActionByID(t),ui(n),n=[],n))))},gp=fp,{RESOURCE_TYPES:yp}=tt,mp=(e,t=!1)=>{const{action:n,state$:r,actionMgrID:o,caseType:s}=e;let{actionsOut:a}=e;return ce(n.payload).pipe(Ae((e=>((e,t)=>{var n,r;const{assignmentID:o,actionID:s,context:a}=e,{restApi:i,reqType:c}=Gr("save",{assignmentID:o,actionID:s}),{content:l}=is(a),u=null===(n=t.value.data[a])||void 0===n||null===(r=n.caseInfo)||void 0===r?void 0:r.headers;return ne(Fi(i,{method:c,body:l,headers:{"if-match":u&&u.etag}},a)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as(t.headers)}))),Yu(": Error ocurred during ajax call at saveAndCloseAssignment Epic at save action : ",a))})(e,r))),Ae((e=>{if(e&&Ho(e.type))return ce(e);if(e.actionInPayload.isProcessAction&&e.response.data.caseInfo.parentCaseInfo){var t;const n=`${null!==(t=e.actionInPayload)&&void 0!==t&&t.containerItemID.includes("root")?nt.APP.ROOT:nt.APP.APP}/${Ts.PRIMARY}`,r=fs(n,Ts.PRIMARY),o={insKey:e.response.data.caseInfo.parentCaseInfo.ID,className:e.response.data.caseInfo.parentCaseInfo.content.classID,context:r,acTargetName:nt.PRIMARY,isChild:!0},s={type:pt,payload:{...o}};a.push(s)}return hp(e.actionInPayload)})),Ae((async e=>{if(e&&Ho(e.type)){const{payload:t}=e,n=ds({...e,...t,actionMgrID:o});return a.push(n),a}const{actionInPayload:n}=e,{context:r,containerName:s}=n,i={target:Dr(s,r),containerItemID:r,context:r};return t||a.push(Va(xa,i)),a})),fe((()=>(1===a.length&&Ho(a[0].type)?Vn.rejectActionByID(o):((e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_SAVED,e)})({caseType:s}),Vn.resolveActionByID(o)),ui(a),t||(a=[]),a))))};function Ip(){}var Ep=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Ap(e,this.nextOrObserver,this.error,this.complete))},e}(),Ap=function(e){function t(t,n,r,o){var s=e.call(this,t)||this;return s._tapNext=Ip,s._tapError=Ip,s._tapComplete=Ip,s._tapError=r||Ip,s._tapComplete=o||Ip,C(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Ip,s._tapError=n.error||Ip,s._tapComplete=n.complete||Ip),s}return v(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(V);const{LOCAL_ACTION_TYPE:_p}=nt,{RESOURCE_TYPES:vp}=tt,Sp=(e,t)=>{const{actionID:n,assignmentID:r,caseID:o,context:s,openActionType:a}=e,{isProcessAction:i}=t,c=i?Gt:(e=>{const t=e.localActionType.toLowerCase();return t===_p.CASE_WIDE||t===_p.EXPRESS?Bt:$t})(e),l=os.FORM,{reqType:u}=Gr(c,{caseID:o,ID:r,actionID:n,viewType:l});let{restApi:p}=Gr(c,{caseID:o,ID:r,actionID:n,viewType:l});return p.indexOf("viewType=")<0&&(p=`${p}?viewType=${l}`),ne(Fi(p,{method:u},s)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as(t.headers)}))),Yu(`: Error ocurred during ajax call at ${a} Epic : `,s))},bp=(e,t)=>{const{isProcessAction:n}=t,r=n?Gt:$t;let o;if(e.openActionType=r,"modal"===$o(r,e)){o=Bs(e.contextName);const n=ks(o),r=Fs(n),a=(s=e.cancelActionPayload,{type:pp,payload:s}),i=fp(ce(a));return e.continueExecution?yo(r)?ne([Gc(e.saveActionPayload)]).pipe(Ae((e=>(e=>{let t,n=0;const r=[],o={value:li().getState()};return ce(e).pipe(Le($c),rp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n,caseType:t}=e.payload),s?mp({action:e,state$:o,actionMgrID:n,caseType:t,actionsOut:r},!0):(Vn.rejectActionByID(n),ce([]))})))})(e))),Ae((n=>{if(1===n.length&&Ho(n[0].type)){const{continueExecution:n}=ms(o);if(!n)return Vn.rejectActionByID(e.actionMgrID),oe.pipe((r=()=>se(),function(e){return e.lift(new Ep(r,void 0,void 0))})).toPromise();if(n)return i.subscribe(),Sp(e,t)}var r;return i.subscribe(),Sp(e,t)})),fe((e=>e))):(i.subscribe(),Sp(e,t)):Sp(e,t)}var s;return Sp(e,t)},Cp=async(e,t,{headers:n,actionInPayload:r})=>{const{context:o,actionName:s,openActionType:a,doDeleteCaseSummary:i}=r,c=sc(e),l=$o(a,r),u=Dr(l,o);let p,d,h=!1;!Ys(u)||qs(u)&&!Ms(u,e.data.caseInfo.ID)||Wo(l)?(d=dr(l,o),Wo(l)&&(d=yr(o,d)),p=d,h=!0):(p=qs(u)?Ls(u,e.data.caseInfo.ID):ks(u),d=Fs(p));const f={acName:u,target:u,containerName:l,context:d};await ls(c,r,f);const g=cs(c,{target:u,context:d,containerItemID:p,caseViewMode:nt.PERFORM_MODE,doDeleteCaseSummary:i,headers:n,actionName:s,isMinimizable:!1,isInCreateStage:Wo(l),resourceType:vp.ASSIGNMENT,isProcessAction:r.isProcessAction,showProgress:r.showProgress,progressMessage:r.progressMessage});Qo(g,c),Wo(l)&&delete g.doDeleteCaseSummary,r.openActionType===Wt&&(g.isBulkAction=!0,g.data.caseInfo.actionButtons.main[0].jsAction="submitBulkAction",g.data.caseInfo.actionButtons.secondary[0].jsAction="cancelBulkAction",g.data.caseInfo.cases=r.selectedList);const y=h?Sa:Oa;return t.push(Va(y,g)),p!==ks(u)&&t.push(Va(Ra,{target:u,containerItemID:p})),Xo(p)&&vs(g,t),t};function Pp(e,t){return new B((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),s=0,a=0,i=function(i){var c=ne(e[i]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,a++),o[i]=e},error:function(e){return n.error(e)},complete:function(){++s!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},c=0;c<r;c++)i(c);else n.complete()}))}function Tp(e,t){return void 0===e&&(e=0),void 0===t&&(t=cl),(!Ne(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=cl),new B((function(n){return n.add(t.schedule(Op,e,{subscriber:n,counter:0,period:e})),n}))}function Op(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function Np(e){return function(t){return t.lift(new Rp(e))}}var Rp=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Dp(e,this.durationSelector))},e}(),Dp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return v(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Ee(t,new me(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(Ie);const xp=[e=>{let t=0,n=[],r="";return e.pipe(Le(da),(e=>new B((t=>{let n={},r=0;return e.pipe(Ae((e=>{const t=Date.now();let o;return o=qu(),o&&o(e,n)&&t-r<100?se():(n=e,r=t,ce(e))}))).subscribe(t)}))),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>{const{context:n}=e,r=Ju(e),o=Dr(r,n),{continueExecution:s,removeActionPayload:a}=(e=>Hs(e)?{continueExecution:!0,removeActionPayload:{}}:ms(e))(o);return s?((e,t)=>{const{caseInfo:n,class:r,flowType:o,context:s,viewType:a=os.PAGE,headers:i,startingFields:c={},pageName:l}=e,{removeActionPayload:u}=t;let p={};n&&n.content&&(p=n.content);const{restApi:d,reqType:h}=Gr("createWork",{caseClassName:r,viewType:a,params:{pageName:l}}),f={caseTypeID:r,content:{...p,...c},processID:o};return ne(Fi(d,{method:h,headers:i,body:f},s)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as(t.headers,r,i),removeActionPayload:u}))),Yu("Error ocurred during ajax call at createWork Epic : ",s))})(e,{removeActionPayload:a}):(Vn.rejectActionByID(t),se())})),Ae((async e=>{var o;if(e&&e.type===Et)return n.push(ds(e)),n;const{actionInPayload:s,response:a,headers:i,removeActionPayload:c}=e;let l;l=!s.renderInline&&Xu(a),et.setIn(a.data,"caseInfo.isFirstAssignment",!0);const u=Ju({...s,isInCreateStage:l}),p=Dr(u,s.context),d=fs(p,u,s.context);if(!Wo(u)&&Hs(p)){const{continueExecution:e}=ms(p);if(!e)return Vn.rejectActionByID(t),se()}if(null!==(o=null==s?void 0:s.openCaseViewAfterCreate)&&void 0!==o&&!o&&!l){const e=et.getIn(a.data,"caseInfo.content");return r=`${e.pyID} has been created.`,(e=>{Pi.publish(nt.PUB_SUB_EVENTS.DISPLAY_CASE_CREATED_TOASTER,e)})({toastMessage:r}),n}const h=sc(a);let f=Fr("createWork",{caseClassName:zo(h)});f=f.replace(/{.+?}/,Yo(Ko(h))),h.semanticURL=f,((e,t)=>{const n=Xu(e),{skipBrowserSemanticUrlUpdate:r=!1}=t;et.setIn(e,["directUrlUpdation"],!n&&!r)})(h,s);const g={acName:p,context:d};await ls(h,s,g);const y={target:p,context:d,containerItemID:d,headers:i,semanticURL:f,isInCreateStage:l,isMinimizable:l,caseViewMode:nt.PERFORM_MODE,assignmentContext:et.getIn(h,"nextAssignmentInfo.context"),nextAssignmentInfo:et.getIn(h,"nextAssignmentInfo"),resourceType:tt.CASE,openCaseViewAfterCreate:s.openCaseViewAfterCreate};Qo(y,h);const m=cs(h,y),I=hs(p,m);return gs(I)&&Jo(n,{removeActionPayload:c,target:p}),n.push(I),As(n),n})),fe((()=>(Vn.resolveActionByID(t),Ss(n),r="",n=[],n))))},e=>{let t=0,n=[];return e.pipe(Le(Vc),fe((e=>(({actionMgrID:t}=e.payload),{...e.payload,insKey:e.payload.assignmentID}))),Ae((e=>{const{context:n}=e,r=Zu(e);e.viewType=r;const o=$o(Vt,e),s=Dr(o,n),{activate:a,activateContainerActionPayload:i}=Es(tp.ASSIGNMENT,s,e);if(a&&!e.isParallelCall)return Ue.of({type:Rt,activateContainerActionPayload:i,actionInPayload:e});const{continueExecution:c,removeActionPayload:l}=null!=i&&i.isParallelAssignment?{continueExecution:!0,removeActionPayload:{}}:ms(s);return c?((e,t)=>{const n=Zu(e),{headers:r,context:o,assignmentID:s,pageName:a}=e,{restApi:i,reqType:c}=Gr(Vt,{assignmentID:s,viewType:n}),{removeActionPayload:l}=t;return ne(Fi(a?`${i}?viewType=${n}&pageName=${a}`:`${i}?viewType=${n}`,{method:c,headers:r},o)).pipe(fe((t=>{const{key:o,flowName:a}=ps(s);return{response:{...t.data,key:o,flowName:a},actionInPayload:e,viewType:n,removeActionPayload:l,headers:as({...r,...t.headers})}})),Yu("Error ocurred during ajax call at openAssignment Epic : ",o))})(e,{removeActionPayload:l}):(Vn.rejectActionByID(t),se())})),Ae((async e=>{if(e&&e.type===Et)return n.push(ds(e)),n;const{type:t,actionInPayload:r,response:o,viewType:s,headers:a,removeActionPayload:i,activateContainerActionPayload:c}=e,{context:l,caseViewMode:u}=r,p=((e,t)=>{const n=qo(e),r=Mo(n),{isChild:o,containerName:s}=t,a=o&&r,i=r&&!t.isActionFromToDoList;return a||i?nt.MODAL:s||$o(Vt,t)})(o,r),d=Dr(p,l);if(t===Rt)return await(async(e,t,n)=>{const{semanticURL:r,containerItemID:o,isParallelAssignment:s,insKey:a}=t,{target:i,actionInPayload:c}=n,{skipBrowserSemanticUrlUpdate:l=!1}=c,u=Fs(o);await ls({directUrlUpdation:!l,semanticURL:r},c,{acName:i,target:i,context:u}),e.push(Va(Ra,{containerItemID:o,target:i,isParallelAssignment:s,insKey:a,resourceType:Qu.CASE,context:u,doDeleteCaseSummary:c.doDeleteCaseSummary}))})(n,c,{actionInPayload:r,target:d}),As(n),n;const h=sc(o);((e,t)=>{const n=qo(e),r=Ko(e),o=Mo(n),{skipBrowserSemanticUrlUpdate:s=!1,viewType:a}=t,i=a===os.PAGE&&!o&&!s,{caseTypeID:c}=n;if(i){const t=Fr(kt,{caseClassName:c}).replace(/{.+?}/,Yo(r));e.semanticURL=t,e.directUrlUpdation=!0}})(h,r);const f=fs(d,p,l),g={acName:d,target:d,context:f};await ls(h,r,g);const y={target:d,context:f,containerItemID:f,headers:a,isMinimizable:Mo(et.getIn(h,"data.caseInfo")),doDeleteCaseSummary:r.doDeleteCaseSummary,resourceType:tt.CASE};Qo(y,h);const m=cs(h,y);return r.isProcessAction&&(m.data.isProcessAction=r.isProcessAction),Hs(d)&&Ys(d)?s===os.FORM?(m.caseViewMode=u||nt.PERFORM_MODE,n.push(Va(Oa,m))):n.push(Va(La,m)):(Jo(n,{removeActionPayload:i,target:d}),qs(d)&&((e,t,n)=>{const r=Rs(t,ks(t));return(null==r?void 0:r.key)===e&&n===nt.REVIEW_MODE})(m.key,d,r.activeItemCaseViewMode)?(m.context=$s(d),m.containerItemID=m.context,n.push(Va(La,m))):n.push(Va(Sa,m))),s===os.FORM&&Xo(m.containerItemID)&&vs(m,n),As(n),(e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_OPENED,e)})({actionInContext:l,assignmentID:r.assignmentID,caseKey:m.key}),n})),fe((()=>{var e,r;return Vn.resolveActionByID(t),ui(n),null!==(e=n[0])&&void 0!==e&&null!==(r=e.payload)&&void 0!==r&&r.isParallelAssignment&&ui({type:Vc,payload:{...n[0].payload,isParallelCall:!0}}),n=[],n})))},e=>{let t=0,n=[];return e.pipe(Le("OPEN_WORK_BY_HANDLE"),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>{const{context:n,isChild:r}=e,o=$o(kt,e),s=Dr(o,n),{continueExecution:a,removeActionPayload:i}=ms(s);if(!a)return Vn.rejectActionByID(t),se();const{activate:c,activateContainerActionPayload:l}=Es(np.CASE,s,e);return c&&!r?Ue.of({type:Rt,activateContainerActionPayload:l,actionInPayload:e}):((e,t)=>{const{insKey:n,headers:r,context:o,pageName:s}=e,{removeActionPayload:a}=t,{restApi:i,reqType:c}=Gr(kt,{caseID:n,params:{pageName:s}});return ne(Fi(i,{method:c,headers:r},o)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as({...r,...t.headers}),removeActionPayload:a}))),Yu("Error ocurred during ajax call at openWorkByHandle Epic : ",o))})(e,{removeActionPayload:i})})),Ae((async e=>{if(e&&Ho(e.type))return n.push(ds(e)),n;const{actionInPayload:t,activateContainerActionPayload:r,type:o,response:s,removeActionPayload:a,headers:i}=e,{context:c,skipBrowserSemanticUrlUpdate:l}=t,u=$o(kt,t),p=Dr(u,c);if(o===Rt)await(async(e,t)=>{const{activateContainerActionPayload:{semanticURL:n,containerItemID:r},actionInPayload:o,actionInPayload:{context:s,skipBrowserSemanticUrlUpdate:a,doDeleteCaseSummary:i}}=t,c=$o(kt,o),l=Dr(c,s),u=Fs(r);await ls({directUrlUpdation:!a,semanticURL:n},o,{acName:l,containerName:c,target:l,context:u}),e.push(Va(Ra,{containerItemID:r,target:l,context:u,doDeleteCaseSummary:i}))})(n,{activateContainerActionPayload:r,actionInPayload:t});else{const e=fs(p,u,c,{buildNew:!0}),r=sc(s),o=((e,t)=>{const{isRemoteCase:n,remoteCaseClass:r}=t,o=Ko(e),s=n?r:zo(e);let a=Fr(kt,{caseClassName:s});return a=a&&a.replace("{workID}",Yo(o)),a})(r,t);r.semanticURL=o,r.directUrlUpdation=!l;const d={acName:p,context:e};await ls(r,t,d);const h=cs(r,{target:p,context:e,containerItemID:e,semanticURL:o,headers:i});h.caseViewMode=nt.REVIEW_MODE,h.resourceType=np.CASE,Qo(h,r,{skipFlowNameUpdate:!0});const f=hs(p,h);a.containerItemID&&gs(f)&&n.push(Va(xa,{containerItemID:a.containerItemID,target:p})),n.push(f)}return As(n),(e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.CASE_OPENED,e)})({caseKey:t.insKey,actionInContext:c}),n})),fe((()=>(Vn.resolveActionByID(t),ui(n),n=[],n))))},e=>{let t=0,n=[];return e.pipe(Le("OPEN_LOCAL_ACTION"),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>((e,t)=>bp(e,t))(e,{actionMgrID:t}))),Ae((async e=>{if(!e)return oe;if(Ho(e.type)){const t=ds(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e,{actionID:s}=t;return et.setIn(o,"data.caseInfo.activeActionID",s),await Cp(o,n,{headers:r,actionInPayload:t}),(e=>{const{callbacks:t}=e;null!=t&&t.submit&&((e,t)=>{Pi.subscribe(nt.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,e,"expressLocalActionSubmit")})((e=>{t.submit(e),Pi.unsubscribe(nt.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,"expressLocalActionSubmit")}))})(t),n})),fe((()=>(1===n.length&&Ho(n[0].type)?Vn.rejectActionByID(t):Vn.resolveActionByID(t),ui(n),n=[],n))))},e=>{let t=0,n=[];return e.pipe(Le("OPEN_BULK_ACTION"),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>((e,t)=>{const{context:n}=e,{actionMgrID:r}=t;e.openActionType=Wt;const o=$o(Wt,e),s=Dr(o,n),{continueExecution:a}=ms(s);return a?(e=>{const{actionID:t,context:n,openActionType:r,caseTypeID:o}=e,{reqType:s,restApi:a}=Gr("openBulkAction",{caseTypeID:o,actionID:t});return ne(Fi(a,{method:s},n)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as(t.headers)}))),Yu(`: Error ocurred during ajax call at ${r} Epic : `,n))})(e):(Vn.rejectActionByID(r),se())})(e,{actionMgrID:t}))),Ae((async e=>{if(e&&Ho(e.type)){const t=ds(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e,{actionID:s}=t;return et.setIn(o,"data.caseInfo.activeActionID",s),await Cp(o,n,{headers:r,actionInPayload:t}),(e=>{const{callbacks:t}=e;null!=t&&t.submit&&((e,t)=>{Pi.subscribe(nt.PUB_SUB_EVENTS.EVENT_BULKACTION,e,"bulkActionSubmit")})((e=>{t.submit(e),Pi.unsubscribe(nt.PUB_SUB_EVENTS.EVENT_BULKACTION,"bulkActionSubmit")}))})(t),n})),fe((()=>(1===n.length&&Ho(n[0].type)?Vn.rejectActionByID(t):Vn.resolveActionByID(t),ui(n),n=[],n))))},e=>{let t,n=0,r=[],o="";return e.pipe(Le("SUBMIT_BULK_ACTION"),rp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n}=e.payload),s?ce(e.payload).pipe(Ae((e=>(t=e,(e=>{const{actionID:t,context:n,cases:r}=e,{content:o}=is(n,{onlyChangedData:!0}),s=r.map((e=>({ID:e}))),a=s.length/5,{reqType:i,restApi:c}=Gr("performBulkAction",{actionID:t}),l=[],u=s.length;for(let t=0;t<u;t+=a)o.cases=s.slice(t,t+a),o.cases.length&&l.push(ne(Fi(c,{method:i,body:o},n)).pipe(fe((t=>{const{data:n,headers:r}=t;return{response:n,actionInPayload:e,headers:as({...r})}})),Yu("Error ocurred during ajax call at submitbulkaction Epic : ",n)));return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(S(n))return Pp(n,null);if(b(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Pp(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Pp(e=1===e.length&&S(e[0])?e[0]:e,null).pipe(fe((function(e){return o.apply(void 0,e)})))}return Pp(e,null)}(l)})(t)))),Ae((e=>{let n=0,s=0;const a=[],{containerItemID:i,context:c}=t;return e.map((e=>{const{response:t}=e;n+=Number(t.successCount),s+=Number(t.failureCount),s&&t.results.map((e=>{"200"!==e.status&&e.error&&a.push({ID:e.ID,message:e.error.errorDetails[0].localizedValue})}))})),o=`${n} record(s) updated`,(e=>{Pi.publish(nt.PUB_SUB_EVENTS.EVENT_BULKACTION,e)})({submitResponse:e}),t.target=`${nt.APP.APP}/${Ts.MODAL}`,r.push(Va(xa,{containerItemID:i,context:c,target:t.target,skipReleaseLockRequest:!0})),s&&r.push(Va(Da,{messages:[{type:"error",message:`${s} records failed to update`,errorDetails:a,showHeader:!1}],context:pr(c)||c,category:"HTTP",showHeader:!1})),r})),fe((()=>(Vn.resolveActionByID(n,o),ui(r),r=[],r)))):(Vn.rejectActionByID(n),ce([]))})))},e=>{let t=0,n=[];return e.pipe(Le(kc),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>((e,t)=>bp(e,t))(e,{actionMgrID:t,isProcessAction:!0}))),Ae((async e=>{if(e&&Ho(e.type)){const t=ds(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e;return await Cp(o,n,{headers:r,actionInPayload:t}),n})),fe((()=>(1===n.length&&Ho(n[0].type)?Vn.rejectActionByID(t):Vn.resolveActionByID(t),Ss(n),n=[],n))))},(e,t)=>{let n=0,r=[],o="";return e.pipe(Le("FINISH_ASSIGNMENT"),rp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n}=e.payload),s?ce(e.payload).pipe(Ae((e=>(((e,t)=>{const{containerItemID:n,context:r,actionMgrID:o,isInCreateStage:s,isModalAction:a}=t;if(s&&a){const t=Go(n),s=Dr(t,r);e.push(Va(Ra,{containerItemID:n,target:s,actionMgrID:o}))}})(r,e),((e,t)=>{var n,r;const{assignmentID:o,actionID:s,caseID:a,context:i,additionalHeaders:c={},isCaseWideAction:l}=e,{state$:u}=t,p=(e=>{const{isModalAction:t,viewType:n,isInCreateStage:r}=e;return n||(t&&r?os.PAGE:os.FORM)})(e),d=(e=>{const{isCaseWideAction:t}=e;return t?Bt:"finishAssignment"})(e),h={assignmentID:o,actionID:s,caseID:a,viewType:p},{restApi:f}=Gr(d,h);let{reqType:g}=Gr(d,h);l&&(g="PATCH");const{content:y,attachmentsExist:m}=is(i);e.attachmentsExist=m;const I=(null===(n=u.value.data[i])||void 0===n||null===(r=n.caseInfo)||void 0===r?void 0:r.headers)||{},{etag:E}=I,A={"if-match":E,...c};return ne(Fi(f,{method:g,body:y,headers:A},i)).pipe(fe((t=>{const{data:n,headers:r}=t;return{response:n,actionInPayload:e,headers:as({...A,...r})}})),Yu("Error ocurred during ajax call at finishAssignment Epic : ",i))})(e,{state$:t})))),Ae((async e=>{var t,s,a,i;if(e&&e.type===Et){const t=ds(e);return r.push(t),r}const{headers:c,actionInPayload:l,response:u}=e,{containerItemID:p,context:d=Fs(p),isModalAction:h,isCaseWideAction:f,isInCreateStage:g,caseID:y}=l,m=Go(p),I=ea(p);l.target=I;const E=Object.freeze({target:l.target,containerItemID:p,context:d,containerName:m});et.setIn(u.data,"caseInfo.isFirstAssignment",!1),(e=>{Pi.publish(nt.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,e)})({submitResponse:u});let A=sc(u,{[tt.STOPMERGEACTIONS]:!u.nextAssignmentInfo});const _=(e=>{const t=qo(e);return Mo(t)&&Lo(wo.getOperatorIdentifier(),t)})(A),v=g&&!_,S=zo(A),b=pr(l.context),C=ks(Bs(b)[0]);!h||g||lp(l.context,C)||(A=((e,t)=>{var n,r,o;return null!=e&&null!==(n=e.data)&&void 0!==n&&n.caseInfo&&null!=t&&null!==(r=t.caseInfo)&&void 0!==r&&r.content&&(e.data.caseInfo.content=null==t||null===(o=t.caseInfo)||void 0===o?void 0:o.content),e})(A,pi(p)));const P=cs(A,{headers:c,actionMgrID:n,directUrlUpdation:!1});let T;Zo(P.data,l),P.caseClassName=S,P.resourceType=up.ASSIGNMENT,P.headers=c,null!==(t=A)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.nextAssignmentInfo?(P.caseViewMode=nt.PERFORM_MODE,T=Ko(A)):(P.caseViewMode=nt.REVIEW_MODE,T="");const O=Ko(A);Qo(P,A);const N=Fr("createWork",{caseClassName:S}).replace(/{.+?}/,Yo(O));if(A.semanticURL=N,P.semanticURL=N,h&&v)((e,t,n)=>{if(t.isProcessAction&&(ap(n,{...t,skipReleaseLockRequest:!0}),e)){const r=`${null!=t&&t.containerItemID.includes("root")?nt.APP.ROOT:nt.APP.APP}/${Ts.PRIMARY}`,o=fs(r,Ts.PRIMARY),s={insKey:e.ID,className:e.content.classID,context:o,acTargetName:nt.PRIMARY,isChild:!0},a={type:pt,payload:{...s}};n.push(a)}})(u.data.caseInfo.parentCaseInfo,l,r),P.resourceType=up.CASE,P.directUrlUpdation=!0,o=ip((R=l).context)?"":`${R.workID} has been created.`,!l.isProcessAction&&await(async(e,{translatedDXAPIResponse:t,actionInPayload:n},r)=>{const{caseID:o}=n,s=(a=t,et.getIn(a,Fo.NEXT_ASSIGNMENT_INFO_ID,nt.EMPTY_STRING));var a;const i=zo(t),{caseViewMode:c,headers:l,semanticURL:u,actionMgrID:p,directUrlUpdation:d,key:h,flowName:f,resourceType:g}=r;(e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DONE,e)})({caseId:o,assignmentId:s,caseType:i}),ap(e,{...n,skipReleaseLockRequest:!0});const y=`${null!=n&&n.containerItemID.includes("root")?nt.APP.ROOT:nt.APP.APP}/${Ts.PRIMARY}`,m=fs(y,Ts.PRIMARY),I=cs(t,{target:y,context:m,containerItemID:m,caseViewMode:c,headers:l,semanticURL:u,key:h,flowName:f,resourceType:g,directUrlUpdation:d});if(Hs(y)){const t=pi(m),o=Ko({data:t}),[,s]=o?o.split(" "):[],a=`You will lose unsaved changes for ${s}. Do you want to continue?`,{continueExecution:i}=ms(y,{dirtyMessage:a});if(!i)return r.directUrlUpdation=!1,Vn.rejectActionByID(p),se();if(!ip(n.context))return e;e.push(Va(La,I))}else e.push(Va(Sa,I));return t.directUrlUpdation=d,t.semanticURL=u,await ls(t,{...I,acName:y},{acName:y,context:m}),e})(r,{translatedDXAPIResponse:A,actionInPayload:l},P);else if(h&&f&&!_&&!lp(l.context,C))ap(r,l),((e,t,n)=>{const{containerItemID:r,caseID:o}=t;if(r&&/^app\/preview_[0-9]*/g.test(r)){const{caseClassName:t}=n,s=pr(r),a=Fs(s);e.push(Va(ma,{containerItemID:s,context:a,container:Ts.PREVIEW,containerName:Ts.PREVIEW,caseId:o,viewName:tt.PREVIEW_VIEW_NAME,caseClassName:t,updateData:!0}))}})(r,l,{caseClassName:S});else if(h&&lp(l.context,C)){ap(r,l);const e=Go(C),t={target:ea(C),containerItemID:C,context:C,containerName:e};P.doDeleteCaseSummary=l.doDeleteCaseSummary,r.push(Va(Oa,{...P,resourceType:"",key:T,...t})),l.target=ea(C),l.containerName=Go(C),l.context=C,l.containerItemID=C,et.setIn(P,"acName",t.target),await ls(A,P),cp(r,l,P)}else P.doDeleteCaseSummary=l.doDeleteCaseSummary,P.caseViewMode===nt.REVIEW_MODE&&(P.flowName=" "),r.push(Va(Oa,{...P,...E})),et.setIn(P,"acName",E.target),await ls(A,P),cp(r,l,P);var R;const D=lp(l.context,C);return ep({caseID:y,isModalAction:h,isModalLaunchedFromPrimaryValue:D,isCaseWideAction:f}),null!==(a=A)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.nextAssignmentInfo||(e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.END_OF_ASSIGNMENT_PROCESSING,e)})({...((e,t)=>{const{isCaseWideAction:n,assignmentID:r,actionID:o}=t;return{isCaseWideAction:n,caseID:Ko(e),assignmentID:n?null:r,actionID:n?o:null}})(A,l),containerItemID:p}),((e,{isModalAction:t,target:n,transientItemID:r})=>{if(t){const t=e.find((({type:e})=>e===wt));null!=t&&t.payload&&(n=t.payload.target,r=t.payload.containerItemID)}const o=wa({target:n,containerItemID:r});o.payload.transientItems.length&&e.push(o)})(r,{transientItemID:p,target:I,isModalAction:h}),r})),fe((()=>(1===r.length&&r[0].type===Et?Vn.rejectActionByID(n):Vn.resolveActionByID(n,o),Ss(r),o="",r=[],r)))):(Vn.rejectActionByID(n),ce([]))})))},(e,t)=>{let n=0,r=[];return e.pipe(Le("NAVIGATE_TO_STEP"),rp((e=>{const{isFormValid:o}=e.payload;return({actionMgrID:n}=e.payload),o?ce(e.payload).pipe(Ae((e=>((e,t)=>{const{ID:n,stepID:r,containerItemID:o,context:s=Fs(o),isInCreateStage:a}=e,{state$:i}=t,c={ID:n,stepID:r,viewType:a?os.PAGE:os.FORM},{restApi:l,reqType:u}=Gr("navigateToStep",c),{content:p}=is(s),d=i.value.data[s].caseInfo.headers;return ne(Fi(`${l}`,{method:u,body:p,headers:{"if-match":d&&d.etag}},s)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as({...d,...t.headers})}))),Yu("Error ocurred during ajax call at navigateToStep Epic : ",s))})(e,{state$:t}))),Ae((async e=>{if(e&&Ho(e.type))return r.push(ds(e)),r;const{actionInPayload:t,response:n,headers:o}=e,{containerItemID:s,context:a=Fs(s),isModalAction:i}=t,c=ea(s),l=Go(s),u=Object.freeze({target:c,containerItemID:s,context:a,containerName:l}),p=sc(n),d={acName:c,...u};await ls(p,t,d);const h=cs(p,{...u,headers:o});return h.doDeleteCaseSummary=t.doDeleteCaseSummary,h.resourceType=yp.ASSIGNMENT,Qo(h,p),Zo(h.data,t),ep({caseID:Ko(p),isModalAction:i}),Xo(s)&&vs(h,r),r.push(Va(Oa,h)),As(r),r})),fe((()=>(Vn.resolveActionByID(n),ui(r),r=[],r)))):(Vn.rejectActionByID(n),ce([]))})))},gp,e=>{let t=0,n=[];return e.pipe(Le(St,wt),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>{const{containerItemID:t,caseID:n,context:r,caseDeleted:o,skipReleaseLockRequest:s}=e;return t!==r||!n||o||s?ce([]):dp(e)})),Ae((e=>(e&&Ho(e.type)&&n.push(ds(e)),n))),fe((()=>(Vn.resolveActionByID(t),n.length>0&&ui(n),n=[],n))))},(e,t)=>{let n,r=0;const o=[];return e.pipe(Le($c),rp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:r,caseType:n}=e.payload),s?mp({action:e,state$:t,actionMgrID:r,caseType:n,actionsOut:o}):(Vn.rejectActionByID(r),ce([]))})))},(e,t)=>{let n,r=0,o=[];return e.pipe(Le(Fc),fe((e=>(({actionMgrID:r,caseType:n}=e.payload),e.payload))),Ae((e=>e.ignoreCaseDeletion?ce({actionInPayload:e}):(e=>{const{caseID:t,context:n}=e,{restApi:r,reqType:o}=Gr("deleteCaseInCreateStage",{ID:t});return ne(Fi(r,{method:o},n)).pipe(fe((t=>({response:t.data,actionInPayload:e,headers:as(t.headers)}))),Yu(": Error ocurred during ajax call at deleteCaseInCreateStage Epic : ",n))})(e))),Ae((async e=>{if(e&&Ho(e.type)){const{payload:t}=e,n=ds({...e,...t,actionMgrID:r});return o.push(n),o}const{actionInPayload:n}=e,{context:s,isModalAction:a}=n,i=a?Ts.MODAL:Ts.PRIMARY,c=Dr(i,s);if(!a){const e={acName:c,target:c,context:s},r=t.value.containers[c],{semanticURL:o}=(e=>{const{accessedOrder:t,items:n}=e;if(t&&t.length>1){const e=n[t[t.length-2]],{semanticURL:r}=e;if(r)return e}return{semanticURL:""}})(r);await ls({directUrlUpdation:!0,semanticURL:o},n,e)}if(n.isProcessAction&&n.parentCaseInfo){const e={insKey:n.parentCaseInfo.ID,className:n.parentCaseInfo.content.classID,context:n.parentContext,acTargetName:nt.PRIMARY,isChild:!0},t={type:pt,payload:{...e}};o.push(t)}const l={target:c,containerItemID:s,context:s,caseDeleted:!0};return o.push(Va(xa,l)),o})),fe((()=>(1===o.length&&Ho(o[0].type)?Vn.rejectActionByID(r):((e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DELETED,e)})({caseType:n}),Vn.resolveActionByID(r)),ui(o),o=[],o))))},e=>e.pipe(Le(yt),Np((()=>Tp(100))),fe((e=>{const{actionMgrID:t,isChildCase:n,isModalAction:r,isProcessAction:o}=e.payload;return Vn.resolveActionByID(t),Pi.publish(nt.PUB_SUB_EVENTS.EVENT_SHOW_CANCEL_ALERT,{isModalAction:r,hideDelete:!o&&n}),[]}))),e=>e.pipe(Le(Mt),Np((()=>Tp(100))),fe((e=>{const{actionMgrID:t,context:n,containerName:r,containerItemID:o}=e.payload,s=Dr(r,n);return Vn.resolveActionByID(t),ui(Va(Ra,{containerItemID:o,target:s,doDeleteCaseSummary:!1})),[]})))];function wp(){return function(e){return e.lift(new Mp)}}var Mp=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Lp(e))},e}(),Lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype._next=function(e){},t}(V);const{RESOURCE_TYPES:jp}=tt,Up=[e=>e.pipe(Le(st),fe((e=>e.payload)),Ae((e=>{const t={caseID:e.caseId,viewID:e.viewName,caseClassName:e.caseClassName,RemoteSystemID:e.RemoteSystemID},n={};if(t.RemoteSystemID)n.RemoteSystemID=t.RemoteSystemID;else if(Or.isRemoteCase(t.caseClassName)){const{RemoteSystemID:e}=Or.getRemoteCase(t.caseClassName);n.RemoteSystemID=e}let{restApi:r,reqType:o}=Gr("loadView",t);return e.viewContext===jp.PAGE&&({restApi:r,reqType:o}=Gr(jt,{page:e.viewName,pageClass:e.pageClass})),ne(Fi(r,{method:o,headers:n},e.context)).pipe(fe((t=>{let n="";return"string"==typeof t.data?t.data?n=JSON.parse(t.data):(console.error("response data is empty!!"),n={}):n=t.data,{response:{...n},actionConfig:e,headers:as(t.headers),rootView:et.getIn(n,nt.ROOT)}})),Yu(": Error ocurred during ajax call at loadView Epic : ",e.context))})),Ae((async e=>{const t={};if(e&&e.type===Et)return t.actionsOut=ds(e),t;try{var n;t.actionMgrID=null==e||null===(n=e.actionConfig)||void 0===n?void 0:n.actionMgrID,t.rootView=null==e?void 0:e.rootView;const{actionConfig:r,response:o,headers:s}=e,{containerItemID:a,container:i,updateData:c}=r,l=i===Ts.PREVIEW?Ts.PREVIEW:Oo(jt),u=Dr(l,r.context),p=i===Ts.PREVIEW&&c?r.context:fs(u,l,r.context,{buildNew:i===Ts.PREVIEW});r.context=p;const d={acName:u,context:p};let h={};h=i===Ts.PREVIEW?sc(o):sc(o,{[tt.STOPMERGEACTIONS]:!0,[tt.ACTIONS.DELETEAVIALACTIONS]:!0}),h.directUrlUpdation=!1,await ls(h,r,d);const f={target:u,context:p,containerItemID:i===Ts.PREVIEW?p:a,headers:s},g=cs(h,f);i!==Ts.PREVIEW||c?(g.preserveClientChanges=!0,t.actionsOut=Va(ga,g)):(g.caseViewMode=nt.REVIEW_MODE,t.actionsOut=hs(u,{...g,container:i}))}catch(e){console.error(e),t.rootView={type:"error",payload:e}}const{caseId:r,context:o,viewName:s}=e.actionConfig;return"pyCasePreview"===s&&(e=>{Pi.publish(nt.PUB_SUB_EVENTS.CASE_EVENTS.CASE_PREVIEW,e)})({caseId:r,context:o}),t})),fe((({rootView:e,actionsOut:t,actionMgrID:n=0})=>(Vn.resolveActionByID(n,e),t)))),e=>{let t=0,n=[];return e.pipe(Le(at),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),Ae((e=>{const{context:n,viewName:r,className:o,skipSemanticUrl:s=!1,containerName:a=Oo(jt)}=e,i=Dr(a,n);let c="",l={},u=!1;if(!s){c=Fr(jt,{page:r,pageClass:o});const{activate:n,activateContainerActionPayload:s}=Es(jp.PAGE,i,{semanticURL:c});if(n)return Ue.of({type:Rt,activateContainerActionPayload:s,actionConfig:e});if(({continueExecution:u,removeActionPayload:l}=ms(i)),!u)return Vn.rejectActionByID(t),se()}const{restApi:p,reqType:d}=Gr(jt,{page:r,pageClass:o});return ne(Fi(p,{method:d},n)).pipe(fe((t=>{let n={};return n="string"==typeof t.data?JSON.parse(t.data):t.data,{response:{...n,key:c,semanticURL:c},actionConfig:e,headers:as(t.headers),removeActionPayload:l,skipSemanticUrl:s}})),Yu(": Error ocurred during ajax call at showPage Epic : ",e.context))})),Ae((async e=>{if(e&&e.type===Et)return n.push(ds(e)),n;const{type:t,actionConfig:r,skipSemanticUrl:o}=e,s=r.containerName||Oo(at),a=Dr(s,r.context);if(t===Rt){const{activateContainerActionPayload:{semanticURL:t,containerItemID:o}}=e,s={acName:a,context:Fs(o)};await ls({directUrlUpdation:!0,semanticURL:t},r,s,!0),n.push(Va(Ra,{target:a,containerItemID:o}))}else{const t=fs(a,s,r.context),{response:i,headers:c={},removeActionPayload:l}=e,u=sc(i);u.directUrlUpdation=!o;const p={acName:a,context:t};await ls(u,r,p);const d=cs(u,{target:a,context:t,containerItemID:t,headers:c});d.resourceType=tt.PAGE;const h=hs(a,d);l.containerItemID&&gs(h)&&n.push(Va(xa,{containerItemID:l.containerItemID,target:a})),n.push(h),As(n)}return n})),fe((()=>{Vn.resolveActionByID(t),ui(n),n=[]})),wp())}],{RESOURCE_TYPES:kp}=tt,Vp=[e=>{let t,n=0,r=[];return e.pipe(Le(it),fe((e=>(({actionMgrID:n}=e.payload),e.payload))),Ae((e=>{const{context:t,pageName:r,dataContext:o,dataContextParameters:s,skipSemanticUrl:a=!1,containerName:i=Oo(at),isDeferLoaded:c=!1}=e,l=Dr(i,t);let u="",p={},d=!1;if(!a){u=Fr(Ut,{pageName:r,dataContext:o},s);const{activate:t,activateContainerActionPayload:a}=Es(kp.PAGE,l,{semanticURL:u});if(t)return Ue.of({type:Rt,activateContainerActionPayload:a,actionConfig:e});if(({continueExecution:d,removeActionPayload:p}=ms(l)),!d)return Vn.rejectActionByID(n),se()}return((e,t)=>{const{context:n,pageName:r,dataContext:o,dataContextParameters:s,semanticURL:a,skipSemanticUrl:i}=e,{removeActionPayload:c}=t,{restApi:l,reqType:u,body:p}=Gr(Ut,{pageName:r,dataContext:o,dataContextParameters:s});return ne(Fi(l,{method:u,body:p},n)).pipe(fe((t=>({response:{...t.data,key:a,semanticURL:a},actionConfig:e,headers:as(t.headers),removeActionPayload:c,skipSemanticUrl:i}))),Yu("Error ocurred during ajax call at showData Epic : ",e.context))})({context:t,pageName:r,dataContext:o,dataContextParameters:s,semanticURL:u,skipSemanticUrl:a,containerName:i,isDeferLoaded:c},{removeActionPayload:p})})),Ae((async e=>{if(e&&e.type===Et)return r.push(ds(e)),r;const{type:n,actionConfig:o,headers:s,response:a,skipSemanticUrl:i}=e;t=et.getIn(a,nt.ROOT);const{containerName:c}=o,l=Dr(c,o.context);let u;if(o.isDeferLoaded){u=sc(a),u.directUrlUpdation=!i;const t={acName:l,context:o.context};await ls(u,o,t);const n={target:l,context:o.context,containerItemID:e.containerItemID,headers:s},c=cs(u,n);return r=Va(ga,c),r}if(n===Rt){const{activateContainerActionPayload:{semanticURL:t,containerItemID:n}}=e,s={acName:l,context:Fs(n)};await ls({directUrlUpdation:!0,semanticURL:t},o,s,!0),r.push(Va(Ra,{target:l,containerItemID:n,resourceType:kp.DATA}))}else{const t=fs(l,c,o.context),{removeActionPayload:n}=e;u=sc(a),u.directUrlUpdation=!i;const p={acName:l,context:t};await ls(u,o,p);const d=cs(u,{target:l,context:t,containerItemID:t,headers:s});d.resourceType=kp.DATA;const h=hs(l,d);n.containerItemID&&gs(h)&&r.push(Va(xa,{containerItemID:n.containerItemID,target:l})),r.push(h),As(r)}return r})),fe((()=>(Vn.resolveActionByID(n,t),ui(r),r=[],r))))}],{RESOURCE_TYPES:{CASE:Fp,DATA:$p}}=tt;let Gp=[];const Bp=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return Gu.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map((function(e){var t=e.apply(void 0,n);if(!t)throw new TypeError('combineEpics: one of the provided Epics "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return t}))))};try{Object.defineProperty(r,"name",{value:"combineEpics("+t.map((function(e){return e.name||"<anonymous>"})).join(", ")+")"})}catch(e){}return r}(...zu,...xp,...Up,(e=>e.pipe(Le(It),ll(200),fe((e=>e.payload)),Ae((e=>{var t;const{context:n,requestType:r,routeKey:o}=e;let{routeEndpoint:s}=e;s=s&&s.indexOf("viewType={viewType}")>0?s.replace("{viewType}","page"):s&&s.indexOf('viewType=""')>0?s.replace('viewType=""','viewType="page"'):s;const a=ir()+s,i=e.options.context;let c;const l={},u=null==e||null===(t=e.payload)||void 0===t?void 0:t.caseClassName;if(Or.isRemoteCase(u)){const{RemoteSystemID:e}=Or.getRemoteCase(u);l.RemoteSystemID=e}if("POST"===r){let t;return c=e.payload,s.indexOf("viewType=")<0&&(s=`${s}?viewType=page`),t=_s(o)===Fp?{caseTypeID:c.caseTypeID,processID:c.processID,content:{}}:c,ne(Fi(a,{method:r,body:t,headers:l},n)).pipe(fe((t=>({response:{...t.data},payload:e,headers:as(t.headers)}))),Yu(": Error ocurred during ajax call at historyEpic : ",e))}return ne(Fi(a,{method:"GET",headers:l},i.substring(0,i.lastIndexOf("/")))).pipe(fe((t=>({response:t.data,payload:e,headers:as(t.headers)}))))})),Ae((async e=>{var t;if(e&&e.type===Et)return ds(e);const{headers:n={},response:r,payload:o}=e,s=sc(r,{[tt.STOPMERGEACTIONS]:!r.nextAssignmentInfo}),a=o.options.acName,i=Hs(a)&&Ys(a)?ks(a):e.payload.options.context,c=i;n.RemoteSystemID=null==o||null===(t=o.payload)||void 0===t?void 0:t.RemoteSystemID;const l={target:a,context:i,containerItemID:c,headers:n},u=et.getIn(s,nt.LOCALE_REFERENCES);await ns.loadLocaleResources(u);const p=et.getIn(s,nt.COMPONENTS);p&&await Po(p),vo(s,o.options.actionConfig,!0);let d="";o.payload&&o.payload.caseName&&o.payload.workID&&(d=Fr(kt,{caseName:e.payload.payload.caseName}),d=d&&d.replace("{workID}",e.payload.payload.workID)||"");let h=cs(s,l);return h=((e,t,n)=>{if(e===rs.CASE){var r;if(null!=t&&null!==(r=t.caseInfo)&&void 0!==r&&r.assignments){const{key:e,flowName:r}=ps(t.caseInfo.assignments[0].ID);n.key=e,n.flowName=r}else{var o;n.flowName="",n.key=(null==t||null===(o=t.caseInfo)||void 0===o?void 0:o.ID)||t.semanticURL}n.resourceType=e,n.semanticURL=t.semanticURL,n.caseViewMode=nt.REVIEW_MODE}else n.resourceType=e,n.semanticURL=t.semanticURL;return n})(_s(e.payload.routeKey),{...r.data,semanticURL:d,caseViewMode:nt.REVIEW_MODE},h),Gp.push(hs(a,h)),As(Gp),Gp})),fe((()=>(ui(Gp),Gp=[],Gp))),Yu("Error occured"))),...Vp,...Ku,(e=>{let t=0;return e.pipe(Le(Yt),fe((e=>(({actionMgrID:t}=e.payload),e.payload))),fe((e=>{const n=xl.getStore().getState(),r=$u();return qu()(n,r)&&t>0?Vn.resolveActionByID(t,{}):Vn.rejectActionByID(t),[]})),wp())})),Wp=e=>e.type||(e.messages&&e.messages[0].type)===tt.MESSAGES.MESSAGES_TYPE_ERROR,Hp=e=>e=>t=>{const{type:n="",payload:r={}}=t||{},{category:o,property:s,pageReference:a,context:i,referenceList:c}=r;"HTTP"!==o&&n===Ht&&Wp(r)?((e,t,n)=>{if(Tn[e]){const r=On(Nn(t,n));Tn[e].fieldOrder[r]&&(Tn[e].fieldOrder[r].isError=!0)}})(i,s,a):"HTTP"!==o&&n===qt&&Wp(r)&&void 0!==s?Dn(i,s,a):"HTTP"!==o&&-1!==[vt,Dt,St,wt].indexOf(n)?Rn(i):n===Xt&&Dn(i,s,c),e(t)},qp={},Yp=e=>{const t=et.getIn(qp,[nt.CONTEXT,e],[]),n=[];t.forEach((t=>{const r=t.substr(0,t.lastIndexOf("_")),o=et.getIn(qp,[r,t],[]),s=o&&o.length>0&&o.indexOf(e);if(s>-1&&o.splice(s,1),!o||o&&0===o.length){et.deleteIn(qp,[r,t]);const e=et.getIn(qp,[r]);e&&0===Object.keys(e).length&&et.deleteIn(qp,[r]),n.push({dataPageName:r,dataPageNameWithHash:t})}})),et.deleteIn(qp,[nt.CONTEXT,e]);const r=et.getIn(qp,[nt.CONTEXT]);(!r||r&&0===Object.keys(r).length)&&et.deleteIn(qp,[nt.CONTEXT]),n.length>0&&ui(Ga({dataPagesToBeRemoved:n}))},zp=(e={},t)=>{Object.keys(e).forEach((n=>{const r=et.getIn(e,[n],{});Object.keys(r).forEach((e=>{((e,t,n)=>{const r=et.getIn(qp,[nt.CONTEXT,n]);if(et.getIn(qp,[e])){const r=et.getIn(qp,[e,t],[]);et.setIn(qp,[e,t],[...new Set([...r,n])])}else et.setIn(qp,[e,t],[n]);r?et.setIn(qp,[nt.CONTEXT,n],[...new Set([...r,t])]):et.setIn(qp,[nt.CONTEXT,n],[t])})(n,e,t)}))}))},Kp=e=>e=>t=>{const{payload:{data:n={},context:r,childContainersContexts:o=[]}={},type:s}=t;if(o&&o.length>0&&(s===wt||s===St)&&o.forEach((e=>{Yp(e)})),s===vt||s===mt||s===Kt){const e=s===Kt?n:n.shared;zp(e,r)}else s===Dt||s===wt?(Yp(r),zp(n.shared,r)):s===St&&Yp(r);e(t)},Jp=class{static cleanCaches(e){si.purgeCascadeFields(e),ri.removeContext(e),Oc.clearContextedCache(e),Pi.cleanContextSubscribers(e),Rn(e),Cl.clearContext(e)}},Xp=e=>t=>n=>{const{type:r,payload:{target:o,containerItemID:s,context:a,childContainersContexts:i=[]}={}}=n,{PUB_SUB_EVENTS:c}=tt;if(r===St){const{resourceType:t,key:n,context:r}=et.getIn(e.getState(),["containers",o,"items",s])||{},a={resourceType:t,key:n,context:r,containerItemID:s};Pi.publish(c.CONTAINER_EVENTS.CLOSE_CONTAINER_ITEM,a)}i&&i.length>0&&(r===wt||r===St)&&i.forEach((e=>{Jp.cleanCaches(e)})),r!==wt&&r!==St||Jp.cleanCaches(a),t(n)},Qp=e=>e=>t=>{const{payload:{context:n}={},type:r}=t;!n||r!==vt&&r!==Dt&&r!==wt&&r!==St||(delete eo[n],(e=>{delete to[e]})(n)),e(t)},Zp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new(0,w.constructor)(w.SchedulerAction),n=new z,r=void 0,o=function(o){r=o;var s=(new z).pipe(ue(t)),a=(new z).pipe(ue(t)),i=new Ue(s),c=new ke(a,r.getState());return n.pipe(fe((function(t){var n="dependencies"in e?t(i,c,e.dependencies):t(i,c);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),Ae((function(e){return ne(e).pipe(function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new De(e,t))}}(t),ue(t))}))).subscribe(r.dispatch),function(e){return function(t){var n=e(t);return a.next(r.getState()),s.next(t),n}}};return o.run=function(e){n.next(e)},o}(),ed=e=>{const t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A;if(null!==li())xl.resetStore();else{const n=E((e=>((e=>{const t=e.Data||e.data,{uiResources:n={}}=e,r=n[nt.CONTEXT_DATA]||e[nt.CONTEXT_DATA];Fu={data:{[nt.APP.APP]:{...t,[nt.CONTEXT_DATA]:r}},containers:{}}})(e),Tu(!0),function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:I.INIT}))throw new Error(g(12));if(void 0===n(void 0,{type:I.PROBE_UNKNOWN_ACTION()}))throw new Error(g(13))}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var c=a[i],l=n[c],u=e[c],p=l(u,t);if(void 0===p)throw t&&t.type,new Error(g(14));o[c]=p,r=r||p!==u}return(r=r||a.length!==Object.keys(e).length)?o:e}}({data:ju,containers:Vu})))(e),t(Ve.reduxBatch,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(g(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(o)}));return r=A.apply(void 0,s)(n.dispatch),f(f({},n),{},{dispatch:r})}}}(Io,Hp,Kp,Qp,Zp,Xp),Ve.reduxBatch));Zp.run(Bp),ci(n)}};Lc.register("email",(e=>{let t=null;return e&&!function(e){const t="\\x5c[\\x00-\\x7f]",n=`([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|${t})*\\x5d)`,r=`([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|${t})*\\x22)`;return!!new RegExp(`^${r}(\\x2e${r})*\\x40${n}(\\x2e${n})*$`).test(e)}(e)&&(t=ns.getLocaleValue("Invalid Email","Messages")),t})),Lc.register("integer",(e=>{let t=null;return e&&!/^(-)?\d+$/.test(e)&&(t=ns.getLocaleValue("Invalid number","Messages")),t})),Lc.register("required",(e=>Array.isArray(e)&&0===e.length||null==e||""===e?ns.getLocaleValue("Required","Messages"):null)),Lc.register("url",(e=>{let t=null;return e&&!function(e){let t;try{t=new URL(e)}catch{return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&(t=ns.getLocaleValue("Invalid URL","Messages")),t})),Lc.register("phone",(e=>{let t=null;return e&&!/^\+?\d+$/.test(e)&&(t=ns.getLocaleValue("Invalid Phone","Messages")),t}));const td=(e,t)=>{switch(t){case"invalid":return ns.getLocaleValue(`Incorrect ${e}`,"Messages");case"incomplete":return ns.getLocaleValue(`Incomplete ${e}`,"Messages");default:return null}};Lc.register("datetime",(e=>td("DateTime",e))),Lc.register("date",(e=>td("Date",e))),Lc.register("time",(e=>td("Time",e))),Lc.register("futuredate",(()=>null)),Lc.register("notfuturedate",(()=>null)),Lc.register("alphabeticvalidation",(e=>{let t=null;return e&&!/^[A-Z]$/i.test(e)&&(t=ns.getLocaleValue("Enter a valid alphabetic value","Messages")),t})),Lc.register("alphanumericvalidation",(e=>{let t=null;return e&&!/^[a-z0-9]+$/i.test(e)&&(t=ns.getLocaleValue("Enter a valid alphabetic or numeric value","Messages")),t})),Lc.register("alphanumericspacevalidation",(e=>{let t=null;return e&&!/^[a-z0-9\s]*$/i.test(e)&&(t=ns.getLocaleValue("Enter a valid Alphanumeric or space Value","Messages")),t})),Lc.register("nonnegativeinteger",(e=>{let t=null;return/^-?\d+$/i.test(e)?e<0&&(t=ns.getLocaleValue("Enter a non negative value","Messages")):t=ns.getLocaleValue("Enter a valid value","Messages"),t})),Lc.register("urgencyvalue",(e=>{let t=null;return(e>100||e<1)&&(t=ns.getLocaleValue("Invalid input - enter a number between 0 and 100","Messages")),t})),Lc.register("validphonenumber",(e=>{let t=null;return e&&!/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/gim.test(e)&&(t=ns.getLocaleValue("Enter a valid phone number","Messages")),t})),Lc.register("posdecimal",(e=>{let t=null;if(e){const n=".",r=",",o=(e.match(/\./g)||[]).length,s=e.replace(new RegExp(`${r}|\\s`,"g"),"");null!==s.match(new RegExp(`[^0-9-${r}${n}]`,"g"))||o>1?t=ns.getLocaleValue(`${e} is not a valid decimal value`,"Messages"):s<=0&&(t=ns.getLocaleValue("Invalid input - reenter a decimal number greater than 0","Messages"))}return t})),Lc.register("nonnegative",(e=>{let t=null;if(e){const n=".",r=",",o=e.replace(new RegExp(`${r}|\\s`,"g"),"");new RegExp(`^(((\\-)?\\d+(\\${n}\\d*)?)|((\\-)?(\\d*\\${n})?\\d+))$`).test(o)?o<0&&(t=ns.getLocaleValue("Enter a non negative value","Messages")):t=ns.getLocaleValue(`${e} is not a valid value`,"Messages")}return t}));const nd=(e,t)=>{const n={actionConfig:t,data:{...e.data,[nt.CONTEXT_DATA]:{...e[nt.CONTEXT_DATA],errors:e.Errors}},context:t.context};return e.root?(n.root={...e.root,options:t},n.metaRoot={...e.root,options:t}):e.UIMetadata&&e.UIMetadata.root&&(n.root={...e.UIMetadata.root,options:t}),e.data&&e.data.pyWorkPage&&e.data.pyWorkPage.pzInsKey&&(n.docKey=e.data.pyWorkPage.pzInsKey),n};jn.registerHandler("localAction",((e,t,n)=>{const r=e.target,o=n.getPageReference(),s=n.getContextName(),a=Eo(s),i=n.getValue(".pzInsKey"),{target:c}=t,l={class:t.class,name:o};i&&(l.pzInsKey=i);const u={action:"localAction",params:{name:t.flowAction,template:t.template,target:c,key:t.key},pageReference:l,content:a};cr({actionObject:u}).then((e=>e.json())).then((e=>{const t={type:c,context:s,target:r};vo(e,t),ui({type:mi(t),payload:nd(e,t)})})).catch((e=>window.console.log(e)))})),jn.registerHandler("refresh",(()=>!0)),jn.registerHandler("runActivity",((e,t,n)=>{const r=n.getPageReference(),o={class:n.getValue(".pyClassName"),name:r},s=n.getContextName(),a=Eo(s),i={action:"runActivity",params:{activity:t.activity},pageReference:o,content:a};cr({actionObject:i}).then((e=>e.json())).then((e=>{const t={context:n.getContextName()};vo(e,t),ui({type:mi(t),payload:nd(e,t)})})).catch((e=>window.console.log(e)))})),jn.registerHandler("runDataTransform",((e,t,n)=>{const r=n.getContextName(),o=n.getPageReference(),s={class:n.getValue(".pyClassName"),name:o},a=Eo(r),i={action:"runDataTransform",params:{datatransform:t.datatransform},pageReference:s,content:a};cr({actionObject:i}).then((e=>e.json())).then((e=>{const t={context:r};vo(e,t),ui({type:mi(t),payload:nd(e,t)})})).catch((e=>window.console.log(e)))})),jn.registerHandler("setValue",((e,t,n)=>{const r=n.getContextName(),{pairs:o}=t;Object.keys(o).forEach((e=>{const{source:t,target:s}=o[e];let a=t;-1!==t.indexOf(".")&&(a=n.getValue(t)),ui({type:rt,payload:{reference:`${n.getPageReference()}${s}`,value:a,context:r}})}))})),En.registerHandler("@L",((e,t)=>t.getLocalizedValue(e))),En.registerHandler("@P",((e,t)=>t.getValue(e)));const rd={operatorType:"binaryOperator",precedence:1,evaluate:(e,t)=>e&&t},od={operatorType:"binaryOperator",precedence:1,evaluate:(e,t)=>e||t},sd="literal",ad="identifier",id={">":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e>t},">=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e>=t},"<":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e<t},"<=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e<=t},"==":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e===t},"!=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e!==t},"!":{operatorType:"unaryOperator",precedence:999,evaluate:e=>{let{value:t}=e;return"true"!==t&&"false"!==t||(t="true"===t),!t}},"(":{operatorType:"openParenthesis"},")":{operatorType:"closeParenthesis"},"&&":rd,AND:rd,and:rd,"||":od,OR:od,or:od,CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.indexOf(t)>-1},NOT_CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>-1===e.indexOf(t)},STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.startsWith(t)},NOT_STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!e.startsWith(t)},ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.endsWith(t)},NOT_ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!e.endsWith(t)},IS_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:e=>!e},IS_NOT_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:e=>!!e},IS_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>t.split(",").includes(e)},IS_NOT_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!t.split(",").includes(e)}},cd={BinaryExpression:function(e){const t=[];return t[0]=this.evaluateAST(e.left),t[1]=e.right?this.evaluateAST(e.right):"",this._grammar[e.operator].evaluate(t[0],t[1])},identifier:function(e){return this._context.getValue(e.value)},literal:function(e){return"true"===e.value||"false"===e.value?"true"===e.value:e.value},UnaryExpression:function(e){return this._grammar[e.operator].evaluate(e.right)}},ld={unaryOperator:function(e){this.setPositionInAST({operationType:"UnaryExpression",operator:e.value})},binaryOperator:function(e){const{precedence:t}=this._grammar[e.value];let n=this._position._parent;for(;n&&n.operator&&this._grammar[n.operator].precedence>=t;)this._position=n,n=n._parent;const r={operationType:"BinaryExpression",operator:e.value,left:this._position};Ed._setParent(this._position,r),this._position=n,this.setPositionInAST(r)},identifier:function(e){const t={operationType:ad,value:e.value};this.setPositionInAST(t)},literal:function(e){this.setPositionInAST({operationType:sd,value:e.value})},subExpression:function(e){this.setPositionInAST(e)}},ud=/\\\\/,pd=/^\s*$/,dd=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,hd=/^[a-zA-Z_.$][(0-9)a-zA-Z0-9_.$]*$/,fd=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],gd=["[a-zA-Z_.\\$][(0-9)a-zA-Z0-9_.\\$]*","[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}|[0-9]{4}-[0-9]{2}-[0-9]{2}","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],yd=["binaryOperator","unaryOperator","openParenthesis"],md={expectOperand:{operatorTypes:{literal:{toState:"expectBinOp"},identifier:{toState:ad},unaryOperator:{},openParenthesis:{toState:"subExpression"}}},expectBinOp:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},identifier:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},subExpression:{subHandler:ld.subExpression,endStates:{closeParenthesis:"expectBinOp"}}};class Id{constructor(e){this._grammar=e}static _isNegative(e){return yd.some((t=>t===e[e.length-1].tokenType))}static _isWhitespace(e){return!!e.match(pd)}static _createWordboundary(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(hd)&&(e=`\\b${e}\\b`),e}static _unquote(e){const[t]=e,n=new RegExp(`\\\\${t}`,"g");return e.substr(1,e.length-2).replace(n,t).replace(ud,"\\")}_getSplitRegex(){if(!this._splitRegex){const e=Object.keys(this._grammar).sort(((e,t)=>t.length-e.length)).map((e=>Id._createWordboundary(e)),this);this._splitRegex=new RegExp(`(${[fd.join("|"),e.join("|"),gd.join("|")].join("|")})`)}return this._splitRegex}_splitExpression(e){const t=this._getSplitRegex();return e.split(t).filter((e=>e))}_createToken(e){const t={tokenType:sd,value:e,element:e};return'"'===e[0]||"'"===e[0]?t.value=Id._unquote(e):e.match(dd)?t.value=parseFloat(e):"true"===e||"false"===e?t.value="true"===e:this._grammar[e]?t.tokenType=this._grammar[e].operatorType:e.match(hd)&&(t.tokenType=ad),t}_getTokens(e){const t=[];let n=!1;for(let r=0;r<e.length;r+=1)Id._isWhitespace(e[r])?t.length&&(t[t.length-1].element+=e[r]):"-"===e[r]&&Id._isNegative(t)?n=!0:(n&&(e[r]=`-${e[r]}`,n=!1),t.push(this._createToken(e[r])));return t}tokenize(e){const t=this._splitExpression(e);return this._getTokens(t)}}class Ed{constructor(e,t,n){this._grammar=e,this._state="expectOperand",this._tree=null,this._exprStr=t||"",this._endState=n||{}}static _setParent(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}_addToken(e){const t=md[this._state],n=this._exprStr;if(this._exprStr+=e.element,t.subHandler){this._subParser||this._startSubExpression(n);const t=this._subParser._addToken(e);t&&(this._endSubExpression(),this._state=t)}else{if(!t.operatorTypes[e.tokenType]){if(this._endState[e.tokenType])return this._endState[e.tokenType];throw new Error(`Token ${e.element} (${e.tokenType}) unexpected in expression: ${this._exprStr}`)}{const n=t.operatorTypes[e.tokenType],r=ld[e.tokenType];r&&r.call(this,e),n.toState&&(this._state=n.toState)}}return!1}addTokens(e){e.forEach(this._addToken,this)}buildAst(){return this._subParser&&this._endSubExpression(),this._state="complete",this._position?this._tree:null}_startSubExpression(e){const{endStates:t}=md[this._state];this._subParser=new Ed(this._grammar,e,t)}_endSubExpression(){md[this._state].subHandler.call(this,this._subParser.buildAst()),this._subParser=null}setPositionInAST(e){this._position?(this._position.right=e,Ed._setParent(e,this._position)):this._tree=e,this._position=e}}class Ad{constructor(e){this._grammar={...id},this._expression=e,this._ast=null,this._context={}}buildAST(){const e=new Id(this._grammar).tokenize(this._expression),t=new Ed(this._grammar);return t.addTokens(e),this._ast=t.buildAst(),this}evaluate(e){return this._context=e,this.evaluateAST(this._ast)}evaluateAST(e){return cd[e.operationType].call(this,e)}}En.registerHandler("@E",((e,t)=>{try{return((e,t)=>!e||e.evaluate(t))((e=>!e||e.buildAST())((e=>{const t=e.replace(/[a-zA-Z0-9_)"'\s]=[a-zA-Z0-9_("'\s]/,(e=>e.replace("=","==")));return new Ad(t)})(e)),t)}catch(e){}return!0})),En.registerHandler("@W",((e,t)=>{const n=t.getContextDataValue(`.${nt.SUMMARY_OF_WHEN_CONDITIONS}.${e}`);return!0===n||"true"===n})),En.registerHandler("@ASSOCIATED",((e,t)=>{var n,r,o,s,a,i,c,l,u,p,d,h,f,g;let y={};const m=[];let I="",E="";const A=t.getPageReference();if(e.startsWith(".")){I=`${A}.${e.substring(1)}`;const n=e?e.split(".").filter((e=>!!e)):[];n.length>1&&(n.pop(),E=n.join(".")),y=t.getFieldMetadata(e.substring(1))}else y=t.getFieldMetadata(e),I=e;const _=null===(n=y)||void 0===n||null===(r=n.datasource)||void 0===r?void 0:r.tableType,v=(null===(o=y)||void 0===o||null===(s=o.datasource)||void 0===s?void 0:s.mode)===nt.READONLY,S=(null===(a=y)||void 0===a||null===(i=a.datasource)||void 0===i?void 0:i.name)||"",b=t.getComponentConfig();var C,P,T,O;if(b&&b.deferDatasource)return b.datasourceMetadata=`@FIELD_META ${e}`,t.setStateProps({datasourceMetadata:b.datasourceMetadata}),_!==nt.DATA_PAGE?null===(C=y)||void 0===C||null===(P=C.datasource)||void 0===P?void 0:P.records:null;if(_!==nt.DATA_PAGE)return null===(T=y)||void 0===T||null===(O=T.datasource)||void 0===O?void 0:O.records;const N=An.getPropertyName(null===(c=y)||void 0===c||null===(l=c.datasource)||void 0===l?void 0:l.propertyForDisplayText),R=An.getPropertyName(null===(u=y)||void 0===u||null===(p=u.datasource)||void 0===p?void 0:p.propertyForValue),D=Array.isArray(null===(d=y)||void 0===d||null===(h=d.datasource)||void 0===h?void 0:h.parameters)?null===(f=y)||void 0===f||null===(g=f.datasource)||void 0===g?void 0:g.parameters:[],x=t.getContextName(),w=[];if(D.forEach((e=>{if(An.isProperty(null==e?void 0:e.value)){let t=fi(`.${et.getFullPropertyReference([E,An.getPropertyName(e.value)])}`,A,x);w.push(et.getFullPropertyReference([A,E,An.getPropertyName(null==e?void 0:e.value)])),null!=t&&""!==t||(t=nt.NULL_STRING),m.push(t)}else m.push((null==e?void 0:e.value)||nt.NULL_STRING)})),x){const e=Qr.getContextObjectByName(x)||{};w.forEach((t=>{if(t in e){const n=e[t];e[t]=[...new Set([...n,I])]}else e[t]=[I]})),Qr.addContextName(x,e)}return function(e,t,n,r){let o="",s=n;if(t.join(nt.HASH_DELIMITER)&&(o=et.getHashedString(t.join(nt.HASH_DELIMITER)),s=n+nt.UNDERSCORE_STRING+o),r){var a;const e=di(),t=e?null===(a=e[n])||void 0===a?void 0:a[s]:{};return Array.isArray(null==t?void 0:t.pxResults)?t.pxResults:[]}const i=e.getDataObject()[n][s];return Array.isArray(null==i?void 0:i.pxResults)?i.pxResults:[]}(t,m,S,v).map((e=>({key:e[R]||e[`.${R}`],value:e[N]||e[`.${N}`]})))})),En.registerHandler("@ROUTING_INFO",((e,t)=>xr(t.getContainerName(),t.getContextName()))),En.registerHandler("@ENV",((e,t)=>{switch(e){case nt.ENV_INFO_KEYS.APPLICATION_NAME:return wo.getApplicationName();case nt.ENV_INFO_KEYS.ACCESS_GROUP:return wo.getAccessGroup();case nt.ENV_INFO_KEYS.USER_NAME:return wo.getOperatorName();case nt.ENV_INFO_KEYS.USER_ID:return wo.getOperatorIdentifier();case nt.ENV_INFO_KEYS.APPLICATION_DESC:return t.getLocalizedValue(wo.getApplicationLabel());case nt.ENV_INFO_KEYS.USER_IMAGE:return wo.getOperatorImageInsKey();case nt.ENV_INFO_KEYS.LOCALE:return wo.getUseLocale();case nt.ENV_INFO_KEYS.TIMEZONE:return wo.getTimeZone();case nt.ENV_INFO_KEYS.WORK_GROUP:return wo.getOperatorWorkGroup();default:return e}})),En.registerHandler("@DATASOURCE",((e,t)=>{const n=t.getValue(e)||[],r=t.getComponentConfig(),o=Object.keys(r).find((t=>{var n,o;return null===(n=r[t])||void 0===n||null===(o=n.source)||void 0===o?void 0:o.includes(e)}));if(o){const{fields:e}=r[o],t=[];return n.forEach((n=>{const r={};Object.keys(e).forEach((t=>{const o=An.getPropertyName(e[t]);r[t]=n[o]})),t.push(r)})),t}return[]})),En.registerHandler("@FIELD_META",((e,t)=>{let n={};return n=e.startsWith(".")?t.getFieldMetadata(e.substring(1)):t.getFieldMetadata(e),n&&n.datasource&&n.datasource.parameters&&(n={...n,datasource:{...n.datasource,parameters:t.resolveConfigProps(n.datasource.parameters)}}),n})),En.registerHandler("@USER",((e,t)=>{const n=t.getValue(e),r=t.getReferencedUser(n);return{userId:n,userName:r?r.UserName:null}})),En.registerHandler("@ACTIVE_CASES",((e,t)=>Yc.getOpenedCaseItems(`${t.getContextName()}/${t.getContainerName()}`))),En.registerHandler("@LR",(e=>e)),En.registerHandler("@CASE",((e,t)=>e===nt.ID?t.getCaseInfo().getKey():e));const _d=e=>rl.createC11nEnv(e),vd=()=>o,Sd=()=>s,bd=()=>In,Cd=()=>l,Pd=()=>c,Td=()=>a,Od=()=>t,Nd=()=>jn,Rd=async(e,t,n)=>{const r=sc(e),{data:o,uiResources:s={}}=e,a=et.getIn(s,nt.CONTEXT_DATA);await ls(r,{},{},!1,!0);const i={...o,[nt.CONTEXT_DATA]:a},{root:c}=s;xl.getContainerUtils().addRootContainerItem(c,t,i,n)},Dd=(e,t,n)=>{Fi(e,{method:"GET"},nt.APP.ROOT).then((async e=>{const{data:r,status:o}=e;200===o&&Rd(r,t,n)}))},xd=async(e,t,n)=>await Po(n).then((()=>{const n=_d({meta:e,isRoot:!0});li()||ed({}),Pi.publish(tt.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:n,domContainerID:t})})),wd=(e,t)=>{So.initServer(e,t)},Md=async(e,t,n=[])=>{ar();const r=sc(e),o=et.getIn(r,nt.VIEWS),s=et.getIn(r,nt.NAVIGATIONS),a=et.getIn(r,nt.COMPONENTS)||[];a.push(...n);const i=et.getIn(r,nt.STATIC_SERVER_URL),c=et.getIn(r,nt.APPLICATION_DATA);o&&cn(o),s&&ln(s),(e=>{e&&(jr=e.pyLabel)})(c),i&&So.initServer(i),await Po(a,i).then((()=>((e,t)=>{const n={context:nt.APP.APP},r={...et.getIn(e,nt.ROOT),options:n};ed(e),vo(e,n,!0);const o=_d({meta:r,isRoot:!0});Pi.publish(tt.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:o,domContainerID:t})})(r,t)))},Ld=(e,t,n)=>{var r;Kr(e),(r=t)&&Object.keys(r).forEach((e=>{const t=r[e];t&&t.actions&&t.actions.forEach((t=>{To.set(t.toLowerCase(),e)}))})),ar(n)},jd=(e,t)=>{Kr(e,!0),ar(t)},Ud=e=>{So.setAppAlias(e)},kd=e=>{const{restApi:t}=$r("home",{portalName:e});return ir()+t},Vd=(e,t)=>{const{restApi:n}=((e,t)=>{let n={restApi:""};try{if(zr()&&!t){const t=br(),r=Rr.processUrl(t,!0),o=Rr._getMatchedRouteInRoutingTable(r),s=Rr.getRoutingInfo(),a=r.split("/"),i=a[a.length-1];let{caseID:c}=s.routes[o].payload;c=c.replace("{workID}",i),n=Rr.getRestEndPoint("loadView",{caseID:c,viewID:e})}else n=Rr.getRestEndPoint("showView",{page:e,pageClass:t})}catch(e){}return n})(e,t);return ir()+n},Fd=async(e,t,n=[],r,o,s)=>{var a;const{config:{name:i}={}}=t;li()||ed({}),s&&(xl.getContainerUtils().removeContainer(`${nt.APP.ROOT}/${i}`),xl.getContainerUtils().getContainerAPI().deleteContainerItem(`${nt.APP.ROOT}/${i}`)),(null===(a=xl.getContainerUtils().getContainerAPI().getContainerItems())||void 0===a?void 0:a.length)>1&&xl.resetStore(),ui(ga({data:{},context:nt.APP.ROOT}));const c=_d({meta:t,options:{context:nt.APP.ROOT,pageReference:"",target:`${nt.APP.ROOT}/${i}`}}),l=c.getPConnect(),u=l.getContextName(),p=l.getContainerName(),d=l.getContainerManager(),h=`${u}/${p}`;xl.getContainerUtils().getActiveContainerItemName(h)||"noPortal"===t.config.renderingMode||d.initializeContainers({type:"single"});const f=["RootContainer","Region","ModalViewContainer","PreviewViewContainer",...n];return await Po(f).then((()=>{Pi.publish(tt.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:c,domContainerID:e,componentName:"RootContainer",portalTarget:r,styleSheetTarget:o})}))},$d=(e,t,n,r)=>{let o=Vd(e,n);o===ir()&&(o=kd(t)),Dd(o,r)},Gd=(e,t)=>{const n=kd(e);Dd(n,t,!0)},Bd=e=>{(e=>{const{acName:t,context:n,defaultViewLabel:r}=e,o=(e=>{const t=Rr.getRoutingInfo(),n=e.split(" ").join(""),r=e.split(" ").join("-").toLowerCase();return t.routes[n]?n:t.routes[r]?r:e})(r);(e=>{Ur=e})(o),Rr.setDefaultRoute(o);const s=dr(t,n),a=Dr(t,n),i={historyAction:wr};let l;const u={acName:a,context:s,actionConfig:{context:s}};if(zr()){const e=(e=>{if(e.indexOf("?")>0){const[t,n]=e.split("?"),r=new URLSearchParams(n),o=new Map;for(const[e,t]of r)"portal"!==e&&"noPortal"!==e&&o.set(e,t);const s=new URLSearchParams(o).toString();return s?`${t}?${s}`:t}return e})(vr(window.location.pathname+window.location.search));l=Rr.getEndPointInfo(e),i.pxURLPath=l.urlPath;const t={},n="showHistory";t.routeEndpoint=l.routeEndpoint,t.requestType=l.requestType,t.payload=l.payload,t.options=u,t.routeKey=l.routeKey,ui(c[n](qr(t)))}else l=Rr.getEndPointInfo(Ur),i.pxURLPath="";Wr(null,!0,{urlPathObjParam:i,infoParam:l,optionsParam:u})})(e)},Wd=()=>zr(),Hd=e=>{Pi.subscribe(tt.PUB_SUB_EVENTS.EVENT_RENDER_APP,e,"renderAppCallback")},qd=e=>{(e=>{sr=e})(e)},Yd=e=>{Wi(e)},zd=e=>{Hi(e)},Kd=()=>Yc,Jd=e=>{kr=e},Xd=()=>ed({})})();var o=r.v9,s=r.DP,a=r.RE,i=r.WM,c=r.gm,l=r.Yw,u=r.e6,p=r.sd,d=r.No,h=r.DF,f=r.FC,g=r.kU,y=r.LF,m=r.vg,I=r.jK,E=r.Dw,A=r.x0,_=r.HW,v=r.N2,S=r.yC,b=r.gn,C=r.JP,P=r.fV,T=r.Hk,O=r.K5,R=r.P6,N=r.r_,D=r.r7,x=r.V5,w=r.d0,M=r.JR;export{o as PCoreInstance,s as checkIfSemanticURL,a as configureForBrowserBookmark,i as createC11nEnv,c as enableAppRouting,l as getActionCreators,u as getActionHandler,p as getActionProcessor,d as getCaseApi,h as getComponentsRegistry,f as getContextUtils,g as getHomeRestApi,y as getRoutingManager,m as getStateManager,I as getStreamObservable,E as getViewRestApi,A as initAppShell,_ as initRoutingTable,v as initStore,S as loadComponent,b as loadPortalView,C as loadRootComponent,P as loadView,T as loadViewByName,O as onPCoreReady,R as setAppAlias,N as setFetchAuthInfo,D as setFetchDefaultHeaders,x as setGoogleMapsAPIKey,w as setStaticServerUrl,M as updateStoreWithUiRoot};
/*! For license information please see constellation-core.76f4047b.js.LICENSE.txt */
var e={6:(e,t,n)=>{var r=n(560);Object.defineProperty(t,"reduxBatch",{enumerable:!0,get:function(){return r.reduxBatch}})},560:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduxBatch=function(e){var t=[],n=void 0;function r(){t===n&&(t=t.slice())}function o(e){if("function"!=typeof e)throw new Error("Invalid listener, expected a function");var n=!0;return r(),t.push(e),function(){n&&(r(),t.splice(t.indexOf(e),1),n=!1)}}function s(){for(var e=t,r=0;r<e.length;++r)n=e,e[r]()}return function(){var t=e.apply(void 0,arguments),n=!1,r=!1;function a(e){return Array.isArray(e)?e.map((function(e){return a(e)})):t.dispatch(e)}function i(e){var t=r;t||(n=!1,r=!0);var o=a(e),i=n&&!t;return t||(n=!1,r=!1),i&&s(),o}return t.subscribe((function(){r?n=!0:s()})),Object.assign({},t,{dispatch:i,subscribe:o})}}},483:(e,t,n)=>{e.exports=n(6)},462:(e,t,n)=>{e.exports=n(604)},41:(e,t,n)=>{var r=n(227),o=n(1),s=n(419),a=n(242),i=n(328),c=n(539),l=n(282),u=n(649),p=n(33),d=n(675);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var I=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(E+":"+A)}var _=i(e.baseURL,e.url);function v(){if(I){var r="getAllResponseHeaders"in I?c(I.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?I.response:I.responseText,status:I.status,statusText:I.statusText,headers:r,config:e,request:I};o((function(e){t(e),m()}),(function(e){n(e),m()}),s),I=null}}if(I.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),I.timeout=e.timeout,"onloadend"in I?I.onloadend=v:I.onreadystatechange=function(){I&&4===I.readyState&&(0!==I.status||I.responseURL&&0===I.responseURL.indexOf("file:"))&&setTimeout(v)},I.onabort=function(){I&&(n(u("Request aborted",e,"ECONNABORTED",I)),I=null)},I.onerror=function(){n(u("Network Error",e,null,I)),I=null},I.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||l(_))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in I&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:I.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),y&&"json"!==y&&(I.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&I.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&I.upload&&I.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){I&&(n(!e||e&&e.type?new d("canceled"):e),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),I.send(f)}))}},604:(e,t,n)=>{var r=n(227),o=n(107),s=n(9),a=n(991),i=function e(t){var n=new s(t),i=o(s.prototype.request,n);return r.extend(i,s.prototype,n),r.extend(i,n),i.create=function(n){return e(a(t,n))},i}(n(33));i.Axios=s,i.Cancel=n(675),i.CancelToken=n(582),i.isCancel=n(494),i.VERSION=n(257).version,i.all=function(e){return Promise.all(e)},i.spread=n(547),i.isAxiosError=n(811),e.exports=i,e.exports.default=i},675:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},582:(e,t,n)=>{var r=n(675);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},494:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},9:(e,t,n)=>{var r=n(227),o=n(242),s=n(394),a=n(749),i=n(991),c=n(725),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=i(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var p=e;n.length;){var d=n.shift(),h=n.shift();try{p=d(p)}catch(e){h(e);break}}try{o=a(p)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},u.prototype.getUri=function(e){return e=i(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(i(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(i(r||{},{method:e,url:t,data:n}))}})),e.exports=u},394:(e,t,n)=>{var r=n(227);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},328:(e,t,n)=>{var r=n(823),o=n(751);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},649:(e,t,n)=>{var r=n(697);e.exports=function(e,t,n,o,s){var a=new Error(e);return r(a,t,n,o,s)}},749:(e,t,n)=>{var r=n(227),o=n(446),s=n(494),a=n(33),i=n(675);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},697:e=>{e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},991:(e,t,n)=>{var r=n(227);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||s,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},1:(e,t,n)=>{var r=n(649);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},446:(e,t,n)=>{var r=n(227),o=n(33);e.exports=function(e,t,n){var s=this||o;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},33:(e,t,n)=>{var r=n(227),o=n(200),s=n(697),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(41)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(i(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},257:e=>{e.exports={version:"0.24.0"}},107:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},242:(e,t,n)=>{var r=n(227);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),s=a.join("&")}if(s){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},751:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},419:(e,t,n)=>{var r=n(227);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,s,a){var i=[];i.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),r.isString(o)&&i.push("path="+o),r.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},823:e=>{e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},811:e=>{e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},282:(e,t,n)=>{var r=n(227);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},200:(e,t,n)=>{var r=n(227);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},539:(e,t,n)=>{var r=n(227),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,a={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},547:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},725:(e,t,n)=>{var r=n(257).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],a=t[s];if(a){var i=e[s],c=void 0===i||a(i,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:o}},227:(e,t,n)=>{var r=n(107),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function i(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return i(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},44:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;0!=o--;){var a=s[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},926:(e,t,n)=>{var r="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,i=s||a||Function("return this")();function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,s=-1;++s<o;)if(t(e[s],s,e))return s;return-1}(e,p);for(var r=-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t)>-1}function u(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function p(e){return e!=e}function d(e,t){return e.has(t)}var h,f=Array.prototype,g=Function.prototype,y=Object.prototype,m=i["__core-js_shared__"],I=(h=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",E=g.toString,A=y.hasOwnProperty,_=y.toString,v=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=i.Symbol,b=y.propertyIsEnumerable,C=f.splice,P=S?S.isConcatSpreadable:void 0,T=Math.max,O=U(i,"Map"),N=U(Object,"create");function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e){var t=-1,n=e?e.length:0;for(this.__data__=new x;++t<n;)this.add(e[t])}function M(e,t){for(var n=e.length;n--;)if(G(e[n][0],t))return n;return-1}function L(e,t,n,r,o){var s=-1,a=e.length;for(n||(n=k),o||(o=[]);++s<a;){var i=e[s];t>0&&n(i)?t>1?L(i,t-1,n,r,o):u(o,i):r||(o[o.length]=i)}return o}function j(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function U(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!q(e)||(t=e,I&&I in t))&&(H(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:o).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function k(e){return B(e)||function(e){return W(e)&&A.call(e,"callee")&&(!b.call(e,"callee")||"[object Arguments]"==_.call(e))}(e)||!!(P&&e&&e[P])}R.prototype.clear=function(){this.__data__=N?N(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===r?void 0:n}return A.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:A.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?r:t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0||(n==t.length-1?t.pop():C.call(t,n,1),0))},D.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return M(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new R,map:new(O||D),string:new R}},x.prototype.delete=function(e){return j(this,e).delete(e)},x.prototype.get=function(e){return j(this,e).get(e)},x.prototype.has=function(e){return j(this,e).has(e)},x.prototype.set=function(e,t){return j(this,e).set(e,t),this},w.prototype.add=w.prototype.push=function(e){return this.__data__.set(e,r),this},w.prototype.has=function(e){return this.__data__.has(e)};var V,F,$=(V=function(e,t){return W(e)?function(e,t,n,r){var o=-1,s=l,a=!0,i=e.length,c=[],u=t.length;if(!i)return c;t.length>=200&&(s=d,a=!1,t=new w(t));e:for(;++o<i;){var p=e[o],h=p;if(p=0!==p?p:0,a&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;c.push(p)}else s(t,h,undefined)||c.push(p)}return c}(e,L(t,1,W,!0)):[]},F=T(void 0===F?V.length-1:F,0),function(){for(var e=arguments,t=-1,n=T(e.length-F,0),r=Array(n);++t<n;)r[t]=e[F+t];t=-1;for(var o=Array(F+1);++t<F;)o[t]=e[t];return o[F]=r,c(V,this,o)});function G(e,t){return e===t||e!=e&&t!=t}var B=Array.isArray;function W(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!H(e)}(e)}function H(e){var t=q(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=$},855:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=Array.prototype,g=Function.prototype,y=Object.prototype,m=h["__core-js_shared__"],I=(r=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=g.toString,A=y.hasOwnProperty,_=y.toString,v=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h.Symbol,b=f.splice,C=M(h,"Map"),P=M(Object,"create"),T=S?S.prototype:void 0,O=T?T.toString:void 0;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e,t){for(var n=e.length;n--;)if(k(e[n][0],t))return n;return-1}function w(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function M(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!F(e)||(t=e,I&&I in t))&&(function(e){var t=F(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:u).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}N.prototype.clear=function(){this.__data__=P?P(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===o?void 0:n}return A.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:A.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?o:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():b.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return x(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=x(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new N,map:new(C||R),string:new N}},D.prototype.delete=function(e){return w(this,e).delete(e)},D.prototype.get=function(e){return w(this,e).get(e)},D.prototype.has=function(e){return w(this,e).has(e)},D.prototype.set=function(e,t){return w(this,e).set(e,t),this};var L=U((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if($(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function j(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(U.Cache||D),n}function k(e,t){return e===t||e!=e&&t!=t}U.Cache=D;var V=Array.isArray;function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=function(e,t){if(V(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return V(e)?e:L(e)}(t)).length;null!=e&&n<r;)e=e[j(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r}},845:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",i="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",y="[object Set]",m="[object String]",I="[object WeakMap]",E="[object ArrayBuffer]",A="[object DataView]",_=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[a]=S[E]=S[i]=S[A]=S[c]=S[l]=S[u]=S[p]=S[d]=S[h]=S[g]=S[y]=S[m]=S[I]=!1;var b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,P=b||C||Function("return this")(),T=t&&!t.nodeType&&t,O=T&&e&&!e.nodeType&&e,N=O&&O.exports===T,R=N&&b.process,D=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),x=D&&D.isTypedArray;function w(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,U,k,V=Array.prototype,F=Function.prototype,$=Object.prototype,G=P["__core-js_shared__"],B=F.toString,W=$.hasOwnProperty,H=(j=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",q=$.toString,Y=RegExp("^"+B.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=N?P.Buffer:void 0,K=P.Symbol,J=P.Uint8Array,X=$.propertyIsEnumerable,Q=V.splice,Z=K?K.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=z?z.isBuffer:void 0,ne=(U=Object.keys,k=Object,function(e){return U(k(e))}),re=Oe(P,"DataView"),oe=Oe(P,"Map"),se=Oe(P,"Promise"),ae=Oe(P,"Set"),ie=Oe(P,"WeakMap"),ce=Oe(Object,"create"),le=xe(re),ue=xe(oe),pe=xe(se),de=xe(ae),he=xe(ie),fe=K?K.prototype:void 0,ge=fe?fe.valueOf:void 0;function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ie;++t<n;)this.add(e[t])}function Ae(e){var t=this.__data__=new me(e);this.size=t.size}function _e(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}function ve(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=W.call(e,Z),n=e[Z];try{e[Z]=void 0;var r=!0}catch(e){}var o=q.call(e);return r&&(t?e[Z]=n:delete e[Z]),o}(e):function(e){return q.call(e)}(e)}function Se(e){return Fe(e)&&ve(e)==s}function be(e,t,n,r,o){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var f=Le(e),I=Le(t),_=f?a:Re(e),v=I?a:Re(t),S=(_=_==s?h:_)==h,b=(v=v==s?h:v)==h,C=_==v;if(C&&je(e)){if(!je(t))return!1;f=!0,S=!1}if(C&&!S)return u||(u=new Ae),f||$e(e)?Ce(e,t,n,r,o,u):function(e,t,n,r,o,s,a){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new J(e),new J(t)));case i:case c:case d:return we(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case p:var u=M;case y:var h=1&r;if(u||(u=L),e.size!=t.size&&!h)return!1;var f=a.get(e);if(f)return f==t;r|=2,a.set(e,t);var I=Ce(u(e),u(t),r,o,s,a);return a.delete(e),I;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,_,n,r,o,u);if(!(1&n)){var P=S&&W.call(e,"__wrapped__"),T=b&&W.call(t,"__wrapped__");if(P||T){var O=P?e.value():e,N=T?t.value():t;return u||(u=new Ae),o(O,N,n,r,u)}}return!!C&&(u||(u=new Ae),function(e,t,n,r,o,s){var a=1&n,i=Pe(e),c=i.length;if(c!=Pe(t).length&&!a)return!1;for(var l=c;l--;){var u=i[l];if(!(a?u in t:W.call(t,u)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);for(var h=a;++l<c;){var f=e[u=i[l]],g=t[u];if(r)var y=a?r(g,f,u,t,e,s):r(f,g,u,e,t,s);if(!(void 0===y?f===g||o(f,g,n,r,s):y)){d=!1;break}h||(h="constructor"==u)}if(d&&!h){var m=e.constructor,I=t.constructor;m==I||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof I&&I instanceof I||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,r,o,u))}(e,t,n,r,be,o))}function Ce(e,t,n,r,o,s){var a=1&n,i=e.length,c=t.length;if(i!=c&&!(a&&c>i))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var u=-1,p=!0,d=2&n?new Ee:void 0;for(s.set(e,t),s.set(t,e);++u<i;){var h=e[u],f=t[u];if(r)var g=a?r(f,h,u,t,e,s):r(h,f,u,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!w(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||o(h,e,n,r,s)))return d.push(t);var a}))){p=!1;break}}else if(h!==f&&!o(h,f,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Pe(e){return function(e,t,n){var r=t(e);return Le(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ge,Ne)}function Te(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ve(e)||function(e){return!!H&&H in e}(e))&&(Ue(e)?Y:_).test(xe(e))}(n)?n:void 0}ye.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:W.call(t,e)},ye.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,0))},me.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return _e(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(oe||me),string:new ye}},Ie.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},Ie.prototype.get=function(e){return Te(this,e).get(e)},Ie.prototype.has=function(e){return Te(this,e).has(e)},Ie.prototype.set=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,r),this},Ee.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new me,this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ie(r)}return n.set(e,t),this.size=n.size,this};var Ne=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a)&&(s[o++]=a)}return s}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Re=ve;function De(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}function xe(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function we(e,t){return e===t||e!=e&&t!=t}(re&&Re(new re(new ArrayBuffer(1)))!=A||oe&&Re(new oe)!=p||se&&Re(se.resolve())!=f||ae&&Re(new ae)!=y||ie&&Re(new ie)!=I)&&(Re=function(e){var t=ve(e),n=t==h?e.constructor:void 0,r=n?xe(n):"";if(r)switch(r){case le:return A;case ue:return p;case pe:return f;case de:return y;case he:return I}return t});var Me=Se(function(){return arguments}())?Se:function(e){return Fe(e)&&W.call(e,"callee")&&!X.call(e,"callee")},Le=Array.isArray,je=te||function(){return!1};function Ue(e){if(!Ve(e))return!1;var t=ve(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var $e=x?function(e){return function(t){return e(t)}}(x):function(e){return Fe(e)&&ke(e.length)&&!!S[ve(e)]};function Ge(e){return function(e){return null!=e&&ke(e.length)&&!Ue(e)}(e)?function(e,t){var n=Le(e),r=!n&&Me(e),o=!n&&!r&&je(e),s=!n&&!r&&!o&&$e(e),a=n||r||o||s,i=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=i.length;for(var l in e)!W.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||De(l,c))||i.push(l);return i}(e):function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}(e))return ne(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e,t){return be(e,t)}},565:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Function]",i="[object Object]",c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[s]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[a]=u["[object Map]"]=u["[object Number]"]=u[i]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=t&&!t.nodeType&&t,g=f&&e&&!e.nodeType&&e,y=g&&g.exports===f,m=y&&p.process,I=function(){try{return g&&g.require&&g.require("util").types||m&&m.binding&&m.binding("util")}catch(e){}}(),E=I&&I.isTypedArray;function A(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _,v,S,b=Array.prototype,C=Function.prototype,P=Object.prototype,T=h["__core-js_shared__"],O=C.toString,N=P.hasOwnProperty,R=(_=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",D=P.toString,x=O.call(Object),w=RegExp("^"+O.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=y?h.Buffer:void 0,L=h.Symbol,j=h.Uint8Array,U=(M&&M.allocUnsafe,v=Object.getPrototypeOf,S=Object,function(e){return v(S(e))}),k=Object.create,V=P.propertyIsEnumerable,F=b.splice,$=L?L.toStringTag:void 0,G=function(){try{var e=ie(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),B=M?M.isBuffer:void 0,W=Math.max,H=Date.now,q=ie(h,"Map"),Y=ie(Object,"create"),z=function(){function e(){}return function(t){if(!Ee(t))return{};if(k)return k(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new J(e);this.size=t.size}function Z(e,t,n){(void 0!==n&&!de(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];N.call(e,t)&&de(r,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$&&$ in Object(e)?function(e){var t=N.call(e,$),n=e[$];try{e[$]=void 0;var r=!0}catch(e){}var o=D.call(e);return r&&(t?e[$]=n:delete e[$]),o}(e):function(e){return D.call(e)}(e)}function oe(e){return Ae(e)&&re(e)==s}function se(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),s=n(e),a=s.length;a--;){var i=s[++r];if(!1===t(o[i],i))break}}(t,(function(s,a){if(o||(o=new Q),Ee(s))!function(e,t,n,r,o,s,a){var c=ue(e,n),l=ue(t,n),u=a.get(l);if(u)Z(e,n,u);else{var p,d,h,f,g=s?s(c,l,n+"",e,t,a):void 0,y=void 0===g;if(y){var m=fe(l),I=!m&&ye(l),E=!m&&!I&&_e(l);g=l,m||I||E?fe(c)?g=c:function(e){return Ae(e)&&ge(e)}(c)?g=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(c):I?(y=!1,g=function(e,t){return e.slice()}(l)):E?(y=!1,f=new(h=(p=l).buffer).constructor(h.byteLength),new j(f).set(new j(h)),d=f,g=new p.constructor(d,p.byteOffset,p.length)):g=[]:function(e){if(!Ae(e)||re(e)!=i)return!1;var t=U(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==x}(l)||he(l)?(g=c,he(c)?g=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var i=t[s],c=void 0;void 0===c&&(c=e[i]),o?ne(n,i,c):ee(n,i,c)}return n}(e,ve(e))}(c):Ee(c)&&!me(c)||(g=function(e){return"function"!=typeof e.constructor||le(e)?{}:z(U(e))}(l))):y=!1}y&&(a.set(l,g),o(g,l,r,s,a),a.delete(l)),Z(e,n,g)}}(e,t,a,n,se,r,o);else{var c=r?r(ue(e,a),s,a+"",e,t,o):void 0;void 0===c&&(c=s),Z(e,a,c)}}),ve)}function ae(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ee(e)||function(e){return!!R&&R in e}(e))&&(me(e)?w:c).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function ce(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&l.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function ue(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}K.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:N.call(t,e)},K.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?r:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0||(n==t.length-1?t.pop():F.call(t,n,1),--this.size,0))},J.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},J.prototype.has=function(e){return te(this.__data__,e)>-1},J.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(q||J),string:new K}},X.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return ae(this,e).get(e)},X.prototype.has=function(e){return ae(this,e).has(e)},X.prototype.set=function(e,t){var n=ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new J,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof J){var r=n.__data__;if(!q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(e,t),this.size=n.size,this};var pe=function(e){var t=0,n=0;return function(){var r=H(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:Ce(t),writable:!0})}:Pe);function de(e,t){return e===t||e!=e&&t!=t}var he=oe(function(){return arguments}())?oe:function(e){return Ae(e)&&N.call(e,"callee")&&!V.call(e,"callee")},fe=Array.isArray;function ge(e){return null!=e&&Ie(e.length)&&!me(e)}var ye=B||function(){return!1};function me(e){if(!Ee(e))return!1;var t=re(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ie(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var _e=E?function(e){return function(t){return e(t)}}(E):function(e){return Ae(e)&&Ie(e.length)&&!!u[re(e)]};function ve(e){return ge(e)?function(e,t){var n=fe(e),r=!n&&he(e),o=!n&&!r&&ye(e),s=!n&&!r&&!o&&_e(e),a=n||r||o||s,i=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=i.length;for(var l in e)a&&("length"==l||o&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ce(l,c))||i.push(l);return i}(e):function(e){if(!Ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=le(e),n=[];for(var r in e)("constructor"!=r||!t&&N.call(e,r))&&n.push(r);return n}(e)}var Se,be=(Se=function(e,t,n,r){se(e,t,n,r)},function(e,t){return pe(function(e,t,n){return t=W(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=W(r.length-t,0),a=Array(s);++o<s;)a[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(a),A(e,this,i)}}(e,void 0,Pe),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,s=r>2?t[2]:void 0;for(o=Se.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(e,t,n){if(!Ee(n))return!1;var r=typeof t;return!!("number"==r?ge(n)&&ce(t,n.length):"string"==r&&t in n)&&de(n[t],e)}(t[0],t[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Se(e,a,n,o)}return e})));function Ce(e){return function(){return e}}function Pe(e){return e}e.exports=be},634:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),g=Array.prototype,y=Function.prototype,m=Object.prototype,I=f["__core-js_shared__"],E=(r=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",A=y.toString,_=m.hasOwnProperty,v=m.toString,S=RegExp("^"+A.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=f.Symbol,C=g.splice,P=j(f,"Map"),T=j(Object,"create"),O=b?b.prototype:void 0,N=O?O.toString:void 0;function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e,t,n){var r=e[t];_.call(e,t)&&$(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function M(e,t){for(var n=e.length;n--;)if($(e[n][0],t))return n;return-1}function L(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!B(e)||(t=e,E&&E in t))&&(function(e){var t=B(e)?v.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:u).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function U(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}R.prototype.clear=function(){this.__data__=T?T(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(T){var n=t[e];return n===o?void 0:n}return _.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:_.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?o:t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0||(n==t.length-1?t.pop():C.call(t,n,1),0))},D.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return M(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,r=M(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new R,map:new(P||D),string:new R}},x.prototype.delete=function(e){return L(this,e).delete(e)},x.prototype.get=function(e){return L(this,e).get(e)},x.prototype.has=function(e){return L(this,e).has(e)},x.prototype.set=function(e,t){return L(this,e).set(e,t),this};var k=F((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(W(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function V(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(F.Cache||x),n}function $(e,t){return e===t||e!=e&&t!=t}F.Cache=x;var G=Array.isArray;function B(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}e.exports=function(e,t,n){return null==e?e:function(e,t,n,r){if(!B(e))return e;for(var o=-1,i=(t=function(e,t){if(G(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!W(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return G(e)?e:k(e)}(t)).length,c=i-1,l=e;null!=l&&++o<i;){var u=V(t[o]),p=n;if(o!=c){var d=l[u];void 0===(p=void 0)&&(p=B(d)?d:U(t[o+1])?[]:{})}w(l,u,p),l=l[u]}return e}(e,t,n)}},786:(e,t,n)=>{var r,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=p||d||Function("return this")(),f=Array.prototype,g=Function.prototype,y=Object.prototype,m=h["__core-js_shared__"],I=(r=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=g.toString,A=y.hasOwnProperty,_=y.toString,v=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h.Symbol,b=f.splice,C=L(h,"Map"),P=L(Object,"create"),T=S?S.prototype:void 0,O=T?T.toString:void 0;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1}function w(e){return $(e)?e:U(e)}function M(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function L(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!G(e)||(t=e,I&&I in t))&&(function(e){var t=G(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:u).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function j(e,t){if($(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}N.prototype.clear=function(){this.__data__=P?P(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===o?void 0:n}return A.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:A.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?o:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():b.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return x(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=x(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new N,map:new(C||R),string:new N}},D.prototype.delete=function(e){return M(this,e).delete(e)},D.prototype.get=function(e){return M(this,e).get(e)},D.prototype.has=function(e){return M(this,e).has(e)},D.prototype.set=function(e,t){return M(this,e).set(e,t),this};var U=V((function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(B(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(e);var t=[];return i.test(e)&&t.push(""),e.replace(c,(function(e,n,r,o){t.push(r?o.replace(l,"$1"):n||e)})),t}));function k(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a),a};return n.cache=new(V.Cache||D),n}function F(e,t){return e===t||e!=e&&t!=t}V.Cache=D;var $=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function B(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=j(t,e)?[t]:w(t)).length;null!=e&&n<r;)e=e[k(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}(t,0,-1))}(e,t=j(t,e)?[t]:w(t));var n,r,o=k((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&A.call(e,o))||delete e[o]}(e,t)}},276:e=>{function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n{constructor(e,t,n,r,o){this.converter=l(),this.width=e,this.poly=t,this.xor_in=n,this.reflected_xor_in=u(n,e),this.xor_out=r,this.reflect=o,this.msb_mask=1<<this.width-1,this.mask=this.msb_mask-1<<1|1,this.crc_shift=this.width<8?8-this.width:0,this.shifted_xor_in=this.xor_in<<this.crc_shift;let s=this.gen_table();this.table=s,8!==this.width||this.xor_in||this.xor_out||this.reflect||(this.calculate=function(e){e=this.converter.validate_buffer(e);let t=0;for(let n=0;n<e.length;n++)t=s[t^e[n]];return t})}calculate(e){let t;e=this.converter.validate_buffer(e);let{table:n,width:r,crc_shift:o,mask:s}=this;if(this.reflect){t=this.reflected_xor_in;for(let r=0;r<e.length;r++)t=(n[255&(t^e[r])]^t>>>8)&s}else{t=this.shifted_xor_in;for(let a=0;a<e.length;a++)t=n[255&(t>>r-8+o^e[a])]<<o^t<<8-o&s<<o;t>>=o}return t^=this.xor_out,t>>>0}calculate_no_table(e){e=this.converter.validate_buffer(e);let t=this.xor_in;for(let n=0;n<e.length;n++){let r=e[n];this.reflect&&(r=u(r,8));for(let e=0;e<8;e++){let n=t&this.msb_mask;r&128>>e&&(n^=this.msb_mask),t<<=1,n&&(t^=this.poly)}t&=this.mask}return this.reflect&&(t=u(t,this.width)),t^=this.xor_out,t>>>0}gen_table(){let e=[];for(let t=0;t<256;t++){let n=t;this.reflect&&(n=u(n,8)),n<<=this.width-8+this.crc_shift;for(let e=0;e<8;e++)0!=(n&this.msb_mask<<this.crc_shift)?(n<<=1,n^=this.poly<<this.crc_shift):n<<=1;this.reflect&&(n=u(n>>this.crc_shift,this.width)<<this.crc_shift),n=n>>this.crc_shift&this.mask,e[t]=n>>>0}return new Int32Array(e)}print_table(){let e=this.table,t=Math.ceil(this.width/4),n=t<4?4:3,r=e.length>>n,o=1<<n,s="";for(let a=0;a<r;a++){let r="";for(let s=0;s<o;s++){let o=e[a<<n|s];o="000000000"+o.toString(16),o=o.substr(o.length-t),r+="0x"+o+", "}s+="  "+r+"\n"}return s="[\n"+s.slice(0,-3)+"\n]",s}}const r="undefined"!=typeof Buffer,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,s=void 0!==typeof BigInt&&BigInt(256);class a{validate_buffer(e){switch(typeof e){case"number":{if(!Number.isSafeInteger(e)||e<0)throw Error(`number data must be a nonnegative safe integer, not ${e}`);if(this.fromUInt32&&e<=4294967295)return this.fromUInt32(e);const t=[];for(;e>0||t.length<4;)t.unshift(e%256),e=Math.floor(e/256);return this.fromByteArray(t)}case"string":return this.fromString(e);case"bigint":{if(e<0)throw Error(`bigint data must be nonnegative, not ${e}`);const t=[];for(;e>0||t.length<4;)t.unshift(Number(e%s)),e/=s;return this.fromByteArray(t)}default:if(r&&Buffer.isBuffer(e))return e;if(o){if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new Uint8Array(e)}throw new Error(`Unrecognized data type ${typeof e}: ${e}`)}}}class i extends a{constructor(...e){super(...e),t(this,"fromByteArray",Buffer.from.bind(Buffer)),t(this,"fromString",Buffer.from.bind(Buffer))}fromUInt32(e){const t=Buffer.alloc(4);return t.writeUInt32BE(e),t}}class c extends a{constructor(...e){super(...e),t(this,"fromByteArray",Uint8Array.from.bind(Uint8Array))}fromString(e){return new TextEncoder("utf-8").encode(e)}}function l(e=!1){if(o&&(e||!r))return new c;if(r)return new i;throw Error("either need TypedArrays or Buffer")}function u(e,t){let n=0;for(let r=0;r<t;r++)n=n<<1|1&e,e>>=1;return n}const p={crc1:new n(1,1,0,0,!1),crc6:new n(6,47,0,0,!1),crc8:new n(8,7,0,0,!1),crc10:new n(10,563,0,0,!1),crc16:new n(16,32773,0,0,!0),crc24:new n(24,8801531,11994318,0,!1),crc32:new n(32,79764919,4294967295,4294967295,!0),crc32c:new n(32,517762881,4294967295,4294967295,!0)};function d(e){}e.exports={CRC:n,crc:function(e,t,r,o,s){let a=new n(e,t,r,o,s);return a.calculate.bind(a)},makeBufferConverter:l,models:p,crc1:d,crc6:d,crc8:d,crc10:d,crc16:d,crc24:d,crc32:d,crc32c:d};for(let t in p){let n=p[t];e.exports[t]=n.calculate.bind(n)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{n.d(r,{v9:()=>Ll,DP:()=>Kd,RE:()=>zd,WM:()=>Pd,gm:()=>th,Yw:()=>Dd,e6:()=>Md,sd:()=>wd,No:()=>eh,DF:()=>Nd,FC:()=>Td,kU:()=>Bd,LF:()=>Od,vg:()=>Rd,jK:()=>xd,Dw:()=>Wd,x0:()=>Fd,HW:()=>$d,N2:()=>nh,yC:()=>Ud,gn:()=>Yd,JP:()=>Hd,fV:()=>Vd,Hk:()=>qd,K5:()=>Jd,P6:()=>Gd,r_:()=>Zd,r7:()=>Qd,V5:()=>Xd,d0:()=>kd,JR:()=>Ld});var e={};n.r(e),n.d(e,{getDataPageMetadata:()=>mn,getFieldParameters:()=>_n,getFieldsByClassName:()=>An,getInsight:()=>En,getPersonalizationMetadata:()=>In,getPropertyMetadata:()=>pn,mergeStore:()=>un,resolveNavigation:()=>yn,resolveView:()=>gn,updateNavigationStore:()=>hn,updateStores:()=>fn,updateViewStore:()=>dn});var t={};n.r(t),n.d(t,{EVENTS_MAP:()=>ir,blurHandler:()=>er,buildActionObject:()=>Kn,changeHandler:()=>Zn,clearQueue:()=>sr,eventHandler:()=>tr,getActionHanlders:()=>qn,getActionsQueue:()=>ar,getFullRef:()=>Qn,isEditable:()=>Yn,isNonKeyInput:()=>zn,isQueueEmpty:()=>or,pause:()=>nr,resume:()=>rr});var o={};n.r(o),n.d(o,{buildContextName:()=>yr,buildModalContext:()=>Ar,buildTransientContextName:()=>mr,getContainerIdFromContext:()=>vr,getParentContext:()=>_r,getParentContextName:()=>gr,getTargetFromContext:()=>Er,getTransientContext:()=>Ir});var s={};n.r(s),n.d(s,{getResolvedTargetName:()=>Lr,getRoutingInfo:()=>jr});var a={};n.r(a),n.d(a,{publishExpressions:()=>bo,publishResponse:()=>Co});var i={};n.r(i),n.d(i,{CONTAINER_NAMES:()=>Rs,CONTAINER_TYPES:()=>Ns,addRootContainerItem:()=>sa,areContainerItemsPresent:()=>js,clearTransientData:()=>la,closeContainerItem:()=>oa,getActiveContainerItemContext:()=>Ws,getActiveContainerItemName:()=>$s,getChildContainerItems:()=>Hs,getChildContainers:()=>qs,getChildContainersContexts:()=>Ys,getContainerAPI:()=>da,getContainerAccessOrder:()=>Ls,getContainerData:()=>xs,getContainerItemData:()=>ws,getContainerItemName:()=>ks,getContainerItems:()=>Ms,getContainerLimit:()=>Xs,getContainerType:()=>Fs,getDataContextName:()=>Bs,getLeastRecentlyUsedNonDirtyContainerItemID:()=>na,getTargetFromContainerItemID:()=>ra,getTransientItems:()=>ca,hasContainerItems:()=>Js,isContainerDirty:()=>ta,isContainerInitialized:()=>Vs,isContainerItemActive:()=>Gs,isContainerItemContextBeingUsedInOtherContainers:()=>ia,isContainerItemExists:()=>Us,isContainerLimitReached:()=>Zs,isContainerMultipleMode:()=>Ks,isContainerSingleMode:()=>zs,purgeTransientData:()=>ua,removeContainer:()=>ha,resetContainersPayload:()=>ea,setContainerLimit:()=>Qs,updateChildContainersEtag:()=>fa});var c={};n.r(c),n.d(c,{activateContainerItem:()=>wa,addContainerItem:()=>Pa,addMessages:()=>Ma,addSharedData:()=>Wa,addTransientItem:()=>Ta,addWork:()=>va,clearTransientData:()=>Na,createWork:()=>ya,error:()=>Ba,finishAssignment:()=>Va,initContainers:()=>ba,listAction:()=>qa,loadView:()=>Aa,mergeData:()=>Ia,openAssignment:()=>Fa,openWorkByHandle:()=>Sa,postProcess:()=>Ga,purgeTransientData:()=>Ra,removeAllTransientItems:()=>ja,removeContainerItem:()=>La,removeSharedData:()=>Ha,removeTransientItem:()=>Ua,replaceContainerItem:()=>ka,resetContainers:()=>Ca,showCasePreview:()=>Ya,showHarness:()=>Ea,showHistory:()=>$a,showPage:()=>_a,upMergeAndRemoveContainerItem:()=>xa,updateContainerItem:()=>Da,updateTransientData:()=>Oa});var l={};n.r(l),n.d(l,{dispatch:()=>hi,getActionType:()=>Ai,getContextValue:()=>Ii,getDataObject:()=>fi,getReferenceTokens:()=>ui,getSharedDataObject:()=>gi,getStore:()=>di,getValue:()=>mi,isMergeable:()=>vi,lookupContextValue:()=>Ei,mergeDeep:()=>Si,removeItem:()=>_i,replaceValue:()=>Ci,setStore:()=>pi,updateValue:()=>bi});var u={};n.r(u),n.d(u,{doesRestApiExist:()=>Qi,getCancelTokenSource:()=>Zi,invokeRestApi:()=>Xi,isRequestCanceled:()=>ec,registerInterceptor:()=>tc});var p={};function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(p),n.d(p,{fetchViewResources:()=>uc,updateViewResources:()=>lc});var y="function"==typeof Symbol&&Symbol.observable||"@@observable",m=function(){return Math.random().toString(36).substring(7).split("").join(".")},I={INIT:"@@redux/INIT"+m(),REPLACE:"@@redux/REPLACE"+m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+m()}};function E(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function A(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(g(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(g(1));return n(A)(e,t)}if("function"!=typeof e)throw new Error(g(2));var o=e,s=t,a=[],i=a,c=!1;function l(){i===a&&(i=a.slice())}function u(){if(c)throw new Error(g(3));return s}function p(e){if("function"!=typeof e)throw new Error(g(4));if(c)throw new Error(g(5));var t=!0;return l(),i.push(e),function(){if(t){if(c)throw new Error(g(6));t=!1,l();var n=i.indexOf(e);i.splice(n,1),a=null}}}function d(e){if(!E(e))throw new Error(g(7));if(void 0===e.type)throw new Error(g(8));if(c)throw new Error(g(9));try{c=!0,s=o(s,e)}finally{c=!1}for(var t=a=i,n=0;n<t.length;n++)(0,t[n])();return e}function h(e){if("function"!=typeof e)throw new Error(g(10));o=e,d({type:I.REPLACE})}function f(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(g(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[y]=function(){return this},e}return d({type:I.INIT}),(r={dispatch:d,subscribe:p,getState:u,replaceReducer:h})[y]=f,r}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function S(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var b=Array.isArray||function(e){return e&&"number"==typeof e.length};function C(e){return null!==e&&"object"==typeof e}function P(e){return"function"==typeof e}var T=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),O=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,s=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i)r[i].remove(this);if(P(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){t=e instanceof T?N(e.errors):[e]}}if(b(a)){i=-1;for(var c=a.length;++i<c;){var l=a[i];if(C(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof T?t=t.concat(N(e.errors)):t.push(e)}}}if(t)throw new T(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function N(e){return e.reduce((function(e,t){return e.concat(t instanceof T?t.errors:t)}),[])}var R=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return S(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return S(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(O)),D=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return S(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(R),x=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),w=function(e){function t(n,r){void 0===r&&(r=x.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return S(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(x),M=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t}(w))(D),L=!1,j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,L=e},get useDeprecatedSynchronousErrorHandling(){return L}};function U(e){setTimeout((function(){throw e}),0)}var k={closed:!0,next:function(e){},error:function(e){if(j.useDeprecatedSynchronousErrorHandling)throw e;U(e)},complete:function(){}},V="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),F=function(e){function t(n,r,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=k;break;case 1:if(!n){s.destination=k;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new $(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new $(s,n,r,o)}return s}return S(t,e),t.prototype[V]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(O),$=function(e){function t(t,n,r,o){var s,a=e.call(this)||this;a._parentSubscriber=t;var i=a;return P(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==k&&(P((i=Object.create(n)).unsubscribe)&&a.add(i.unsubscribe.bind(i)),i.unsubscribe=a.unsubscribe.bind(a))),a._context=i,a._next=s,a._error=r,a._complete=o,a}return S(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;j.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=j.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):U(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;U(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};j.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),j.useDeprecatedSynchronousErrorHandling)throw e;U(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!j.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return j.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(U(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(F),G="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(e){return e}function W(e){return 0===e.length?B:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var H=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof F)return e;if(e[V])return e[V]()}return e||t||n?new F(e,t,n):new F(k)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||j.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),j.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){j.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof F?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=q(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[G]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:W(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=q(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function q(e){if(e||(e=j.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Y=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),z=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return S(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(O),K=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return S(t,e),t}(F),J=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return S(t,e),t.prototype[V]=function(){return new K(this)},t.prototype.lift=function(e){var t=new X(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Y;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new Y;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Y;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Y;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Y;return this.hasError?(e.error(this.thrownError),O.EMPTY):this.isStopped?(e.complete(),O.EMPTY):(this.observers.push(e),new z(this,e))},t.prototype.asObservable=function(){var e=new H;return e.source=this,e},t.create=function(e,t){return new X(e,t)},t}(H),X=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return S(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):O.EMPTY},t}(J),Q=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ee=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function te(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ne=function(e){if(e&&"function"==typeof e[G])return r=e,function(e){var t=r[G]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(ee(e))return Q(e);if(te(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,U),e};if(e&&"function"==typeof e[Z])return t=e,function(e){for(var n=t[Z]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=C(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function re(e,t){return new H((function(n){var r=new O,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function oe(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[G]}(e))return function(e,t){return new H((function(n){var r=new O;return r.add(t.schedule((function(){var o=e[G]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(te(e))return function(e,t){return new H((function(n){var r=new O;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(ee(e))return re(e,t);if(function(e){return e&&"function"==typeof e[Z]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new H((function(n){var r,o=new O;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[Z](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof H?e:new H(ne(e))}var se,ae=new H((function(e){return e.complete()}));function ie(e){return e?function(e){return new H((function(t){return e.schedule((function(){return t.complete()}))}))}(e):ae}function ce(e){return e&&"function"==typeof e.schedule}function le(e,t){return t?re(e,t):new H(Q(e))}function ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return ce(n)?(e.pop(),re(e,n)):le(e)}se||(se={});var pe=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e;switch(this.kind){case"N":return ue(this.value);case"E":return e=this.error,new H((function(t){return t.error(e)}));case"C":return ie()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function de(e,t){return void 0===t&&(t=0),function(n){return n.lift(new he(e,t))}}var he=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new fe(e,this.scheduler,this.delay))},e}(),fe=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return S(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new ge(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(pe.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(pe.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(pe.createComplete()),this.unsubscribe()},t}(F),ge=function(e,t){this.notification=e,this.destination=t};function ye(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new me(e,t))}}var me=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ie(e,this.project,this.thisArg))},e}(),Ie=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return S(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(F),Ee=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return S(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(F),Ae=(function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o}S(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(F),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(F));function _e(e,t){if(!t.closed){if(e instanceof H)return e.subscribe(t);var n;try{n=ne(e)(t)}catch(e){t.error(e)}return n}}function ve(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(ve((function(n,r){return oe(e(n,r)).pipe(ye((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Se(e,n))})}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}S(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(F);var Se=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new be(e,this.project,this.concurrent))},e}(),be=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return S(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Ee(this),n=this.destination;n.add(t);var r=_e(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Ae),Ce=1,Pe=Promise.resolve(),Te={};function Oe(e){return e in Te&&(delete Te[e],!0)}var Ne=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return S(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=Ce++;return Te[t]=!0,Pe.then((function(){return Oe(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(function(e){Oe(e)}(n),t.scheduled=void 0)},t}(R),Re=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(w))(Ne);function De(e){return!b(e)&&e-parseFloat(e)+1>=0}var xe=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Re);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!De(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=Re),o}return S(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=Re),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(H);function we(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Me(e,t))}}var Me=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new xe(t,this.delay,this.scheduler).subscribe(e)},e}();function Le(e,t){return function(n){return n.lift(new je(e,t))}}var je=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ue(e,this.predicate,this.thisArg))},e}(),Ue=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return S(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(F),ke=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},Ve=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(Le((function(e){var n=e.type,r=t.length;if(1===r)return ke(n,t[0]);for(var o=0;o<r;o++)if(ke(n,t[o]))return!0;return!1})))}},Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,null,[{key:"of",value:function(){return new this(ue.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(oe(e,t))}}]),Fe(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){return Ve.apply(void 0,arguments)(this)}}]),t}(H),Ge=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(function(e){var t=r.__notifier.subscribe(e);return t&&!t.closed&&e.next(r.value),t})));return r.value=n,r.__notifier=new J,r.__subscription=e.subscribe((function(e){e!==r.value&&(r.value=e,r.__notifier.next(e))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(H),Be=n(483),We=n(845),He=n.n(We),qe=n(565),Ye=n.n(qe),ze=n(276),Ke=n(786),Je=n.n(Ke),Xe=n(855),Qe=n.n(Xe),Ze=n(634),et=n.n(Ze);function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const nt={"\r":"\\r","\n":"\\n","\v":"\\v",'"':'\\"',"\\":"\\\\","\t":"\\t","\f":"\\f"};class rt{static mergeDeep(e,t){return Ye()(t,e)}static getIn(e,t,n){return Qe()(e,t,n)}static setIn(e,t,n){return et()(e,t,n)}static deleteIn(e,t){return Je()(e,t)}static isObjectEmpty(e){return!e||0===Object.entries(e).length}static deepClone(e){return JSON.parse(JSON.stringify(e))}static copy(e,t){Object.keys(e).forEach((n=>{t[n]=e[n]}))}static isPropertyRef(e){if(!e||-1===e.indexOf("."))return!1;let t=0;const n=e.length;for(;t<n;t+=1)if(-1!==" @#$%=!<>/\\".indexOf(e[t]))return!1;return!0}static isWhenExist(e){const t=["visibility","disabled","readOnly","required"];let n=!1;for(const o in e){var r;t.includes(o)&&"string"==typeof e[o]&&null!==(r=e[o])&&void 0!==r&&r.startsWith("@W ")&&(n=!0)}return n}static isExpressionExist(e){const t=["disabled","visibility","readOnly","required"];let n=!1;for(const o in e){var r;t.includes(o)&&"string"==typeof e[o]&&null!==(r=e[o])&&void 0!==r&&r.startsWith("@E ")&&(n=!0)}return n}static buildDataObject(e,t){let n={};const r=n;return t.indexOf(".")>0?t.split(".").forEach((e=>{if(-1!==e.indexOf("[")){const[t]=e.split("[");n[t]=[],n=n[t],e=e.substring(e.indexOf("[")+1,e.lastIndexOf("]"))}n[e]={},n=n[e]})):(n[t]={},n=n[t]),Object.keys(e).forEach((t=>{let r=t;t.startsWith(".")&&(r=t.substring(1)),n[r]=e[t]})),r}static getHashedString(e){return(0,ze.crc32)(e).toString(16)}static getPropertyName(e){if(e){const t=e.startsWith("@P"),n=t?e.indexOf(" "):-1;return t?e.substring(n+2):e}return e}static unflatten(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=n.split(".");r.reduce(((t,o,s)=>t[o]||(t[o]=isNaN(Number(r[s+1]))?r.length-1===s?e[n]:{}:[])),t)}return t}static isValidJson(e){try{return JSON.parse(e)}catch(e){return console.error("not a Valid JSON",e),!1}}static isEqual(e,t){return He()(e,t)}static getFullPropertyReference(e){return Array.isArray(e)?e.filter((e=>!!e)).join("."):null}static iterateLeafNodes(e,t){const n=(e,r=[])=>{Object.entries(e).forEach((([o,s])=>{r.push(Array.isArray(e)?Number(o):o),Array.isArray(s)?(s.forEach(((e,t)=>{t>0&&r.pop(),r.push(t),n(e,r)})),r.pop()):"object"==typeof s?n(s,r):t(r.slice(),s),r.pop()}))};n(e)}static resolveStringBooleans(e){const t=["required","readOnly","visibility"];return Object.keys(e).forEach((n=>{t.includes(n)&&"string"==typeof e[n]&&(e[n]="true"===e[n])})),e}}tt(rt,"buildObject",((e,t,n)=>{const r=e.split(".");let o=0;for(;o<r.length-1;o+=1){const e=r[o];null!=e&&e.toString().length&&!t[e]&&(t[e]={}),t[e]&&(t=t[e])}t[r[o]]=n})),tt(rt,"escapeObject",(e=>{for(const t in e)"object"==typeof e[t]?(e[t]=Array.isArray(e[t])?[...e[t]]:{...e[t]},rt.escapeObject(e[t])):e[t]="string"==typeof e[t]?e[t].replace(/\n|\r|\v|"|\\|\t|\f/g,(e=>nt[e])):e[t]}));const ot=rt,st={APP:{APP:"app",ROOT:"root",PXREQUESTOR:"pxRequestor",PXUSERNAME:".pxUserName",OPERATORID:"OperatorID",USERNAME:"pxRequestor.pxUserName",PXUSERIDENTIFIER:".pxUserIdentifier",USERIDENTIFIER:"pxRequestor.pxUserIdentifier",PYIMAGEINSKEY:".pyImageInsKey",OPERATORID_IMG_INSKEY:"OperatorID.pyImageInsKey",OPERATORID_LOCALE:"OperatorID.pyUseLocale",APPLICATION_LABEL:"Application.pyLabel",APPLICATION_RULE_NAME:"Application.pyRuleName"},RESOURCE_TYPES:{ASSIGNMENT:"ASSIGNMENT",CASE:"CASE",DATA:"DATA",PAGE:"PAGE"},VIEW_NAMES:{PY_CASE_TAB:"pyCaseTab"},WORK_BASKET:{MY_WORK_LIST:"myWorkList",REPORTEE:"reportee",WORK_QUEUE:"workQueue",DATA_PAGES:{D__PY_GET_USER_WORK_LIST_BY_USER_ID:"D_pyGetUserWorkListByUserId",D__WORK_BASKET:"D_WorkBasket",D__PY_MY_WORK_LIST:"D_pyMyWorkList"}},WORKLIST:"worklist",TODO:"todo",CASE:"CASE",ASSIGNMENT:"ASSIGNMENT",PAGE:"PAGE",PZINSKEY:".pzInsKey",CREATE_DETAILS_VIEW_NAME:"pzCreateDetails",PREVIEW_VIEW_NAME:"pyCasePreview",APPSHELL_ACTIVE_CASES:"appshell-activecases",NEXT_ASSIGNMENT_INFO_ID:"nextAssignmentInfo.ID",WORKCLASS:"Work-",CASE_INFO:{CASE_INFO:"caseInfo",CASE_INFO_CONTENT:"caseInfo.content",CASE_INFO_NAME:"caseInfo.name",CASE_INFO_ID:"caseInfo.ID",CASE_INFO_CLASSID:"caseInfo.content.classID",CASE_TYPE_ID:"caseInfo.caseTypeID",CASE_TYPE_NAME:"caseInfo.caseTypeName",CASE_INFO_PZINSKEY:"caseInfo.content.pzInsKey",CASE_INFO_ACTIONS:"caseInfo.availableActions",VIEW_NAME:"caseInfo.content.pyViewName",ACTION_BUTTONS:"caseInfo.actionButtons",ACTIVE_ACTION_ID:"caseInfo.activeActionID",ASSIGNMENT_LABEL:"caseInfo.assignments[0].name",ASSIGNMENT_ID:"caseInfo.assignments[0].ID",ASSIGNMENTS:"caseInfo.assignments",NAVIGATION:"caseInfo.navigation",STAGES:"caseInfo.stages",STAGEID:"caseInfo.stageID",CASECLASS:"caseInfo.caseClass",AVAILABLEACTIONS:"caseInfo.availableActions",D_CASE_ASSIGNMENTS_RESULTS:"caseInfo.assignments",CHILD_ASSIGNMENTS:"caseInfo.childCases",ASSIGNMENTACTION_ID:"caseInfo.assignments[0].actions[0].ID",ISINCREATESTAGE:"caseInfo.isInCreateStage",APPROVALFLAG:"caseInfo.content.pyApprovalResult",DUPLICATECASEFLAG:"caseInfo.content.pyDuplicateCaseActions",DUPLICATECASEID:"caseInfo.content.pyDuplicateID",DUPLICATECASEINSKEY:"caseInfo.content.pyDuplicateCaseReference.pzInsKey",HEADERS:"caseInfo.headers",PARENTCASEINFO:"caseInfo.parentCaseInfo",REMOTESYSTEMID:"caseInfo.headers.RemoteSystemID",CASE_RELATED_CASE_TYPES:"caseInfo.relatedCaseTypes",CASES:"caseInfo.cases"},ACTIONS:{ACTION_ID:"actionID",ACTIONS:"availableActions",DELETEAVIALACTIONS:"deleteAvailActions"},PAGE_TYPES:{PAGE:"page",LANDINGPAGE:"landingpage",LISTPAGE:"listpage"},LOCAL_ACTION_TYPE:{CASE_WIDE:"case",EXPRESS:"express",ASSIGMENT:"Assignment"},CONTENT:"content",MODAL:"modal",STOPMERGEACTIONS:"stopMergeActions",SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME:"context_data.caseInfo.content.summary_of_assignment__.lastSubmitTime",SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME:"context_data.caseInfo.content.summary_of_attachments__.lastRefreshTime",BANNER_VARIANT_SUCCESS:"success",BANNER_VARIANT_WARNING:"warning",BANNER_VARIANT_URGENT:"urgent",BANNER_VARIANT_INFO:"info",MESSAGES:{MESSAGES_TYPE_SUCCESS:"success",MESSAGES_TYPE_INFO:"info",MESSAGES_TYPE_ERROR:"error"},PUB_SUB_EVENTS:{EVENT_RENDER_APP:"renderApp",EVENT_REAUTH:"reAuth",EVENT_FULL_REAUTH:"fullReAuth",EVENT_CANCEL:"cancel",EVENT_EXPRESS_LOCALACTION:"expressLocalActionSubmit",EVENT_BULKACTION:"bulkActionSubmit",EVENT_SHOW_CANCEL_ALERT:"showCancelAlert",EVENT_DASHBOARD_FILTER_CHANGE:"dashboardFilterChange",EVENT_DASHBOARD_FILTER_CLEAR_ALL:"dashboardFilterClearAll",EVENT_TRANSIENT_ITEMS:{UPDATE_PROMOTED_FILTERS:"updatePromotedFilters"},CASE_EVENTS:{CASE_ATTACHMENTS_UPDATED_FROM_CASEVIEW:"caseAttachmentsUpdateFromCaseview",CASE_FOLLOWER_UPDATED_BY_OPERATOR_FROM_CASEVIEW:"caseFollowerUpdateByOperatorFromCaseview",CASE_FOLLOWER_UPDATE_BY_OPERATOR_FROM_WIDGET:"caseFollowerUpdateByOperatorFromWidget",CASE_CREATED:"caseCreated",CREATE_STAGE_DONE:"caseCreatedDone",CREATE_STAGE_CANCELLED:"caseCancelled",CREATE_STAGE_SAVED:"caseSaved",CREATE_STAGE_DELETED:"caseDeleted",ASSIGNMENT_SUBMISSION:"assignmentSubmission",END_OF_ASSIGNMENT_PROCESSING:"endOfAssignmentProcessing",CLOSE_CONFIRM_VIEW:"closeConfirmView",CASE_OPENED:"caseOpened",ASSIGNMENT_OPENED:"assignmentOpened",CASE_PREVIEW:"casePreview"},CONTAINER_EVENTS:{CLOSE_CONTAINER_ITEM:"CLOSE_CONTAINER_ITEM"},DISPLAY_CASE_CREATED_TOASTER:"displayCaseCreatedToaster"},CONTAINER_TYPE:{MULTIPLE:"multiple",SINGLE:"single"},REMOTE_SYSTEM_ID:"RemoteSystemID",LIST_SELECTION_MODE:{MULTI:"multi",SINGLE:"single",MULTI_ON_HOVER:"multi_on_hover"}},at={CONTEXT:"context",AJAXCONTAINER:"primary",VIEW_CONTAINER:"ViewContainer",APP_SHELL:"AppShell",ROOT_CONTAINER:"RootContainer",MODAL_VIEW_CONTAINER:"ModalViewContainer",FLOW_CONTAINER:"FlowContainer",PREVIEW_VIEW_CONTAINER:"PreviewViewContainer",OBJECT_PAGE:"ObjectPage",CASE_CREATE_STAGE:"CaseCreateStage",CASE_VIEW:"CaseView",VIEW:"view",CASE_PREVIEW:"CasePreview",CASE_STAGES:"Stages",CASEMESSAGES:"caseMessages",PRIMARY:"primary",MODAL:"modal",PREVIEW:"preview",TERTIARY:"tertiary",DEFAULT:"default",ACPRIMARY:"primary",ACTERTIARY:"tertiary",PERFORM_MODE:"perform",CASE_VIEW_MODE_PROP:".caseViewMode",REVIEW_MODE:"review",WORKAREA:"workarea",ACPRIMARY_NAME:"ACPRIMARY",ACTERTIARY_NAME:"ACTERTIARY",THREADNAMESEPARATOR:"/",JOINCHARACTER:"_",FORWARD_SLASH_STRING:"/",UNDERSCORE_STRING:"_",WORK_ID:"WORK_ID",EMPTY_STRING:"",PROPERTY_MESSAGES:"propertyMessages__",CONTEXT_MESSAGES:"contextMessages__",HTTP_MESSAGES:"httpMessages__",PAGE_MESSAGES:"pageMessages__",SUMMARY_OF_LISTS:"summary_of_lists__",SUMMARY_OF_GROUPS:"summary_of_groups__",SUMMARY_OF_MESSAGES:"summary_of_messages__",SUMMARY_OF_FIELD_VALUES:"summary_of_field_values__",SUMMARY_OF_WHEN_CONDITIONS:"summary_of_when_conditions__",SUMMARY_OF_ASSOCIATED_LISTS:"summary_of_associated_lists__",CONTEXT_DATA:"context_data",CONTENT:"content",HTTP:"HTTP",PROPERTY:"PROPERTY",MESSAGES:"messages__",PAGE_ERRORS:"page_level_errors",NO_MESSAGES:"No messages existing",PULSE_REFERENCE:"pulse.messages",IS_LOADING:"isLoading",APPROVED:"Approved",REJECTED:"Rejected",DUPLICATE:"Duplicate",IGNORE:"Ignore",ERROR_FIELD_IN_PAGE:"erroneousInputOutputFieldInPage",ERROR_IN_PAGE_IDENTIFIER:"erroneousInputOutputIdentifier",UI_RESOURCERS:"uiResources",UI_RESOURCERS_CONTEXT_DATA:"uiResources.context_data",ACTION_BUTTONS:"uiResources.actionButtons",RESOURCERS:"uiResources.resources",ROOT:"uiResources.root",DATA:"data",OPTIONS:"options",VIEWS:"uiResources.resources.views",NAVIGATIONS:"uiResources.resources.navigations",COMPONENTS:"uiResources.components",LOCALE_REFERENCES:"uiResources.localeReferences",STATIC_SERVER_URL:"staticServer",APPLICATION_DATA:"data.Application",REFERENCED_USERS:"referencedUsers",FIELD_LEVEL_SUCCESS:"success",FIELD_LEVEL_WARNING:"warning",FIELD_LEVEL_ERROR:"error",HASH_DELIMITER:"~^|^~",NULL_STRING:"null",DATA_PAGE:"DataPage",PROPERTY_ANNOTATION:"@P",ASSOCIATED_PROPERTY_ANNOTATION:"@ASSOCIATED",ASSOCIATED:"associated",CLASS_ID:".classID",CLASSID:"classID",READONLY:"readonly",SHARED:"shared",RELOAD_IF_OLDER_THAN:"reloadIfOlderThan",RELOAD_ONCE_PER_INTERACTION:"reloadOncePerInteraction",PY_DETAILS:"pyDetails",LIST_ACTIONS:{INSERT:"INSERT",UPDATE:"UPDATE",DELETE:"DELETE",MOVE:"MOVE",SELECT:"SELECT",DESELECT:"DESELECT"},LIST_ACTIONS_TYPE:{SELECT_DESELECT:"SELECT_DESELECT"},ENV_INFO_KEYS:{APPLICATION_NAME:"APPLICATION_NAME",APPLICATION_DESC:"APPLICATION_DESC",ACCESS_GROUP:"ACCESS_GROUP",USER_NAME:"USER_NAME",USER_ID:"USER_ID",USER_IMAGE:"USER_IMAGE",LOCALE:"LOCALE",TIMEZONE:"TIMEZONE",WORK_GROUP:"WORK_GROUP"},ID:"ID",...st},it="SET_PROPERTY",ct="FIELD_CHANGE",lt="LOAD_VIEW",ut="SHOW_PAGE",pt="SHOW_DATA",dt="SET_LOADING",ht="RESET_LOADING",ft="CREATE_WORK",gt="OPEN_WORK_BY_HANDLE",yt="UPDATE_DOCUMENT",mt="FINISH_ASSIGNMENT",It="CANCEL_ASSIGNMENT",Et="OPEN_ASSIGNMENT",At="SHOW_CREATE_STAGE_CANCEL_ALERT",_t="MERGE_DATA",vt="SHOW_HISTORY",St="ERROR",bt="INIT_CONTAINERS",Ct="RESET_CONTAINERS",Pt="ADD_CONTAINER_ITEM",Tt="REMOVE_CONTAINER_ITEM",Ot="ADD_TRANSIENT_ITEM",Nt="UPDATE_TRANSIENT_DATA",Rt="REMOVE_TRANSIENT_ITEM",Dt="REMOVE_ALL_TRANSIENT_ITEMS",xt="CLEAR_TRANSIENT_DATA",wt="PURGE_TRANSIENT_DATA",Mt="ACTIVATE_CONTAINER_ITEM",Lt="UPDATE_CONTAINER_ITEM",jt="UPMERGE_AND_REMOVE_CONTAINER_ITEM",Ut="REPLACE_CONTAINER_ITEM",kt="ACTIVATE_MODAL_CONTAINER_ITEM",Vt="REMOVE_CONTAINER",Ft="showView",$t="showData",Gt="openWorkByHandle",Bt="openAssignment",Wt="createNewWork",Ht="openLocalAction",qt="openProcessAction",Yt="caseWideActions",zt="openBulkAction",Kt="ADD_MESSAGES",Jt="CLEAR_MESSAGES",Xt="RESET_STORE",Qt="FETCH_DATAPAGE",Zt="ADD_SHARED_DATA",en="REMOVE_SHARED_DATA",tn="LIST_ACTION",nn="DELETE_CASE_SUMMARY",rn=[],on=[],sn={},an={},cn={},ln={},un=(e={},t={})=>{0!==Object.keys(t).length?Object.keys(e).forEach((n=>{const r=e[n],o=t[n];if(o){const e=Array.isArray(o)?o:[o];let s=[...Array.isArray(r)?r:[r],...e];const a={};s=s.filter((({classID:e})=>!a[e]&&(a[e]=!0,!0))),t[n]=1===s.length?s[0]:s}else t[n]=r})):ot.copy(e,t)},pn=(e,t)=>{if(!e)return null;const n=sn[e];if(!n)return null;if(!t)return Array.isArray(n)?[...n]:n;let r;return r=Array.isArray(n)?n.find((e=>e.classID.toLowerCase()===t.toLowerCase())):n.classID.toLowerCase()===t.toLowerCase()||("Page"===n.type||"Page List"===n.type)&&(null==n?void 0:n.pageClass.toLowerCase())===t.toLowerCase()?n:null,r},dn=e=>{un(e,rn)},hn=e=>{un(e,on)},fn=e=>{if(e.views&&un(e.views,rn),e.navigations&&un(e.navigations,on),e.personalizations&&un(e.personalizations,cn),e.insights&&un(e.insights,ln),e.fields){Object.keys(e.fields).forEach((t=>{const n=e.fields[t];if(Array.isArray(n)){if(e.datapages&&n.forEach((t=>{t.datasource&&"DataPage"===t.datasource.tableType&&(t.datasource.mode=e.datapages[t.datasource.name].mode)})),1===n.length){const[r]=n;e.fields[t]=r}}else e.datapages&&n.datasource&&"DataPage"===n.datasource.tableType&&(n.datasource.mode=e.datapages[n.datasource.name].mode)}));const{datapages:t={}}=e;Object.keys(t).forEach((e=>{an[e]=t[e]}))}un(e.fields,sn)},gn=e=>rn[e],yn=e=>on[e],mn=e=>e in an?an[e]:null,In=e=>e in cn?cn[e]:null,En=e=>e in ln?ln[e]:null,An=e=>{const t={};return Object.keys(sn).forEach((n=>{const r=sn[n];let o;Array.isArray(r)?o=r.find((t=>e===t.classID)):e===r.classID&&(o=r),o&&(t[n]=ot.deepClone(o))})),t},_n=(e,t)=>{var n,r;const o=null===(n=pn(e,t))||void 0===n||null===(r=n.datasource)||void 0===r?void 0:r.parameters;return o?ot.deepClone(o):null},vn=new class{constructor(){this.components={},this.overrideMap={}}register(e,t){this.components[e]=t}getComponent(e){return this.components[e]}mergeComponentsMap(e={}){ot.copy(e,this.components)}mergeOverrideMap(e={}){ot.copy(e,this.overrideMap)}getOverrideMap(){return this.overrideMap}},Sn=new class{constructor(){this.handlers={}}registerHandler(e,t){this.handlers[e]=t}getHandler(e){return this.handlers[e]}},bn=class{static handleAnnotation(e,t){const n=e.indexOf(" "),r=-1===n?e:e.substring(0,n),o=Sn.getHandler(r);return o?o(e.substring(n+1),t):e}static trimAnnotation(e){if("string"!=typeof e)return e;const t=e.indexOf(" "),n=e.substring(0,t),r=e.substring(t+1);return Sn.getHandler(n)?r:e}static handleComponentMapping(e,t,n){const r=vn.getComponent(t.type);if(!r||!r.mapping)return;const o=r.mapping(t.config);if(o&&o["@map"]){const t=o["@map"],{source:r}=t;if(!r)return;const s=n.getValue(r);if("function"==typeof t.advanced)t.advanced(e,s);else{const n=t.inputs_map;e[t.output_property]=[];const r=e[t.output_property];s.forEach((e=>{const t={};Object.keys(n).forEach((r=>{let o=n[r];o&&0===o.indexOf(".")?(o=o.substring(1),t[r]=e[o]):t[r]=o})),r.push(t)}))}}}static getPropertyName(e){if(e){const t=e.startsWith(at.PROPERTY_ANNOTATION),n=t?e.indexOf(" "):-1;return t?e.substring(n+2):e}return e}static getLeafPropertyName(e){if(null!=e&&e.startsWith(at.PROPERTY_ANNOTATION)){const t=this.getPropertyName(e),n=t.split(".");return n.length<2?t:n.pop()}return e}static isProperty(e){return e.startsWith(at.PROPERTY_ANNOTATION)}},Cn={FIELD_MESSAGES_PATH:[at.CONTEXT_DATA,at.CASE_INFO.CASE_INFO,at.CONTENT,at.SUMMARY_OF_MESSAGES,at.PROPERTY_MESSAGES],PAGE_MESSAGES_PATH:[at.CONTEXT_DATA,at.SUMMARY_OF_MESSAGES,at.PAGE_MESSAGES],HTTP_MESSAGES_PATH:[at.CONTEXT_DATA,at.SUMMARY_OF_MESSAGES,at.HTTP_MESSAGES],CASE_MESSAGE_PATH:[at.CASEMESSAGES]},Pn=(e="",t="",n)=>{let r,o=[];null!==e&&(r=e&&"."===e[0]?e.substr(1).split("."):e.split("."));const s=t&&"."===t[0]?t.substr(1):t;if(n===at.PROPERTY&&e||e){o=[at.CONTEXT_DATA,...s.split(".")];for(let e=0;e<r.length-1;e+=1)o.push(r[e]);o.push(at.SUMMARY_OF_MESSAGES,at.PROPERTY_MESSAGES,r[r.length-1])}else n===st.PAGE?o=[...Cn.PAGE_MESSAGES_PATH]:n===at.HTTP?o=[...Cn.HTTP_MESSAGES_PATH]:n===at.CASEMESSAGES&&(o=[...Cn.CASE_MESSAGE_PATH]);return o.filter(Boolean)},Tn=e=>{const{type:t,property:n,category:r,context:o,pageReference:s}=e;let a;n&&(a=n.slice(1));const i=fi(o);let c=[];const l=ot.getIn(i,Pn(a,s,r));return t&&"all"!==t?(l&&Array.isArray(l)&&l.length>0&&(c=l.filter((e=>e.type===t))),c):l},On=e=>{const{property:t,pageReference:n,category:r,context:o,type:s}=e,a={context:o,type:s};t?(a.property=t,a.pageReference=n):a.category=r,hi({type:Jt,payload:a})},Nn=e=>{const{messages:t,property:n,pageReference:r,category:o,context:s}=e,a={messages:t,context:s};n?(a.property=n,a.pageReference=r):a.category=o,hi({type:Kt,payload:a})},Rn={addMessages:Nn,getMessages:Tn,clearMessages:On},Dn={},xn=e=>"."===e.charAt(0)?e.substring(1):e,wn=(e="",t="")=>`${xn(t)}${e?".":""}${xn(e)}`,Mn=e=>{delete Dn[e]},Ln=(e,t,n)=>{if(Dn[e]){const r=xn(wn(t,n));Dn[e].fieldOrder[r]&&(Dn[e].fieldOrder[r].isError=!1)}},jn=()=>Dn,Un=e=>{const t=e.isExpressionExist();return!1!==e.isMounted&&(t&&!1!==e.getConfigProps().visibility||!t&&(void 0===e.getConfigProps().visibility||"true"===e.getConfigProps().visibility||!0===e.getConfigProps().visibility))},kn=e=>{const t=e.getConfigProps().readOnly;return!0===t||"true"===t},Vn=e=>{const t=jn();let n,r=!0;if(t[e])for(const o in t[e].fieldOrder)if(Object.prototype.hasOwnProperty.call(t[e].fieldOrder,o)){const s=t[e].fieldOrder[o];let a="value",i=s.getStateProps()[a];if(!i){const e=s.getComponentConfig();"multi"===e.selectionMode?a="selectionList":"Editable"===e.renderMode&&(a="referenceList"),i=s.getStateProps()[a]}const c=Un(s);!c||s.isError||kn(s)||s.getConfigProps().disabled||s.getValidationApi().validate(s.getValue(i)),!n&&s.isError&&c&&(n=o),r&&s.isError&&c&&(r=!1)}return r},Fn=new class{constructor(){this.actionHandlers={}}getHandler(e){return this.actionHandlers[e]}registerHandler(e,t){this.actionHandlers[e]=t}};function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gn=new class{constructor(){$n(this,"pauseBeforeShowing",(e=>new Promise((t=>setTimeout((()=>t(e)),this.pauseDuration))))),$n(this,"addToContextArray",(e=>{void 0===this.contextArray[e]&&(this.contextArray[e]=0),this.contextArray[e]=this.contextArray[e]+1})),$n(this,"removeFromContextArray",(e=>{void 0!==this.contextArray[e]&&this.contextArray[e]>0&&(this.contextArray[e]=this.contextArray[e]-1)})),this.contextArray={},this.pauseDuration=2e3,this.waitingToPutUpIndicator=!1}getLoadingContext(e){let t=null;return e&&(({context:t}=e),t||(t=e.containerItemID),t||(t=e.contextName)),t}enableLoadingIndicator(e,t=!0){const n=this.getLoadingContext(e);n&&(this.addToContextArray(n),this.waitingToPutUpIndicator||(this.waitingToPutUpIndicator=!0,this.pauseBeforeShowing(n).then((e=>{t&&void 0!==this.contextArray[e]&&this.contextArray[e]>0&&hi({type:dt,payload:{context:e}})}))))}disableLoadingIndicator(e,t=!0){const n=this.getLoadingContext(e);n&&(this.waitingToPutUpIndicator=!1,this.removeFromContextArray(n),t&&void 0!==this.contextArray[n]&&0===this.contextArray[n]&&hi({type:ht,payload:{context:n}}))}},Bn=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actionManagerPromise",((e,t=null)=>{let n,r;null===t&&(t=this.getNextActionMgrId());const o=new Promise(((e,t)=>{n=e,r=t}));return this.register(t,o,n,r,e),{actionMgrID:t,promise:o}})),this.counterActionMgrId=0,this.actionMgrActions=[]}getNextActionMgrId(){return this.counterActionMgrId+=1,this.counterActionMgrId.toString()}register(e,t,n,r,o="unknown",s,a=!0){if(void 0!==this.actionMgrActions[e])return null;const i={actionType:o,promise:t,resolve:n,reject:r,actionPayload:s};return this.actionMgrActions[e]=i,a&&Gn.enableLoadingIndicator(i.actionPayload),e}resolveActionByID(e,t,n=!0){const r=this.actionMgrActions[e];let o=e;return r?(r.resolve(t),Gn.disableLoadingIndicator(r.actionPayload,n)):o=null,o}rejectActionByID(e,t=!0){const n=this.actionMgrActions[e];let r=e;return n?(n.reject(),Gn.disableLoadingIndicator(n.actionPayload,t)):r=null,r}};let Wn=[],Hn=!1;const qn=(e,t,n)=>{const r=[];return{mouseenter:"hover",change:"onChange",blur:"onBlur"}[n]!==t||e.forEach((e=>{const t=Fn.getHandler(e.action),{config:n}=e;r.push({handler:t,config:n})})),r},Yn=e=>{const{tagName:t}=e;return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t||"DATETIME"===t},zn=e=>{const{tagName:t,type:n}=e;return"SELECT"===t||"checkbox"===n||"radio"===n},Kn=(e,t)=>{const n={...e};return n.context=t.getContextName(),n.pageReference=t.getPageReference(),n.actionMgrID=Bn.getNextActionMgrId(),n},Jn=()=>{if(!Hn){if(0===Wn.length)return;const e=Wn.shift();(e=>{const t=e.actionHandler,n=e.component,{config:r}=e,o={};Ja.resolveProps(r,o,n),t&&(t(e.eventType,o,n),Jn())})(e),e.config&&"true"===e.config.parallel&&Wn.length>0&&Jn()}},Xn=(e,t,n)=>{((e,t,n)=>{for(let r=0;r<e.length;r++){const o=e[r],s={actionHandler:o.handler,component:t,eventType:n,config:o.config};Wn.push(s)}})(e,t,n),Jn()},Qn=e=>{const t=e.getPageReference(),n=e.getComponentConfig().value;return Ja.getContextPath(t,n)},Zn=(e,t)=>{const n=e.getStateProps().value,r=e.getContextName();if(On({type:st.MESSAGES.MESSAGES_TYPE_ERROR,property:n,pageReference:e.getPageReference(),context:r}),t instanceof Event||t.nativeEvent instanceof Event||null!==t.value&&void 0===t.prop){let{target:n}=t;null===n&&t&&t.auxiliaryTarget&&(n=t.auxiliaryTarget);const o=void 0===n?t.value:"value"in n?n.value:n.innerText,s=Qn(e);hi({type:it,payload:{reference:s,value:o,context:r}}),void 0!==n&&Yn(n)&&!zn(n)||hi({type:ct,payload:{reference:s,pageReference:e.getPageReference(),value:o,context:r,propertyName:e.getComponentConfig().value,classID:e.getValue(at.CLASS_ID)}})}else{const n=e.getPageReference(),o=e.getStateProps();for(const e of Object.keys(t)){const s=o[e],a=t[e];hi({type:it,payload:{reference:Ja.getContextPath(n,s),value:a,context:r}}),hi({type:ct,payload:{reference:Ja.getContextPath(n,s),value:a,context:r}})}}},er=(e,t)=>{let{target:n}=t;null===n&&t&&t.auxiliaryTarget&&(n=t.auxiliaryTarget);const{value:r,validationValue:o}=n,s=Qn(e),a=e.getContextName();if(n.clearMessages&&On({type:st.MESSAGES.MESSAGES_TYPE_ERROR,property:e.getStateProps().value,pageReference:e.getPageReference(),context:a}),Yn(n)){if(e.getValidationApi().validate("validationValue"in n?o:r),e.isInsideList()){const t={[xn(e.getStateProps().value)]:r};let n=e.getPageReference().match(/\[\d+\]$/g);n&&n[0]&&(n=n[0].substring(1,n[0].length-1),e.getListActions().update(t,Number(n),e))}!zn(n)&&hi({type:ct,payload:{reference:s,pageReference:e.getPageReference(),value:r,context:a,propertyName:e.getComponentConfig().value,classID:e.getValue(at.CLASS_ID)}})}},tr=(e,t)=>{const{type:n}=t;switch(n){case"change":Zn(e,t);break;case"blur":er(e,t)}n&&function(e,t){const n=e.getComponentConfig().behaviours||[];for(let r=0;r<n.length;r+=1){const{behaviour:o,actions:s}=n[r];if(s){const n=qn(s,o,t);n&&n.length>0&&Xn(n,e,t)}}}(e,n)},nr=()=>{Hn=!0},rr=()=>{Hn=!1,Jn()},or=()=>0===Wn.length,sr=()=>{Wn=[]},ar=()=>Wn,ir={click:"onClick",change:"onChange",hover:"onMouseEnter",blur:"onBlur"};let cr,lr;const ur=e=>{cr||(cr=e=e||{"base-server":"http://localhost:1080/prweb/","data-end-point":"api/v1/stream/data","action-end-point":"api/v1/stream/action"},cr.BASEURL=e.server,cr.ACTIONURL=e["action-end-point"],cr.DATAURL=e["data-end-point"])},pr=()=>cr.BASEURL,dr=e=>fetch(cr.BASEURL+cr.ACTIONURL,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),hr={},fr=new Map,gr=e=>{let t=at.EMPTY_STRING;return t=e&&e.includes(at.FORWARD_SLASH_STRING)?e.substring(0,e.lastIndexOf("/")):e,t},yr=(e,t,n=!1)=>{let r=at.EMPTY_STRING;if(t&&e){let o=`${t}${at.FORWARD_SLASH_STRING}${e}`;const s=xs(o);if(s||t!==at.APP.APP&&t!==at.APP.ROOT)if(s){if(n&&hr[o])return r=`${o}${at.UNDERSCORE_STRING}${hr[o]}`,r;hr[o]?hr[o]+=1:hr[o]=1,r=`${o}${at.UNDERSCORE_STRING}${hr[o]}`}else r=yr(e,gr(t));else o=`${t}${at.FORWARD_SLASH_STRING}${at.PRIMARY}`,hr[o]?hr[o]+=1:hr[o]=1,r=`${o}${at.UNDERSCORE_STRING}${hr[o]}`}return r},mr=(e,t)=>{if(e&&t){var n,r;const o=(null!==(n=null===(r=fr[t])||void 0===r?void 0:r[e])&&void 0!==n?n:0)+1;return fr[t]||(fr[t]={}),fr[t][e]=o,`${t}${at.FORWARD_SLASH_STRING}${e}_${o}`}return""},Ir=(e,t)=>{if(e&&t){var n;const r=null===(n=fr[t])||void 0===n?void 0:n[e];return r?`${t}${at.FORWARD_SLASH_STRING}${e}_${r}`:mr(e,t)}return""},Er=e=>{let t=at.EMPTY_STRING;return e&&(t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("_")).toLowerCase()),t},Ar=(e,t)=>{if(null===e)return t;const[,n]=t.split(at.FORWARD_SLASH_STRING);return e+at.FORWARD_SLASH_STRING+n},_r=e=>{const t=e.indexOf(at.FORWARD_SLASH_STRING),n=e.lastIndexOf(at.FORWARD_SLASH_STRING);return t===n?e:e.substring(0,n)},vr=e=>{const t=e.split(at.FORWARD_SLASH_STRING);return 2===t.length?e:t[0]+at.FORWARD_SLASH_STRING+t[2]},Sr=/{(.*?)}/i,br=/{(.*?)}/g,Cr=e=>null!==e.match(Sr),Pr=e=>(e&&("/"===e[0]&&(e=e.substring(1,e.length)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1))),e),Tr=e=>{const t=e[e.length-1],n=e[e.length-2];if("y"!==t.toLowerCase())return`${e}s`;switch(n.toLowerCase()){case"a":case"e":case"i":case"o":case"u":return`${e}s`;default:return`${e=e.substring(0,e.length-1)}ies`}},Or=()=>Pr(window.location.pathname),Nr=(e,t,n)=>{switch(n){case"warning":t?console.warn(e,t):console.warn(e);break;case"error":t?console.error(e,t):console.error(e);break;default:t?console.log(e,t):console.error(e)}};function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dr{}Rr(Dr,"remoteCaseMapping",{}),Rr(Dr,"setRemoteCaseMapping",(e=>{Dr.remoteCaseMapping=e})),Rr(Dr,"getRemoteCaseMapping",(()=>Dr.remoteCaseMapping)),Rr(Dr,"getRemoteCase",(e=>Dr.remoteCaseMapping[e])),Rr(Dr,"isRemoteCase",(e=>!!(e&&Dr.remoteCaseMapping&&Dr.remoteCaseMapping[e]))),Rr(Dr,"getRemoteHeaderByContext",(e=>Ja.getProperty(".RemoteSystemID",at.CASE_INFO.HEADERS,e))),Rr(Dr,"getRemoteHeader",(e=>{var t;return null===(t=Dr.remoteCaseMapping[e])||void 0===t?void 0:t.RemoteSystemID})),Rr(Dr,"injectRemoteCaseHeader",((e,t,n)=>{if(e&&e.RemoteSystemID)return;const r=Dr.getRemoteHeaderByContext(n);r?e.RemoteSystemID=r:t&&Dr.isRemoteCase(t.caseTypeID)&&(e.RemoteSystemID=Dr.getRemoteHeader(t.caseTypeID))}));const xr=Dr;function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mr=new class{constructor(){wr(this,"init",((e,t)=>{e&&e.routes&&e.routesMeta?(this.routingInfo=e,this.appRoutes=e.routes,this.appRoutesMeta=e.routesMeta,this.reqContextName=e.reqContextName,this.reqServletPath=e.reqServletPath,this.appName=e.appName,this.appAlias=e.appAlias,this.orgName=e.orgName,this.defaultViewUrlPath=t,this._createStaticDynamicRoutesList(this.appRoutes),this.appDelimeter=e.appDelimeter,this.reqServletNameReal=e.pxReqServletNameReal,this.bDefaultPortal=e.isDefaultPortal,this.portalName=e.portalName):console.error("Routing info is not appropriate. Missing routes and routesMeta objects in routingInfo",JSON.stringify(e))})),wr(this,"setDefaultRoute",(e=>{this.defaultViewUrlPath=e})),wr(this,"_createStaticDynamicRoutesList",(e=>{Object.keys(e).forEach((e=>{Cr(e)?this.dynamicRoutesList.push(e):this.staticRoutesList.push(e)}))})),wr(this,"_getDynamicKeyName",(e=>{const t=e.indexOf("{")+1,n=e.lastIndexOf("}");return e.slice(t,n)})),wr(this,"isDefaultPortal",(()=>"false"!=`${this.bDefaultPortal}`)),wr(this,"getPortalName",(()=>this.portalName)),wr(this,"getApplicationPath",(()=>`${this.getReqContextName()}/${this.getReqServletNameReal()}`)),wr(this,"getReqServletNameReal",(()=>`${this.reqServletNameReal}`)),wr(this,"getAppDelimeter",(()=>`${this.appDelimeter}`)),wr(this,"getApplicationName",(()=>`${this.appName}`)),wr(this,"getApplicationAlias",(()=>`${this.appAlias}`)),wr(this,"getServletPath",(()=>`${this.reqServletPath}`)),wr(this,"getOrganizationName",(()=>`${this.orgName}`)),wr(this,"getReqContextName",(()=>Pr(this.reqContextName))),wr(this,"getRoutingInfo",(()=>this.routingInfo)),wr(this,"processUrl",((e,t)=>{t&&(e=e.toLowerCase());const n=new RegExp(this.getApplicationPath(),"i");return e=e.replace(n,""),Pr(e)})),wr(this,"getEndPointInfo",(e=>{let t=this.processUrl(e,!0),n=this._getMatchedRouteInRoutingTable(t);void 0===n&&(t=this.processUrl(this.defaultViewUrlPath,!0),n=this._getMatchedRouteInRoutingTable(t));const{routeKey:r,payload:o}=this.appRoutes[n],{reqType:s,endPoint:a,params:i}=this.appRoutesMeta[r].restApi,c={...o},{caseClassName:l,caseID:u}=c;if(xr.isRemoteCase(l)){const{RemoteClassGroup:e,RemoteSystemID:t}=xr.getRemoteCase(l);c.caseID=null==u?void 0:u.replace(l,null==e?void 0:e.toUpperCase()),c.RemoteSystemID=t}const p={routeKey:r,requestType:s,routeEndpoint:a,payload:{...i,...c}};return this._resolveRoute(p,this.processUrl(e,!1),n)})),wr(this,"_resolveRoute",((e,t,n)=>{const r=[],[o,s]=t.includes("?")?t.split("?"):[t],[a,i]=n.includes("?")?n.split("?"):[n],c=o.split("/"),l=a.split("/"),u={};for(let e=0;e<l.length;e+=1)r[e]=l[e],Cr(l[e])&&(u[this._getDynamicKeyName(l[e])]=c[e],r[e]=c[e]);const p=this._getQueryParamsObject(i),d=this._getQueryParamsObject(s),h={};for(const[e,t]of Object.entries(d))h[e.toLowerCase()]=t;for(const e in p)Cr(p[e])?u[e]=d[e]||h[e.toLowerCase()]:u[e]=p[e];let f;s&&(f=this._getQueryParamsResolvedURL(n,d,!0));const g=this._resolvePayload(e,u,n);return{...this._resolveRouteEndPoint(g,n),urlPath:f||r.join("/")}})),wr(this,"_resolveRouteEndPoint",((e,t)=>{let{routeEndpoint:n}=e;if(!Cr(n))return e;const r={};if(r[t]=e,void 0!==e.payload){const t=n.match(br);for(let o=0;o<t.length;o+=1){const s=t[o],a=this._getDynamicKeyName(s);if(void 0!==e.payload[a]){const t=e.payload[a];n=n.replace(s,t)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${a}} in routeEndpoint- ${a} is missing in payload`,r)}}else this._sendWarningAndErrorMessages("Unable to resolve dynamic token(s) in routeEndpoint- payload is missing in routing table for-",r);return{...e,routeEndpoint:n}})),wr(this,"_resolvePayload",((e,t,n)=>{if(void 0===e.payload)return e;const r={...e.payload,...this._resolvePayloadRecursive(e.payload,t)};return{...e,payload:r}})),wr(this,"_getMatchedRouteInRoutingTable",(e=>{let t=this._findMatchedRouteInStaticList(e);return void 0!==t?t:(t=this._findMatchedRouteInDynamicList(e),void 0!==t?t:void 0)})),wr(this,"_findMatchedRouteInStaticList",(e=>this.staticRoutesList.find((t=>t.toLowerCase()===e.toLowerCase())))),wr(this,"_findMatchedRouteInDynamicList",(e=>{const[t,n]=e.includes("?")?e.split("?"):[e],r=t.split("/");return this.dynamicRoutesList.find((e=>{const[t,o]=e.includes("?")?e.split("?"):[e],s=t.split("/");if(s.length!==r.length)return!1;let a=0;for(a=0;a<s.length;a+=1){const e=s[a].toLowerCase();if(!Cr(e)&&e!==r[a]&&Tr(e)!==r[a])return!1}if(o){const e=new URLSearchParams(n),t=new URLSearchParams(o),r=new Set,s=new Set;for(const t of e.keys())r.add(t.toLowerCase());for(const e of t.keys())s.add(e.toLowerCase());if(s.size!==r.size)return!1;for(const e of r)if(!s.has(e))return!1}return!0}))})),wr(this,"_sendWarningAndErrorMessages",((e,t)=>{Nr(e,t,"warning"),Nr("Error in Generated Routing Table",null,"error"),Nr("Back | Forward for this page may NOT work as intended",null,"warning"),Nr("Bookmark | Refresh for this page may NOT work as intended",null,"warning")})),this.routingInfo,this.appRoutes,this.appRoutesMeta,this.appName,this.appAlias,this.orgName,this.reqContextName,this.reqServletPath,this.defaultViewUrlPath,this.staticRoutesList=[],this.dynamicRoutesList=[],this.appDelimeter,this.reqServletNameReal,this.bDefaultPortal,this.portalName}getSemanticURL(e,t,n){return this._buildSemanticURL(e,t,n)}getResolvedSemanticURL(e,t,n={}){const r=this.getSemanticURL(e,t,n);let o=r;Cr(r)&&r.match(br).forEach((e=>{const t=this._getDynamicKeyName(e);n[t]&&(o=o.replace(e,n[t]))}));const s=new URL(pr()+(o?`/${o}`:""));return this.getPortalName()&&s.searchParams.append("portal",this.getPortalName()),s.toString()}_buildSemanticURL(e,t,n){const{urlPattern:r}=this.appRoutesMeta[e],o=r.split("/").length,s=Object.keys(this.appRoutes);for(let e=0;e<s.length;e+=1){const r=this.appRoutes[s[e]];if(s[e].split("/").length===o){const o=Object.keys(t);let a=!1;for(let e=0;e<o.length&&(a=t[o[e]]===r.payload[o[e]],a);e+=1);if(a)return this._getQueryParamsResolvedURL(s[e],n)}}return""}_getQueryParamsResolvedURL(e,t,n=!1){const[r,o]=e.includes("?")?e.split("?"):[e];if(o){const e={};for(const[n,r]of Object.entries(t))e[n.toLowerCase()]=r;const s=new URLSearchParams(o),a={};for(const[r,o]of s.entries())if("string"==typeof o&&Cr(o)){const s=this._getDynamicKeyName(o);a[r]=n?t[s]||e[s.toLowerCase()]:t[s]}else"string"==typeof o&&(a[r]=o);return`${r}?${new URLSearchParams(a).toString()}`}return r}_getQueryParamsObject(e){const t={},n=new URLSearchParams(e);for(const[e,r]of n.entries())t[e]=r;return t}getRestEndPoint(e,t){try{return this._buildRestApi(e,t)}catch(e){return console.error(e),this.appRoutes&&this.appRoutesMeta?(console.info("Routes object: ",JSON.stringify(this.appRoutes)),console.info("RoutesMeta object: ",JSON.stringify(this.appRoutesMeta))):console.info("Routes in not defined: ",this.appRoutes,this.appRoutesMeta),null}}_buildRestApi(e,t){if(e&&this.appRoutesMeta[e]){const{reqType:n,body:r}=this.appRoutesMeta[e].restApi;let{endPoint:o}=this.appRoutesMeta[e].restApi;t&&t.params&&t.params.pageName&&(o=`${o}&pageName=${t.params.pageName}`);const s=o.match(br);if(s)for(let e=0;e<s.length;e+=1){const n=s[e].replace("{","").replace("}",""),r=new RegExp(s[e],"g");o=o.replace(r,t[n])}if(r){let e={};return Object.keys(r).forEach((n=>{this._isSpecialInstruction(n)&&(e={...e,...this._processInstruction(n,r[n],t)})})),{restApi:o,reqType:n,body:e}}return{restApi:o,reqType:n}}throw`Cannot find route metadata for the routeKey: ${e}.`}_isSpecialInstruction(e){return e&&e.startsWith("@")}_processInstruction(e,t,n){const r={};return"@COPY"===e&&t.forEach((e=>{r[e]=n[e]})),r}doesRestApiExist(e){return!(!this.appRoutesMeta||!this.appRoutesMeta[e])}_resolvePayloadRecursive(e,t){const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let o=e[r];if("string"==typeof o&&Cr(o)){const e=o.match(br);for(let n=0;n<e.length;n+=1){const r=e[n],s=this._getDynamicKeyName(r);if(void 0!==t[s]){const e=t[s];o=o.replace(r,e)}else this._sendWarningAndErrorMessages(`Unable to resolve dynamic token {${s}} in payload- {${s}} is missing in semantic url construct`)}n[r]=o}else"object"==typeof o&&(n[r]=this._resolvePayloadRecursive(o,t))}return n}},Lr=(e,t)=>{if(!e||!t)return null;let n,r=at.EMPTY_STRING;return t&&(r=`${t}${at.FORWARD_SLASH_STRING}${e}`,n=xs(r),n||-1!==t.indexOf("/")?n||(r=Lr(e,gr(t))):r=`${t}${at.FORWARD_SLASH_STRING}${e}`),r},jr=(e,t)=>{const n=Lr(e,t);return n&&xs(n)?xs(n):{}},Ur="replace",kr=["portal","noPortal"];let Vr,Fr,$r="Home",Gr=!0;const Br=()=>Gr,Wr=(e,t,n)=>Mr.getSemanticURL(e,t,n),Hr=(e,t)=>Mr.getRestEndPoint(e,t),qr=(e,t)=>{let n=pr();const r=Hr(e,t);return r?(r.restApi.startsWith("/")||(r.restApi=`/${r.restApi}`),n.endsWith("/")&&(n=n.substring(0,n.length-1)),r.restApi=n+r.restApi,r):null},Yr=(e,t,n)=>{const{root:r,resources:o}=e,{views:s}=o,{config:a}=r;let i;i=n||s[a.name].config.urlPath;const c=i.match(br);if(c){const e=ot.getIn(t,a.context);i=i.replace(c[0],e.pyID)}return"/"===i[0]&&(i=i.substring(1,i.length)),{pxURLPath:i,historyAction:"add"}},zr=(e,t=!1,{urlPathObjParam:n,infoParam:r,optionsParam:o})=>{let s,a,i;if(!1===window.PCore.getBehaviorOverride("dynamicSemanticUrl"))return;if(t)s=n,a=r,i=o;else{const{uiResources:t,data:r}=e;({options:i}=e),s=n&&n.pxURLPath&&Cr(n.pxURLPath)?Yr(t,r,n.pxURLPath):n||Yr(t,r),a=Mr.getEndPointInfo(s.pxURLPath),s.pxURLPath=a.urlPath}const c=((e,t,n)=>{let r,o;r=`${e}/${t}`;const s=Pr(n.pxURLPath);s&&(r=`${r}/${s}`);try{o=new URL(r).searchParams,r=r.includes("?")?r.split("?")[0]:r}catch(e){return console.log("Invalid url",e),""}const a=r.split("/"),i=a[a.length-1],c=new URLSearchParams(window.location.search);if(i.toLowerCase()!==$r.toLowerCase()||c.has("noPortal")||(r=`${e}/${t}`),!Mr.isDefaultPortal()){const e=Mr.getPortalName();c.has("portal")?c.set("portal",e):c.append("portal",e)}for(const[e,t]of c.entries())!o.has(e)&&kr.includes(e)&&o.append(e,t);return o.toString()&&(r+=`?${o.toString()}`),r})(Vr,Mr.getApplicationPath(),s),{title:l}=((e,t,n)=>{if(e=(e=>{let t=e.split(" ");return t=t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))),t.join(" ")})(e=e&&""!==e?e:Mr.getApplicationName()),n===`${Vr}/${t}/`)return{title:e};const r=new URL(n).pathname.replace(`${t}/`,""),o=r.split("/");return/\d/.test(r)?{title:`${e} - ${o[o.length-1]}`}:{title:`${e} - ${o[0]}`}})(Fr,Mr.getApplicationPath(),c),u=((e,t)=>(void 0!==e&&(e.options=t),{stateObj:e}))(a,{...i,title:l});"add"===s.historyAction?((e,t,n)=>{try{window.history.pushState(e,t,n),window.scrollTo(0,0)}catch(e){throw new Error("Error- Unable to Add to Browser History")}})(u,l,c):s.historyAction===Ur&&((e,t,n)=>{try{window.history.replaceState(e,t,n)}catch(e){throw new Error("Error- Unable to Replace Browser History")}})(u,l,c)},Kr=e=>{const{uiResources:t}=e;Br()&&(e.directUrlUpdation||(e=>{if(e&&e.root){const{root:t}=e,{resources:n}=e,{views:r}=n,o=t.config,s=o.type,a=o.name;if("VIEW"===s.toUpperCase()){const e=r[a].config;if(e.type){const t=e.type;return!(!e.urlPath||"PAGE"!==t.toUpperCase())}}return!1}return!1})(t))&&(e=>{let t=null;e.directUrlUpdation&&(t={historyAction:"add"},t.pxURLPath=e.semanticURL),zr(e,!1,{urlPathObjParam:t,infoParam:null,optionsParam:null})})(e)},Jr=e=>{const t={routeEndpoint:e.routeEndpoint,requestType:e.requestType,payload:e.payload,routeKey:e.routeKey};return e.options&&(t.options=e.options),t},Xr=e=>{const t=(e=>e.state?e.state.stateObj:null)(e);t&&hi(c.showHistory(Jr(t)))},Qr=()=>Mr.getApplicationPath()!==Or(),Zr=(e,t=!1)=>{var n;Vr=e.domain,!1===t&&Br()&&(n=Xr,window.addEventListener("popstate",(e=>n(e))),window.onbeforeunload=()=>null),Mr.init(e,$r)},eo={},to=e=>{const{context:t}=e;((e,t)=>eo[t]&&Object.prototype.hasOwnProperty.call(eo[t],e))(e.reference,t)&&class{static handleExpression(e,t,n,r){const o=this.getContext(e,r);dr({actionObject:{action:"decexp",params:{source:e,value:t,targets:n},context:o}}).then((e=>e.json())).then((e=>{this.updateState(e,r)})).catch((e=>window.console.log(e)))}static getContext(e,t){const n=e.substring(0,e.indexOf("."));return{name:n,class:Ja.getProperyValue(`${n}.pxObjClass`,null,t)||Ja.getProperyValue(`${n}.pyClassName`,null,t)}}static updateState(e,t){Object.keys(e).forEach((n=>hi({type:it,payload:{context:t,reference:n,value:e[n]}})))}}.handleExpression(e.reference,e.value,eo[t][e.reference],t)},no=new class{constructor(){this._dataSourceMap={}}hasContextName(e){return e in this._dataSourceMap}addContextName(e,t){t&&Object.keys(t).length>0?this._dataSourceMap[e]=t:this._dataSourceMap[e]={}}getContextObjectByName(e){return e in this._dataSourceMap?this._dataSourceMap[e]:null}deleteContextName(e){this.hasContextName(e)&&delete this._dataSourceMap[e]}addOrUpdatePropertyInContext(e,t,n){if(this.hasContextName(e)){const r=this.getContextObjectByName(e);if(Array.isArray(n))r[t]=n;else{const e=r[t];r[t]=[...new Set([...e,n])]}}else{const r={};Array.isArray(n)?r[t]=n:r[t]=[n],this.addContextName(e,r)}}deletePropertyInContext(e,t){if(this.hasContextName(e)){const n=this.getContextObjectByName(e);t in n&&delete n[t]}}getPropertyFromContext(e,t){if(this.hasContextName(e)){const n=this.getContextObjectByName(e);if(t in n)return n[t]}return[]}getDependencies(e,t){const n=this.getPropertyFromContext(e,t),r=new Set(n);return n.forEach((e=>{r.add(e)})),[...r]}},ro=class{static getPropertyName(e){return bn.getPropertyName(e)}static isProperty(e){return bn.isProperty(e)}static getLeafPropertyName(e){return bn.getLeafPropertyName(e)}static isPropertyInternal(e){return e.startsWith("px")||e.startsWith("pz")}},oo={},so={},ao={},io=e=>{const t=e.getContextName();oo[t]||(oo[t]=[]),so[t]||(so[t]=[],ao[t]=[])},co=e=>(null==e?void 0:e.split(".").map((e=>{if(-1!==e.indexOf("[")){const t=e.indexOf("["),n=e.indexOf("]"),r=e.substring(t+1,n),o=Number(r)+1;return`${e.substring(0,t)}(${o})${e.substring(n+1)}`}return e}))).join("."),lo=(e,t)=>{const n=so[e],r=ao[e],o=xn(t),s=null==o?void 0:o.substring(0,o.indexOf("["));(null==r?void 0:r.indexOf(s))<0&&ao[e].push(s),(null==n?void 0:n.indexOf(o))<0&&so[e].push(o)},uo=(e,t=0,n,r={})=>{const{skipStateUpdate:o=!0}=r,s=n.getContextName();let a=n.getReferenceList();const i=n.getPageReference();a||(a=((e,t)=>{const n=e.indexOf(st.CONTENT)+st.CONTENT.length,r=e.indexOf(`[${t}]`);return e.substring(n,r)})(i,t)),io(n),lo(s,`${a}[${t}]`);const c={instruction:at.LIST_ACTIONS.UPDATE,content:{...ot.unflatten(e)}};((e,t)=>{const{target:n,listIndex:r}=e;let o=!1;const s=oo[t];if(s&&s.length>0){const e=s[s.length-1],{target:t,listIndex:a,instruction:i}=e;n===t&&r===a&&[at.LIST_ACTIONS.UPDATE,at.LIST_ACTIONS.INSERT].includes(i)&&(o=!0)}return o})({target:co(a),listIndex:t+1},s)?((e,t)=>{const n=oo[t].length-1,r=oo[t][n].content;oo[t][n].content={...r,...e}})(c.content,s):oo[s].push({...c,target:co(a),listIndex:t+1}),o||hi(qa({...c,listIndex:t,context:s,referenceList:i}))},po=(e,t)=>{const[,n]=e.split(".");return n===t},ho=(e,t,n)=>{const r={};return Object.values(e).forEach((e=>{if(po(e,n)){let n=ot.getPropertyName(e);n=n.substr(n.indexOf(".")+1).split(".");const o=ot.getIn(t,n);r[n[n.length-1]]=o}})),r},{APP:fo}=at;let go={};const yo="You will lose unsaved changes. Do you want to continue?",mo=(e=fo.APP,t)=>{let n=[];t||(n=(e=>{const t=jn(),n=[];if(t[e])for(const r in t[e].fieldOrder)!Object.prototype.hasOwnProperty.call(t[e].fieldOrder,r)||!1!==t[e].fieldOrder[r].getConfigProps().visibility&&!1!==t[e].fieldOrder[r].isMounted||n.push(r);return n})(e));const r={},o=go[e];for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&-1===n.indexOf(e)&&ot.buildObject(e,r,o[e].value);return r},Io=e=>{var t;const{context:n}=e,r=e.reference.startsWith(".")?e.reference.substr(1):e.reference;null===(t=go[n])||void 0===t||delete t[r]},Eo=e=>go[e]&&Object.keys(go[e]).some((t=>go[e][t].initialValue!==go[e][t].value)),Ao=e=>{e&&go[e]?go[e]={}:"all"===e&&(go={})},_o=e=>e=>t=>{const{type:n,payload:r={}}=t||{};var o;if(n===ct&&(to(r),(e=>{const t=ot.getPropertyName(e.propertyName),{context:n,pageReference:r,value:o}=e;ci.triggerCascade(n,`${r}.${t}`,o);const s=no.getDependencies(n,`${r}.${t}`),a={context:n,datapages:{}};s.forEach((t=>{var o;const s=t.replace(`${r}`,"").split(".").filter((e=>!!e));s.pop();const i=s.join("."),c=(null===(o=mi(`.${i}`,r,n))||void 0===o?void 0:o.classID)||e.classID,l=pn(t.split(".").pop(),c),{datasource:u}=l,p={};let d=[];u.parameters.forEach((e=>{null!=e&&e.value?(p[e.name]=ro.isProperty(e.value)?mi(`.${ot.getFullPropertyReference([i,ot.getPropertyName(e.value)])}`,r,n):e.value,void 0===p[e.name]||null===p[e.name]||""===p[e.name]?(p[e.name]="",d.push(at.NULL_STRING)):d.push(p[e.name])):(p[e.name]="",d.push(at.NULL_STRING))})),d=u.name.concat(at.UNDERSCORE_STRING,ot.getHashedString(d.join(at.HASH_DELIMITER)));const{name:h}=u,f=mn(h);a.datapages[d]={mode:u.mode,propertyName:t,name:u.name,dataViewParameters:p,refreshStrategy:null==f?void 0:f.refreshStrategy}})),s.length&&hi({type:Qt,payload:a})})(r),(((e,t)=>{if(!e||!t)return!1;const n=go[e]&&go[e][t];return!!n&&n.previousValue!==n.value})(r.context,r.reference)||(o=r.context,r.reference,o&&oo[o]&&(1===oo[o].length&&Object.keys(oo[o][0].content).length>0||oo[o].length>1)))&&si(r)),n===tn){const{context:e,referenceList:t}=r;si({context:e,pageReference:t})}if(n===it){const{reference:e}=r;(class{static isPageInstruction(e){return e&&e.includes("[")&&e.includes("]")}}).isPageInstruction(e)||(e=>{const{payload:t}=e,{context:n,initialValue:r="",isStrictTracking:o}=t,s=t.reference.startsWith(".")?t.reference.substr(1):t.reference;go[n]=go[n]||{},go[n][s]?go[n][s].previousValue=go[n][s].value:(go[n][s]={initialValue:r||mi(t.reference,null,n)},go[n][s].previousValue=go[n][s].initialValue),go[n][s].value=t.value,o&&go[n][s].value===go[n][s].initialValue&&Io(t)})(t),r.removePropertyFromChangedList&&Io(r)}if(n===xt||n===wt){const{transientItemID:e,data:t}=r;ot.iterateLeafNodes(t,(t=>{Io({context:e,value:"",reference:t.join(".")})}))}n&&[Lt,Tt,Ut].includes(n)&&(Ao(r.context),ei(r.context),(r.childContainersContexts||[]).forEach((e=>{Ao(e)})),(r.transientItems||[]).forEach((e=>{Ao(e)}))),e(t)},vo=mo,So={},bo=(e,t)=>{e.DeclareExpressions&&((e={})=>{ot.copy(e,eo)})({[t.context]:e.DeclareExpressions})},Co=(e,t,n=!1)=>{const r=ot.getIn(e,at.RESOURCERS);r&&((e=>{e&&fn(e)})(r),bo(r,t),(e=>{var t;e.Theme&&(t=e.Theme,ot.copy(t,So))})(r)),n||Kr({...e,options:t})},Po=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getTypes",{SCRIPT:"script",STYLE:"link"}),this.loaderObj={},this.staticServerURL="",this.constellationServiceUrl="",this.loadedAssets={},this.appAlias="",this.b2sJWT=null}getStaticServerUrl(){return this.staticServerURL}getConstellationServiceUrl(){return this.constellationServiceUrl}setAppAlias(e){this.appAlias=e}getAppAlias(){return this.appAlias}async getSvcComponentsConfig(e,t={}){var n,r;let o="",s=0;e.forEach((e=>{o+=`${0===s?"?":"&"}field${s}=${e.field}&value${s}=${e.value}`,s+=1}));const a=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/componentslist${o}`,i=await fetch(a,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>e.json())).then((e=>({data:e})));if(t.alternateDesignSystemURL&&1===(null==i||null===(n=i.data)||void 0===n||null===(r=n.components)||void 0===r?void 0:r.length)){const n=`${t.alternateDesignSystemURL}${t.alternateDesignSystemURL.endsWith("/")?"":"/"}components/${e[0].value}/config-ext.json`;await fetch(n,{method:"GET"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).then((e=>(i.data.components[0].alternateDesignSystemConfig=e,{data:e}))).catch((e=>{i.data.components[0].alternateDesignSystemConfig={error:e.message}}))}return i}getSvcImage(e){const t=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/image/${e}`;return fetch(t,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>e.blob())).catch()}getSvcLocale(e,t){const n=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/locales/${e}/${t}`;return fetch(n,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}})}getSvcComponent(e){const t=`${this.staticServerURL}${this.staticServerURL.endsWith("/")?"":"/"}v102/${this.appAlias}/component/${e}`;return fetch(t,{method:"GET",credentials:"include",headers:{Authorization:`Bearer ${this.b2sJWT}`}}).then((e=>{if(!e.ok)throw Error(e.statusText);return e})).then((e=>e.text())).then((e=>e)).catch()}loadSvcComponent(e){return this.getSvcComponent(e).then((t=>{const n=document.createElement("script");return n.type="text/javascript",n.innerHTML=t,document.head.appendChild(n),e}))}initServer(e,t){this.staticServerURL=e;const n=e.lastIndexOf("/",e.length-2);n>0&&(this.constellationServiceUrl=e.substring(0,n)),this.b2sJWT=t}register(e,t){this.loaderObj[e]=t}getLoader(e){let t={};return t=e?this.loaderObj[e]:(e,t)=>new Promise(((n,r)=>{const o=document.createElement(t);"script"===t?(o.onload=()=>{n(e)},o.onerror=()=>{r(e)},o.type="text/javascript",o.charset="UTF-8",o.async=!1,o.src=e):(o.type="text/css",o.rel="stylesheet",o.href=e),document.head.appendChild(o)})).catch(),t}loadAssets(e){if(!e)return Promise.resolve();const t=[];return e.forEach((e=>{this.loadedAssets[e]||(-1!==e.indexOf(".js")?t.push(this.getLoader()(this.getStaticServerUrl()+e,this.getTypes.SCRIPT)):-1!==e.indexOf(".css")&&this.getLoader()(this.getStaticServerUrl()+e,this.getTypes.STYLE),this.loadedAssets[e]=!0)})),Promise.all(t)}},To="component-loader",Oo={},No=async(e,t)=>{const n=Po.getLoader(),r=t||Po.staticServerURL;if(!e||window.PCore&&!1===window.PCore.getBehaviorOverride("dynamicLoadComponents"))return Promise.resolve();if(Po.getLoader(To))return await Po.getLoader(To)(e||[],r);const o=[];return e.forEach((e=>{if(Oo[e])return;const t=vn.getComponent(e);if(t)(t.scripts||[]).forEach((e=>{const t=e.startsWith("http")?e:r+e;o.push(n(t,Po.getTypes.SCRIPT))})),(t.styles||[]).forEach((e=>{o.push(n(r+e,Po.getTypes.STYLE))})),Oo[e]=!0;else{const t=`${Po.getConstellationServiceUrl()}/v860/${Po.getAppAlias()}/component/${e}.js`;o.push(n(t,Po.getTypes.SCRIPT))}})),Promise.all(o)},Ro=new Map,Do=e=>{if(e){const t=e.toLowerCase();let n="primary";return Ro.has(t)&&(n=Ro.get(t)),n}return""},xo="pxOperator",wo="pxApplication",Mo="pxLocale";class Lo{static setEnvironmentInfo(e){this.environmentInfoObject=e}static getOperatorName(){return this.environmentInfoObject[xo].pyUserName}static getOperatorWorkGroup(){return this.environmentInfoObject[xo].pyWorkGroup}static getOperatorIdentifier(){return this.environmentInfoObject[xo].pyUserIdentifier}static getOperatorImageInsKey(){return this.environmentInfoObject[xo].pyImageInsKey}static getApplicationLabel(){return this.environmentInfoObject[wo].pyLabel}static getPortalName(){return Mr.getPortalName()}static getApplicationName(){return this.environmentInfoObject[wo].pyRuleName}static getUseLocale(){return this.environmentInfoObject[Mo].pyUseLocale}static getAccessGroup(){return this.environmentInfoObject[xo].pyAccessGroup}static getTimeZone(){return this.environmentInfoObject[Mo].pyTimeZone}static getTheme(){return this.themeOverrides}static setTheme(e){return this.themeOverrides=e,this.themeOverrides}static setLocale(e){this.locale=e.replace("_","-")}static getEnvironmentKeys(){return Object.keys(at.ENV_INFO_KEYS)}static getMaxAttachmentSize(){return this.environmentInfoObject[wo].pyMaxAttachmentSize}static getDefaultOperatorDP(){return this.environmentInfoObject[wo].pyDefaultOperatorDP}static getDocumentUrlDP(){return this.environmentInfoObject[wo].pyDocumentUrlDP}static getCaseInstanceListDP(){return this.environmentInfoObject[wo].pyCaseInstanceListDP}static getBaseLocale(){return this.environmentInfoObject[wo].pyBaseLocale||"en-US"}static getRenderingMode(){return this.environmentInfoObject.renderingMode}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lo,"getLocale",(()=>Lo.locale));const jo=Lo,Uo=e=>{if(e){const{stageID:t,stages:n=[]}=e,r=n.length;for(let e=0;e<r;e+=1)if(n[e].ID===t)return"create"===n[e].transitionType&&"active"===n[e].visited_status}return!1},ko=(e,t)=>{if(e&&t){const n=ot.getIn(t,["assignments","0","assigneeInfo"],{}),{ID:r,type:o}=n;return"worklist"===o&&r===e}return!1},Vo=e=>{const{activeActionID:t,availableActions:n}=e;if(t&&n){const e=n.find((e=>e.ID===t));return Boolean(e)}return!1},Fo=(e,t)=>{const n=Ja.getProperyValue(st.CASE_INFO.ACTIVE_ACTION_ID,t,e),r=Ja.getProperyValue(st.CASE_INFO.AVAILABLEACTIONS,t,e);let o=!1;if(r&&n){const e=r.find((e=>e.ID===n));e&&(o=e.type.toLowerCase()===st.LOCAL_ACTION_TYPE.CASE_WIDE.toLowerCase())}return o},$o=e=>{var t;const n=null==e||null===(t=e.parentCaseInfo)||void 0===t?void 0:t.ID;return Boolean(e&&n)},Go=e=>Ii(null,at.CASE_VIEW_MODE_PROP,e)===at.PERFORM_MODE&&(-1!==e.indexOf(at.WORKAREA)||-1!==e.indexOf(at.MODAL)),Bo={CASE_INFO:`${at.DATA}.${at.CASE_INFO.CASE_INFO}`,CASE_CLASS_NAME:`${at.DATA}.${at.CASE_INFO.CASE_TYPE_ID}`,NEXT_ASSIGNMENT_INFO_ID:`${at.DATA}.${at.NEXT_ASSIGNMENT_INFO_ID}`,ASSIGNMENTS:`${at.DATA}.${at.CASE_INFO.ASSIGNMENTS}`,CASE_INFO_ID:`${at.DATA}.${at.CASE_INFO.CASE_INFO_ID}`,CASE_FIRST_FLOW_ACTION_NAME:`${at.DATA}.${at.CASE_INFO.ASSIGNMENTACTION_ID}`,CASE_FIRST_ASSIGNMENT_ID:`${at.DATA}.${at.CASE_INFO.ASSIGNMENT_ID}`},Wo=(e,t)=>{const{vcName:n,containerName:r}=t;return r||n||Do(e)},Ho=e=>{const t=e.lastIndexOf(at.FORWARD_SLASH_STRING)+1,n=e.lastIndexOf(at.UNDERSCORE_STRING);return e.substring(t,n)},qo=e=>e===Rs.WORKAREA,Yo=e=>e===Rs.MODAL,zo=e=>e===St,Ko=e=>ot.getIn(e,Bo.CASE_INFO,{}),Jo=e=>{const[,t]=e?e.split(" "):[];return t},Xo=e=>ot.getIn(e,Bo.CASE_CLASS_NAME,at.EMPTY_STRING),Qo=e=>ot.getIn(e,Bo.CASE_INFO_ID,at.EMPTY_STRING),Zo=(e,t)=>{const{removeActionPayload:n,target:r}=t;if(n&&n.containerItemID){const{containerItemID:t,context:o}=n;e.push(Ga(La,{containerItemID:t,context:o||Bs(t),target:r}))}},es=e=>{const t=di();if(!e)return!1;const n=gr(e),r=ra(n),o=ra(e);if(!r||!o)return!1;const s=ws(r,n),a=ws(o,e);if(!s||!a)return!1;const{key:i}=s||{};let{key:c}=a||{};var l,u,p;return c||(c=null===(l=t.getState().data)||void 0===l||null===(u=l[e])||void 0===u||null===(p=u.caseInfo)||void 0===p?void 0:p.ID),i&&c&&i===c},ts=(e,t,n={})=>{const{skipFlowNameUpdate:r}=n,o=Qo(t);if(ot.setIn(e,"key",o),!r&&(e=>{const t=ot.getIn(e,Bo.ASSIGNMENTS,[]);return t&&t.length>0})(t)){const n=(e=>ot.getIn(e,Bo.CASE_FIRST_ASSIGNMENT_ID,at.EMPTY_STRING))(t),[,r]=n.split("!");ot.setIn(e,"flowName",r)}},ns=(e,t)=>{const{attachmentsExist:n}=t;n&&ot.setIn(e,st.SUMMARY_OF_ATTACHMENTS_LAST_REFRESH_TIME,(new Date).toLocaleString()),ot.setIn(e,st.SUMMARY_OF_ASSIGNMENT_LAST_SUBMIT_TIME,(new Date).toLocaleString())};function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class os{constructor(){rs(this,"GENERIC_BUNDLE_KEY","@BASECLASS!GENERIC!PYGENERICFIELDS"),rs(this,"BASE_CLASS","@BASECLASS"),rs(this,"DATA_PAGE_LOCALECONTEXT","datapage"),rs(this,"setLocaleForRule",((e,t)=>{const n=e.LocaleContent||e;this.localeStore[t]=n})),rs(this,"getLocaleForRule",((e=this.GENERIC_BUNDLE_KEY)=>this.localeStore[e])),rs(this,"resetLocaleStore",(()=>{this.localeStore={}})),this.localeStore={},this.getLocaleValue=this.getLocaleValue.bind(this)}getLocaleValue(e,t,n=this.GENERIC_BUNDLE_KEY){t=t?`${t}.fields`:"fields";const r=this.localeStore[n.toUpperCase()];return(r?ot.getIn(r,t,{}):{})[e]||e}static async getLocaleJsons(e){const t=jo.getUseLocale(),n=[],r=PCore.getLocaleUtils().localeStore;if((e=(e=e.filter((e=>!r[e]))).map((e=>e.toUpperCase()))).length>0){const r=e.map((e=>({localeRuleKey:e,promise:Po.getSvcLocale(t,`${e}.json`)}))),o=await Promise.allSettled(r.map((e=>e.promise)));await Promise.all(o.map((async(e,t)=>{if("fulfilled"===e.status){const o=r[t];let s;try{s=await e.value.json()}catch{s=null}s&&n.push({localeRuleKey:o.localeRuleKey,jsonData:s})}})))}return n}async loadLocaleResources(e){const t=jo.getUseLocale(),n=jo.getBaseLocale();if(jo&&t&&t!==n&&(null==e?void 0:e.length)>0)try{(await os.getLocaleJsons(e)).forEach((e=>{this.setLocaleForRule(e.jsonData,e.localeRuleKey)}))}catch(e){console.warn(e)}}setTimezone(e){this.timezone=e}getTimeZoneInUse(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return this.timezone||e}}const ss=new os,{RESOURCE_TYPES:as}=st,is={PAGE:"page",FORM:"form"},cs={[as.CASE]:[Wt,Gt,Bt],[as.PAGE]:[Ft],[as.DATA]:[$t]},ls=(e,t,n={})=>{if(!e)return{};const r={etag:e.etag},{RemoteSystemID:o}=n;return e[st.REMOTE_SYSTEM_ID]||e[st.REMOTE_SYSTEM_ID.toLowerCase()]||o?r.RemoteSystemID=e[st.REMOTE_SYSTEM_ID]||e[st.REMOTE_SYSTEM_ID.toLowerCase()]||o:xr.isRemoteCase(t)&&(r.RemoteSystemID=xr.getRemoteHeader(t)),r},us=(e,t={})=>{const{onlyChangedData:n=!1}=t;let r={};n||(r=((e,t={})=>{const n={},r=fi(e),{ignoreFieldsInsideList:o=!0}=t;if(r&&r.caseInfo&&r.caseInfo.content){const{formInputs:t,attachments:s}=((e,t={})=>{const n=[],r=[],o=jn(),{ignoreFieldsInsideList:s=!0}=t;if(o[e])for(const t in o[e].fieldOrder)if(Object.prototype.hasOwnProperty.call(o[e].fieldOrder,t)){const a=o[e].fieldOrder[t],i=Un(a),c=a.isInsideList();i&&("Attachment"===a.getMetadata().type?a.attachmentsInfo&&(a.attachmentsInfo.ID||a.attachmentsInfo.delete)&&r.push(a.attachmentsInfo):c&&(!c||s)||Array.isArray(a.getValue(t))||n.push(t))}return{formInputs:n,attachments:r}})(e,{ignoreFieldsInsideList:o});s&&s.length>0&&ot.buildObject("caseInfo.attachments",n,s),t&&t.length>0?t.forEach((e=>{ot.buildObject(e,n,ot.getIn(r,e))})):ot.buildObject("caseInfo.content",n,{})}return n})(e));const o=mo(e,!1),s=Ye()(o,r);let a={},i=!1;if(s&&s.caseInfo){a={...s.caseInfo},s.caseInfo.attachments&&(i=!0);const t=oo[e]||[];t&&(a.pageInstructions=t),(e=>so[e]||[])(e).forEach((e=>{a&&a.content&&ot.deleteIn(a.content,(e=>{if(!e)return"";const t=e.split(".");let n="";for(const e of t)if(e){if(-1!==e.indexOf("[")&&-1!==e.indexOf("]"))return n+=`['${e}']`,n;n+=`['${e}']`}return n})(e))}))}return ot.escapeObject(a),{content:a,attachmentsExist:i}},ps=(e,t)=>{let n,r,o={};const s=ot.getIn(e,at.UI_RESOURCERS),a=ot.getIn(e,"confirmationNote");s?(n=ot.getIn(e,at.UI_RESOURCERS_CONTEXT_DATA),r=ot.getIn(e,at.ROOT),o=ot.getIn(e,at.ACTION_BUTTONS)):a&&(r={});const{data:i={},Errors:c,semanticURL:l,key:u,flowName:p}=e,d=ot.getIn(e,"nextAssignmentInfo",null),h=ot.getIn(e,"nextAssignmentInfo.context",""),{isInCreateStage:f,openCaseViewAfterCreate:g}=t;return{data:{...i,key:u,flowName:p,caseInfo:{...i.caseInfo,actionButtons:o,headers:t.headers},[at.CONTEXT_DATA]:f?{...i[at.CONTEXT_DATA],...n,openCaseViewAfterCreate:g,errors:c}:{...i[at.CONTEXT_DATA],...n,errors:c}},semanticURL:l,nextAssignmentInfo:d,assignmentContext:h,key:u,root:r,...t}},ds=async(e,t,n,r=!1,o=!1)=>{const s=ot.getIn(e,at.LOCALE_REFERENCES);await ss.loadLocaleResources(s);const a=ot.getIn(e,at.COMPONENTS);if(a)try{await No(a)}catch(e){console.error(e)}const i={actionConfig:t,...n};r?Kr({...e,options:i,directUrlUpdation:!0}):Co(e,i,o)},hs=(e="")=>{const t=e.indexOf(" "),n=e.indexOf("!");return e.substring(t+1,n)},fs=e=>{if(e){const[,t]=e.split("!");return{key:hs(e),flowName:t}}return{}},gs=e=>{const{payload:t}=e,{err:n,context:r,actionMgrID:o}=t,s=n&&n.response?n.response.data:"",a=(e=>{const t=jn(),n=[];if(t[e])for(const r in t[e].fieldOrder)Object.prototype.hasOwnProperty.call(t[e].fieldOrder,r)&&!1!==t[e].fieldOrder[r].getConfigProps().visibility&&n.push(r.substring(r.indexOf("content")+8));return n})(r);return o&&Bn.rejectActionByID(o),Ga(Ba,"Error action triggered",s,r,a)},ys=(e,t)=>zs(e)&&Js(e)?Ga(ka,t):Ga(Pa,t),ms=(e,t,n=at.APP.APP,r={})=>{let o=null;const{buildNew:s=!0}=r;return zs(e)?o=Js(e)?$s(e):yr(t,n):Ks(e)&&(Js(e)&&!s?o=Ws(e):Js(e)&&!s||(o=yr(t,n))),o},Is=e=>e&&e.type===Pt,Es=e=>{let t=!1;const n=Ys(e);for(let e=0;e<n.length;e+=1){const r=n[e];if(r&&Eo(r)){t=!0;break}}return t},As=(e,t={})=>{let n=!1,r=!1,o={},s=!0,a=!1,i=!1;const{showConfirmDialogForMaxDocumentLimitReached:c=!1,dirtyMessage:l,skipChildDirtyState:u=!1}=t;if(zs(e)){const t=$s(e),r=Bs(t);Eo(r)&&(n=!0),u||n||(n=Es(t))}else if(Ks(e)&&Zs(e)){let t=na(e);t||(t=$s(e),r=!0),o.containerItemID=t,o.context=Bs(t)}if(n){const e=l||yo;a=window.confirm(ss.getLocaleValue(e,"Messages"))}if(!a&&n&&(o={},s=!1),r){const e=ss.getLocaleValue("You have reached maximum limit of pending changes. Please commit/cancel one or more changes to continue.","Messages");c?i=window.confirm(e):(window.alert(e),s=!1)}return!i&&r&&(o={},s=!1),{continueExecution:s,removeActionPayload:o}},_s=(e,t)=>{let n=!1;const{insKey:r,isParallelCall:o,skipFlowNameCheck:s}=t;if(!r)return{};const[,a]=r.split("!")||"",i=s?r:hs(r),c=ks(e,i);let l={},u=!1;if(c&&(n=!0,l=ws(e,c),!s)){var p;let e=null===(p=l)||void 0===p?void 0:p.flowName;const t=Ho(c),r=Hs(c);if(r.length){var d;const n=Lr(t,r[0]);e=null===(d=ws(n,r[0]))||void 0===d?void 0:d.flowName}else n=e===a;(e!==a||o)&&(u=!0)}return{activate:n,activateContainerActionPayload:{target:e,isParallelAssignment:u,containerItemID:c,semanticURL:l.semanticURL,insKey:r}}},vs=(e,t,n)=>e===as.PAGE?((e,t={})=>{let n=!1;const{semanticURL:r}=t,o=ks(e,r);return o&&(n=!0),{activate:n,activateContainerActionPayload:{target:e,containerItemID:o,semanticURL:r}}})(t,n):e===as.ASSIGNMENT?_s(t,n):e===as.CASE?_s(t,{...n,skipFlowNameCheck:!0}):{},Ss=(e=[])=>{Js(`${at.APP.APP}/${at.PREVIEW}`)&&e.push(Ga(Ca,ea({context:st.APP.APP,name:at.PREVIEW})))},bs=e=>{let t;for(const n of Object.keys(cs))if(cs[n].includes(e)){t=n;break}return t},Cs=(e,t)=>{const{data:n={},context:r,caseViewMode:o}=e,s={data:{...n},caseViewMode:o,context:gr(r)};ot.deleteIn(s.data,"shared"),ot.setIn(s.data,["context_data","caseViewMode"],o),t.push({type:nn,payload:{context:s.context}}),t.push(Ga(Ia,s))},Ps=e=>{if(Array.isArray(e)&&e.length>0){const r=e[0];if("other"===ot.getIn(r,["payload","assignmentContext"])){var t,n;const o=ot.getIn(r,["payload","nextAssignmentInfo","ID"]);if(null!=r&&null!==(t=r.payload)&&void 0!==t&&t.isProcessAction){const t={acName:ot.getIn(r,["payload","target"]),caseID:r.payload.data.caseInfo.ID,containerItemID:ot.getIn(r,["payload","context"]),context:ot.getIn(r,["payload","context"])},n={type:It,payload:{...t}};e.push(n),e=e.filter((e=>{var t,n;return null==e||null===(t=e.payload)||void 0===t||null===(n=t.data)||void 0===n||delete n.caseMessages})),hi(e),e=e.filter((e=>e.type!==It))}const s={assignmentID:o,vcName:at.PRIMARY,targetContainerName:ot.getIn(r,["payload","target"]),context:ot.getIn(r,["payload","context"]),isChild:!0,isProcessAction:null==r||null===(n=r.payload)||void 0===n?void 0:n.isProcessAction},a={type:Et,payload:{...s}};e.push(a),hi(e)}else hi(e)}},Ts=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"error",(e=>{console.error(e)}))}},Os={defaultLimit:16},Ns={SINGLE:"single",MULTIPLE:"multiple"},Rs={PRIMARY:"primary",WORKAREA:"workarea",MODAL:"modal",PREVIEW:"preview"},Ds=()=>di().getState().containers,xs=e=>e?di().getState().containers[e]:(Ts.error("getContainerData: target is the required parameter"),null),ws=(e,t)=>{if(!e||!t)return Ts.error("getContainerItemData: target and containerItem are required parameter"),null;const n=Ds()[e];return n&&n.items&&n.items[t]||null},Ms=e=>{var t;return e?(null===(t=di().getState().containers[e])||void 0===t?void 0:t.items)||{}:(Ts.error("getContainerItems: target is the required parameter"),null)},Ls=e=>{var t;return e?(null===(t=di().getState().containers[e])||void 0===t?void 0:t.accessedOrder)||[]:(Ts.error("getContainerAccessOrder: target is the required parameter"),[])},js=e=>{var t;return e?(null===(t=Ls(e))||void 0===t?void 0:t.length)>0||!1:(Ts.error("areContainerItemsPresent: target is the required parameter"),!1)},Us=(e,t,n)=>{if(!e||!t)return Ts.error("isContainerItemExists: target and key are required parameters"),!1;const r=Ds()[e],o=r&&r.items||null,s=n||((e,t)=>e===t);if(t&&o)for(const e in o)if(s(t,o[e].key))return!0;return!1},ks=(e,t,n)=>{if(!e||!t)return Ts.error("getContainerItemName: target and key are required parameters"),null;const r=Ds()[e],o=r&&r.items||null,s=n||((e,t)=>e===t);if(t&&o)for(const e in o)if(s(t,o[e].key))return e;return null},Vs=(e,t)=>{if(!e||!t)return Ts.error("isContainerInitialized: context and name are required parameters"),!1;const n=Ds();return n&&Object.prototype.hasOwnProperty.call(n,`${e}/${t}`)},Fs=(e,t)=>{if(!e||!t)return Ts.error("getContainerType: context and name are required parameters"),null;const n=Ds()[`${e}/${t}`];return n&&n.type},$s=e=>{if(!e)return Ts.error("getActiveContainerItemName: target is the required parameter"),null;let t=null;const n=Ds();if(n&&n[e]){const r=n[e],{accessedOrder:o}=r;t=o&&o.length>0?o[o.length-1]:null}return t},Gs=(e,t,n)=>{if(!e||!t)return Ts.error("isContainerItemActive: target and key are required parameters"),!1;const r=ks(e,t,n);return!!r&&r===$s(e)},Bs=e=>{if(!e)return Ts.error("getDataContextName: containerItemName is required parameters"),null;let t=null;const n=Ds();for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r].items){const o=n[r].items[e];if(t=o?o.context:null,t)break}return t},Ws=e=>{if(!e)return Ts.error("getActiveContainerItemContext: target is required parameters"),null;let t=null;const n=Ds();if(n&&n[e]){const r=n[e],{accessedOrder:o}=r,s=o&&o.length>0?o[o.length-1]:null;t=Bs(s)}return t},Hs=e=>{if(!e)return Ts.error("getChildContainerItems: containerItemName is required parameters"),[];const t=e.endsWith("/")?e:`${e}/`;let n=[],r=!1;const o=Ds(),s=n=>{const o=[];return Object.keys(n).forEach((n=>{n.startsWith(t)&&n!==t&&o.push(n),n===e&&(r=!0)})),o};for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&o[e].items){const t=s(o[e].items);t&&t.length>0&&(n=n.concat(t)),n=n.sort()}return r?n:[]},qs=e=>{if(!e)return Ts.error("getChildContainers: containerItemName is required parameters"),[];const t=[],n=Ds();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&r.startsWith(e)&&r!==e&&t.push(r);return t},Ys=e=>{if(!e)return Ts.error("getChildContainersContexts: parentContainerItemID is required parameters"),[];const t=[],n=Ds();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&r.startsWith(e)&&r!==e&&(Ls(r)||[]).forEach((n=>{Bs(n)!==e&&t.push(Bs(n))}));return t},zs=e=>e?e&&xs(e)&&xs(e).type===Ns.SINGLE:(Ts.error("isContainerSingleMode: target is required parameters"),null),Ks=e=>e?e&&xs(e)&&xs(e).type===Ns.MULTIPLE:(Ts.error("isContainerMultipleMode: target is required parameters"),null),Js=e=>{var t;return e?xs(e)&&xs(e).items&&Object.keys(null===(t=xs(e))||void 0===t?void 0:t.items).length>0||!1:(Ts.error("hasContainerItems: target is required parameters"),!1)},Xs=e=>e&&Os[e]?Os[e]:Os.defaultLimit,Qs=(e,t=Os.defaultLimit)=>{e?Os[e]=t:Ts.error("setContainerLimit: target is required parameter")},Zs=e=>{if(!e)return Ts.error("isContainerLimitReached: target is required parameter"),!1;let t=!1;const n=xs(e),{items:r={}}=n,o=Object.keys(r),s=Xs(e);return o&&o.length>0&&o.length>=s&&(t=!0),t},ea=e=>{if(!e||!e.name||!e.context)return Ts.error("resetContainersPayload: containerInfo object should contain name and context"),null;const t=null==e?void 0:e.name,n=`${null==e?void 0:e.context}/${t}`,r=xs(n),o=Array.isArray(null==r?void 0:r.accessedOrder)&&(null==r?void 0:r.accessedOrder.map((e=>{var t;return null==r||null===(t=r.items[`${e}`])||void 0===t?void 0:t.context})))||[],s=qs(`${at.APP.APP}/${at.PREVIEW}`),a=Ys(`${at.APP.APP}/${at.PREVIEW}`);return{context:null==e?void 0:e.context,name:t,containerItems:[...o,...a],childContainers:s}},ta=e=>{if(!e)return Ts.error("isContainerDirty: containerItemID is the required parameter"),!1;const t=Bs(e);return Eo(t)||Es(e)},na=e=>{if(!e)return Ts.error("getLeastRecentlyUsedNonDirtyContainerItemID: target is required parameter"),null;let t;const n=xs(e),{accessedOrder:r=[]}=n;for(let e=0;e<r.length;e+=1){const n=r[e];if(!ta(n)){t=n;break}}return t},ra=e=>{if(!e)return Ts.error("getTargetFromContainerItemID: containerItemID is the required parameter"),null;const t=e.lastIndexOf(at.UNDERSCORE_STRING);return e.substring(0,t)},oa=(e,t={})=>{if(!e)return Ts.error("closeContainerItem: containerItemID is the required parameter"),Promise.reject(new Error("closeContainerItem: containerItemID is the required parameter"));const n=ra(e),r=Bs(e),{skipDirtyCheck:o}=t;let s=!0,a=[];if(ta(e)&&!o&&(s=window.confirm(ss.getLocaleValue(yo,"Messages"))),s){const{accessedOrder:t=[],items:o={}}=xs(n);a=t.filter((t=>t!==e));const s=a[a.length-1],i=o[s]||{},{semanticURL:c=at.FORWARD_SLASH_STRING,context:l}=i;a.length>0&&c&&c!==at.FORWARD_SLASH_STRING&&Kr({directUrlUpdation:!0,semanticURL:c,options:{containerItemID:s,context:l}}),hi(La({containerItemID:e,context:r,target:n}))}return Promise.resolve({newAccessedOrder:a})},sa=(e,t,n,r)=>{const o="root",s=yr(t,o,!0),a=Lr(t,o),i={data:n,context:r?"app":s},c=[Pa({root:e,containerItemID:s,context:r?"app":s,target:a,containerName:t})];c.push(Ia(i)),hi(c)},aa=(e,t,n)=>{let r=Ls(e);r=r.filter((e=>e!==t));let o=!1;for(let e=0;e<r.length;e+=1)if(Bs(r[e])===n){o=!0;break}return o},ia=e=>{if(!e)return Ts.error("isContainerItemContextBeingUsedInOtherContainers: containerItemID is the required parameter"),!1;const t=Ds(),n=Bs(e),r=Object.keys(t);let o=!1;for(let t=0;t<r.length&&(o=aa(r[t],e,n),!o);t+=1);return o},ca=e=>{Array.isArray(e)||(e=[e]);const t=Ds()||{};return e.map((e=>{const n=ra(e);return ot.getIn(t,[n,"items",e,"transientItems"])||[]})).flat()},la=e=>{const t=ot.deepClone(di().getState().data[e]);ot.iterateLeafNodes(t,(e=>ot.setIn(t,e,""))),hi(Na({transientItemID:e,data:t}))},ua=e=>{const t=ot.deepClone(di().getState().data[e]);ot.iterateLeafNodes(t,(e=>ot.setIn(t,e,""))),hi(Ra({transientItemID:e,data:t}))};class pa{static addContainerItems(e){this.items=e}static getContainerItems(){return this.items}static deleteContainerItem(e){var t;const n=null==this||null===(t=this.items)||void 0===t?void 0:t.indexOf(e);void 0!==n&&-1!==n&&this.items.splice(n,1)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pa,"items",void 0);const da=()=>pa,ha=e=>{hi({type:Vt,payload:{containerName:e}})},fa=(e,t)=>{const n=Hs(e),{key:r}=ws(ra(e),e),o=[];n.map((e=>{const{key:n}=ws(ra(e),e);if(n===r){const n={data:{caseInfo:{headers:{etag:t}}},target:ra(e),context:e};o.push({type:_t,payload:n})}})),o.length&&hi(o)},ga="CREATE_WORK",ya=e=>({type:ga,payload:e}),ma=(e,t)=>{const n=[];for(const r in e)if("object"==typeof e[r]&&-1!==r.indexOf("[")){const o=r.substring(0,r.indexOf("[")),s=r.substring(r.indexOf("[")+1,r.indexOf("]"));t[o].splice(s,1,e[r]),n.push(o)}else"object"==typeof e[r]?ma(e[r],t[r]):t[r]=e[r];for(const r in t)(Array.isArray(t[r])&&-1===n.indexOf(r)||!Array.isArray(t[r])&&!Object.hasOwnProperty.call(e,r))&&delete t[r]},Ia=e=>{var t,n;const{context:r,data:o,isArrayDeepMerge:s,preserveClientChanges:a=!1}=e,i=mo(r,!0),c=fi(r);let l={};c&&void 0!==c&&(l=JSON.parse(JSON.stringify(c))),ma(i,l);const u={caseInfo:{content:{...null===(t=l)||void 0===t||null===(n=t.caseInfo)||void 0===n?void 0:n.content}}};let p=o;return a&&(p=Si(o,u,{isArrayDeepMerge:!s})),{type:_t,payload:{...e,data:p}}},Ea=e=>({type:"SHOW_HARNESS",payload:e}),Aa=e=>({type:lt,payload:e}),_a=e=>({type:ut,payload:e}),va=e=>({type:"ADD_WORK",payload:e}),Sa=e=>({type:gt,payload:e}),ba=e=>({type:bt,payload:e}),Ca=e=>({type:Ct,payload:e}),Pa=e=>({type:Pt,payload:e}),Ta=e=>({type:Ot,payload:e}),Oa=e=>({type:Nt,payload:e}),Na=e=>({type:xt,payload:e}),Ra=e=>({type:wt,payload:e}),Da=e=>({type:Lt,payload:e}),xa=e=>({type:jt,payload:e}),wa=e=>({type:Mt,payload:e}),Ma=e=>({type:Kt,payload:e}),La=e=>{const{context:t,containerItemID:n}=e;let r=t;return r||(r=Bs(n)),e.context=r,e.deleteContext=!ia(n),e.childContainers=qs(n),e.childContainersContexts=Ys(n),e.transientItems=ca([...e.childContainersContexts,n]),n===t&&(e.caseID=mi(at.CASE_INFO.CASE_INFO_ID,"",t),e.RemoteSystemID=mi(at.CASE_INFO.REMOTESYSTEMID,"",t)),{type:Tt,payload:e}},ja=e=>{const{containerItemID:t}=e;return e.transientItems=ca([...Ys(t),t]),{type:Dt,payload:e}},Ua=e=>{const{transientItemID:t}=e;return e.transientItems=[t],{type:Rt,payload:e}},ka=e=>{const{context:t,containerItemID:n}=e;let r=t;return r||(r=Bs(n)),e.context=r,e.childContainers=qs(n),e.childContainersContexts=Ys(n),e.transientItems=ca([...e.childContainersContexts,n]),n===t&&(e.caseID=mi(at.CASE_INFO.CASE_INFO_ID,"",t),e.RemoteSystemID=mi(at.CASE_INFO.REMOTESYSTEMID,"",t)),{type:Ut,payload:e}},Va=e=>({type:mt,payload:e}),Fa=e=>({type:Et,payload:e}),$a=e=>({type:vt,payload:e}),Ga=(e,...t)=>(rr(),e(...t)),Ba=(e,t,n,r)=>({type:St,payload:{msg:e,err:t,context:n,formFields:r}}),Wa=e=>({type:Zt,payload:e}),Ha=e=>({type:en,payload:e}),qa=e=>({type:tn,payload:e}),Ya=e=>({type:"SHOW_CASE_PREVIEW",payload:e}),za=at.SUMMARY_OF_LISTS,Ka=at.SUMMARY_OF_WHEN_CONDITIONS,Ja=class{static updateData(e){Object.keys(e).forEach((t=>{hi(Ia({context:t,data:e[t]}))}))}static updateContextData(e){Object.keys(e).forEach((t=>{hi(Ia({context:t,data:e[t]}))}))}static resolveWhen(e,t){return!!t.getContextDataValue(`.${Ka}.${e}`)}static resolveFieldValue(e,t){return t.getLocalizedValue(e)}static resolveNavigation(e,t){return yn([this.resolveName(e,t)])}static resolveView(e,t,n=""){const r=gn([this.resolveName(e,t)]);let o=[];return Array.isArray(r)&&r.length>0?(t&&(n||(n=t.getValue(at.CLASS_ID)),o=r.filter((e=>e[at.CLASSID]===n))),0===o.length?r[0]:o[0]):r}static resolveName(e,t){return 0===e.indexOf("param.")?(e=e.substring("param.".length),t.getContextDataValue(`.$parameters.${e}`)):(e.startsWith("@")&&(e=bn.handleAnnotation(e,t)),e)}static getContextPath(e,t){return"number"!=typeof t&&!t||"number"!=typeof(t=bn.trimAnnotation(t))&&"string"!=typeof t?e:"number"==typeof t&&parseInt(t,10)===t?`${e}[${t}]`:"."===t.charAt(0)?e+t:t}static resolveReference(e,t){const{type:n}=e;let r;if("reference"===n){const{config:n}=e,o=n.type,{ref:s,name:a}=n;return"navigation"===o?r=this.resolveNavigation(s||a,t):"view"===o?r=this.resolveView(s||a,t):"widget"===o&&(r={type:"Widget",config:{name:n.name,ruleClass:n.ruleClass}}),r}return e}static resolvePropertyReference(e,t,n){return mi(t,e,n)}static getProperty(e,t,n){let r=this.resolvePropertyReference(t,e,n);if(null==r||0===r.length){const o=Ei(`${t}.${za}`,e,n);o&&(r=this.resolvePropertyReference(t,o,n))}return r}static getProperyValue(e,t,n){return e=bn.trimAnnotation(e),this.getProperty(e,t,n)}static _handlePropString(e,t,n,r){n.startsWith("@")?e[t]=bn.handleAnnotation(n,r):e[t]=n}static _resolveProps(e,t){e&&Object.keys(e).forEach((n=>{const r=e[n];"string"==typeof r?this._handlePropString(e,n,r,t):Array.isArray(r)?r.forEach((n=>{this._resolveProps("object"==typeof n?n:e[n],t)})):"object"==typeof r&&this._resolveProps(e[n],t)}))}static resolveProps(e,t,n){return e&&t?(ot.mergeDeep(e,t),this._resolveProps(t,n),t):t}},Xa="REFRESH_DATA",Qa=e=>({type:Xa,payload:e}),Za={},ei=e=>{e&&Za[e]&&delete Za[e]},ti=function(e,t,n,r){var o,s=!1,a=0;function i(){o&&clearTimeout(o)}function c(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var p=this,d=Date.now()-a;function h(){a=Date.now(),n.apply(p,l)}function f(){o=void 0}s||(r&&!o&&h(),i(),void 0===r&&d>e?h():!0!==t&&(o=setTimeout(r?f:h,void 0===r?e-d:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){i(),s=!0},c}(100,((e,t,n,r,o)=>{if(!(e&&n&&t))return;const s=o.actionMgrID||Bn.getNextActionMgrId();hi(Qa({ID:e,actionID:t,context:n,caseWideAction:r,contextData:!1,options:{actionMgrID:s}}))}),!1),ni=(e,t,n,r,o)=>{e&&n&&t&&hi(Qa({ID:e,viewID:t,context:n,caseViewAction:!0,contextData:!1,interestPage:r,options:o}))},ri=(e,t,n)=>{Za[t]||(Za[t]={}),Za[t][e]||(Za[t][e]={pageReference:n})},oi=(e,t,n)=>{const r=Fo(e,t),o=Ja.getProperyValue(st.CASE_INFO.ACTIVE_ACTION_ID,t,e)?Ja.getProperyValue(st.CASE_INFO.ACTIVE_ACTION_ID,t,e):Ja.getProperyValue(st.CASE_INFO.ASSIGNMENTACTION_ID,t,e),s=r?Ja.getProperyValue(st.CASE_INFO.CASE_INFO_ID,t,e):Ja.getProperyValue(st.CASE_INFO.ASSIGNMENT_ID,t,e);ti(s,o,e,r,n)},si=e=>{const{context:t,pageReference:n}=e;(e=>Za[e]&&Object.keys(Za[e]).length>0&&Go(e))(t)&&oi(t,n,{})},ai=new class{constructor(){this.components={}}_checkComponent(e,t){var n;return!(null===(n=this.components[t])||void 0===n||!n[e])}start(e,t,n,r,o){const s={viewName:e,pageReference:n,contextName:r,isInProgress:!0,active:!0,caseKey:t};this.components[r]=this.components[r]||{},this.components[r][o]=s}stop(e,t){this._checkComponent(e,t)&&(this.components[t][e].isInProgress=!1)}remove(e,t){this._checkComponent(e,t)&&delete this.components[t][e]}removeContext(e){delete this.components[e]}enableCascade(e){this.components[e]&&Object.values(this.components[e]).forEach((e=>{e.isInProgress&&(e.cascade=!0)}))}activate(e,t){this._checkComponent(e,t)&&(this.components[t][e].active=!0)}deactivate(e,t){this._checkComponent(e,t)&&(this.components[t][e].active=!1)}refreshActiveComponents(e){e&&this.components[e]&&Object.keys(this.components[e]).forEach((t=>{this.refreshComponent(t,e)}))}refreshComponent(e,t){if(!this._checkComponent(e,t))return;const n=this.components[t][e];if(n.active&&n.cascade){const{caseKey:e,viewName:r,pageReference:o}=n;ni(e,r,t,o,{})}}};class ii{constructor(){this.name="CascadeManager",this.cascadeSubscribers={}}registerFields(e,t,n=[],r,o){this.cascadeSubscribers[e]=this.cascadeSubscribers[e]||{},n.forEach((n=>{this.cascadeSubscribers[e][`${t}${n}`]=this.cascadeSubscribers[e][`${t}${n}`]||{};const s=this.cascadeSubscribers[e][`${t}${n}`];if(!s[o]){s[o]=r;const a=mi(n,t,e);s.previousValue="object"==typeof value?null:a}}))}registerListField(e,t,n,r,o){const s=ii._getFieldsForList(e,t,n);s.length>0&&(this.registerFields(e,t,s,r,o),ai.enableCascade(e))}unRegisterListField(e,t,n,r,o){const s=ii._getFieldsForList(e,t,n);s.length>0&&this.unRegisterFields(e,t,s,o)}static _getFieldsForList(e,t,n){const r=[],o=pn(n,mi("classID",t,e));return o&&o.datasource&&o.datasource.parameters&&Object.values(o.datasource.parameters).forEach((e=>{if(bn.isProperty(e)){const t=bn.trimAnnotation(e);r.push(t)}})),r}unRegisterFields(e,t,n=[],r){this.cascadeSubscribers[e]&&n.forEach((n=>{if(!this.cascadeSubscribers[e][`${t}${n}`])return;const o=this.cascadeSubscribers[e][`${t}${n}`];o[r]&&delete o[r]}))}triggerCascade(e,t,n,r){if(!this.cascadeSubscribers[e])return;if(!this.cascadeSubscribers[e][t])return;let o=!1;Object.keys(this.cascadeSubscribers[e][t]).forEach((s=>{const a=this.cascadeSubscribers[e][t];"previousValue"!==s&&a.previousValue!==n&&(o=!0,r?r.add(a[s]):a[s](t,n))})),o&&(this.cascadeSubscribers[e][t].previousValue=n)}purgeCascadeFields(e){delete this.cascadeSubscribers[e]}handleServerChanges(e,t){if(!(e&&e.caseInfo&&e.caseInfo.content&&t))return;const n=new Set,r=e.caseInfo.content;this._handleCascaseObject(r,t,"caseInfo.content",n),n.forEach((e=>{e()}))}_handleCascaseObject(e,t,n,r){"object"==typeof e?Object.keys(e).forEach((o=>{const s=`${n}.${o}`;this._handleCascaseObject(e[o],t,s,r)})):this.triggerCascade(t,n,e,r)}}const ci=new ii;let li=null;const ui=e=>e.split(/\.(?![^[]+\])|\[|\]/g).filter(Boolean),pi=e=>{li=e},di=()=>li,hi=e=>{e&&(di().dispatch(e),"MERGE_DATA"===e.type&&ci.handleServerChanges(e.payload.data,e.payload.context))},fi=e=>di().getState().data[e],gi=()=>di().getState().data[at.SHARED],yi=(e,t,n)=>{if('"'===(r=e).charAt(0)||"'"===r.charAt(0))return(e=>e.trim().substring(1,e.length-1))(e);var r;const o="."===e.charAt(0)?t+e:e,s=ui(o);return ot.getIn(n,s)},mi=(e,t,n)=>yi(e,t,fi(n)),Ii=(e,t,n)=>yi(t,e?`${at.CONTEXT_DATA}.${e}`:`${at.CONTEXT_DATA}`,fi(n)),Ei=(e,t,n)=>((e,t,n)=>{const r=ui(`${t}.${n}`);return ot.getIn(e,r)})(fi(n),`${at.CONTEXT_DATA}.${e}`,t),Ai=e=>{const{context:t}=e;if(di().getState().data[t])return yt;const{action:n}=e;return-1!==["createWork","showHarness","openAssignment","openWorkByHandle","initRouting"].indexOf(n)?Pt:yt},_i=(e,t)=>{const n=ui(t);return ot.deleteIn(e,n)},vi=e=>!Array.isArray(e)&&"object"==typeof e,Si=(e,t,n={})=>{const{isArrayDeepMerge:r}=n,o=(e,t)=>{if(vi(e)&&null!==t&&"string"!=typeof t)return Ye()(e,t,o);if(Array.isArray(e)&&null!==t&&Array.isArray(t)){if(r)return Ye()(e,t,o);{const n=t.length;n<e.size&&(e.length=n)}}return""===t&&e&&"object"==typeof e?e:t};return o(e,t)},bi=(e,t,n,r={})=>{const{isArrayDeepMerge:o=!0}=r,s=ui(t);if("object"==typeof n){const t=Si(ot.getIn(e,s),n,{isArrayDeepMerge:o});return ot.setIn(e,s,t)}return ot.setIn(e,s,n)},Ci=(e,t,n)=>{const r=ui(t);return ot.setIn(e,r,n)};var Pi=n(462),Ti=n.n(Pi);const Oi=new class{constructor(){this.subscribers={}}publish(e,t){var n;null===(n=this.subscribers[e])||void 0===n||n.forEach((e=>{e.callback(t)}))}unsubscribe(e,t,n){const r=this.subscribers[e]||[];let o=0,s=-1;r.forEach((e=>{e.id===t&&e.contextName===n&&(s=o),o+=1})),r.splice(s,1)}subscribe(e,t,n,r,o){this.subscribers[e]=this.subscribers[e]||[];let s=!1;if(o&&this.subscribers[e].forEach((e=>{s=e.id===t&&e.contextName===r})),!s){const o=new class{constructor(e,t,n,r){this.eventType=e,this.callback=n,this.contextName=r,this.id=t}}(e,t,n,r);this.subscribers[e].push(o)}}clearContext(e){const t=this.subscribers;Object.keys(t).forEach((t=>{const n=this.subscribers[t],r=[];n.forEach((t=>{t.contextName!==e&&r.push(t)})),this.subscribers[t]=r}))}},Ni=class{static subscribe(e,t,n,r=!1,o="app"){Oi.subscribe(e,n,t,o,r)}static subscribeOnce(e,t,n){this.subscribe(e,t,n,!0)}static publish(e,t){Oi.publish(e,t)}static unsubscribe(e,t,n="app"){Oi.unsubscribe(e,t,n)}static cleanContextSubscribers(e){Oi.clearContext(e)}};function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Di{constructor(e,t=!0){Ri(this,"getTokenAndFinish",(e=>{window.removeEventListener("message",this.authMessageHandler,!1),this.getToken(e,!1).then((()=>{})).catch((e=>{console.log(e)}))})),Ri(this,"authMessageHandler",(e=>{if(e.origin!==this.getRedirectUriOrigin())return;if(!e.data||!e.data.type||"PegaAuth"!==e.data.type)return;console.log("authjs(login): postMessage received with code");const t=e.data.code.toString();this.getTokenAndFinish(t,this.config)})),Ri(this,"getRedirectUriOrigin",(()=>{let{redirectUri:e}=this.config;e=e||this.config.redirect_uri;const t=e.indexOf("//"),n=-1!==t?e.indexOf("/",t+2):-1;return-1!==n?e.substring(0,n):e})),this.config=e,t?(this.ssKeyConfig=e,this.reloadConfig()):this.updateConfig(e,!1)}static init(e,t=!0){return new Di(e,t)}updateConfig(e,t=!0){t?window.sessionStorage.setItem(this.ssKeyConfig,JSON.stringify(this.config)):Ki(e)}reloadConfig(e=!0){if(e){const e=window.sessionStorage.getItem(this.ssKeyConfig);this.config=e?JSON.parse(e):null}else this.config=Ji()}async buildAuthorizeUrl(e){e=e||window.btoa(location.origin);let{sessionIndex:t}=this.config;const{password:n}=this.config,r=this.config.clientId?this.config.clientId:this.config.client_id,o=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,s=this.config.authorizeUri?this.config.authorizeUri:this.config.endPoints.authorize,a=this.config.authService?this.config.authService:this.config.authentication_service||"pega",i=this.config.appAlias?this.config.appAlias:Mr.getApplicationAlias(),c=this.config.userIdentifier?this.config.userIdentifier:this.config.user_identifier;t=t||this.config.tokenInfo.session_index;const l=t?"&session_index="+t:""+c?"&UserIdentifier="+c:""+n?"&Password="+window.atob(n):"",u=new Uint8Array(64);window.crypto.getRandomValues(u),this.config.codeVerifier=this.base64UrlSafeEncode(u),this.updateConfig(this.config,!1);const p=i?`+app.alias.${i.replace(/^app\//,"")}`:"";return this.getCodeChallenge(this.config.codeVerifier).then((t=>`${s}?client_id=${r}&response_type=code&redirect_uri=${o}&scope=openid${p}&state=${e}&code_challenge=${t}&code_challenge_method=S256&authentication_service=${a}&enable_psyncId=true${l}`))}getToken(e,t){this.reloadConfig(t,!1);const n=this.config.clientId?this.config.clientId:this.config.client_id,r=this.config.clientSecret?this.config.clientSecret:this.config.client_secret,o=this.config.redirectUri?this.config.redirectUri:this.config.redirect_uri,s=this.config.tokenUri?this.config.tokenUri:this.config.endPoints.token,{codeVerifier:a}=this.config,i=window.location.search,c=new URLSearchParams(i),l=e||c.get("code"),u=new URLSearchParams;return u.append("client_id",n),r&&u.append("client_secret",r),u.append("grant_type","authorization_code"),u.append("code",l),u.append("redirect_uri",o),u.append("code_verifier",a),Bi(s,{method:"POST",headers:new Headers({"content-type":"application/x-www-form-urlencoded"}),body:u.toString()}).then((e=>e.data)).then((e=>{e.eA=Date.now()+1e3*e.expires_in;let n=!1;if(this.config.codeVerifier&&(delete this.config.codeVerifier,n=!0),e.session_index&&(this.config.session_index=e.session_index,n=!0),n){this.updateConfig(this.config,t),zi({tokenInfo:e}),Yi({Authorization:`${null==e?void 0:e.token_type} ${null==e?void 0:e.access_token}`});const{onTokenRetrieval:n}=this.config;n&&"function"==typeof n&&n(e),window.postMessage("oAuthSuccess")}return e})).catch((e=>console.log(e)))}sha256Hash(e){return window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e))}encode64(e){return window.btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))}base64UrlSafeEncode(e){return this.encode64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}getCodeChallenge(e){return this.sha256Hash(e).then((e=>this.base64UrlSafeEncode(e))).catch((e=>{console.log(e)})).finally((()=>null))}}const xi=Di,wi=(e,t)=>{(async e=>{const t={};if("OAuth2.0"===(null==e?void 0:e.authType)){const n=new xi(e,!1);t.reauthUrl=await n.buildAuthorizeUrl(),t.redirectOrigin=n.getRedirectUriOrigin(),window.addEventListener("message",n.authMessageHandler,!1)}else t.reauthUrl=`${pr()}/?reAuth=true`;return t})(t).then((t=>{const n={openReauthMessageModal:!0,reAutheticationURL:t.reauthUrl,url:e,redirectOrigin:t.redirectOrigin};Ni.publish(st.PUB_SUB_EVENTS.EVENT_REAUTH,n)}))},Mi=(e,t)=>"OAuth2.0"===(null==t?void 0:t.authType)?null==e?void 0:e.includes(t.endPoints.token):null==e?void 0:e.includes("updateSession");function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ji={};const Ui={},ki=new class{constructor(){Li(this,"getUpdateSessionStatus",(()=>this.updateSessionInProgress)),Li(this,"setUpdateSessionStatus",(e=>{this.updateSessionInProgress=e})),this.updateSessionInProgress=!1}};let Vi={},Fi={},$i={};const Gi="updateSession",Bi=(e,t,n="root")=>{null===e&&window.console.error("Error: url passed to Service Broker fetch is null (or) undefined");const{body:r,signal:o,headers:s={},...a}=t;((e,t,n)=>{xr.injectRemoteCaseHeader(e,t,n)})(s,t.body,n),n&&Ui[n]>=0?Ui[n]=Ui[n]+1:n&&void 0===Ui[n]&&(Ui[n]=1);let i={...ji,...s,context:n};var c;return e&&Mi(e,Fi)&&ki.getUpdateSessionStatus()||!ki.getUpdateSessionStatus()?(Mi(e,Fi)&&"OAuth2.0"===(null===(c=Fi)||void 0===c?void 0:c.authType)&&(i={...s}),Ti()({...a,url:e,data:r,cancelToken:o,headers:i})):((e,t,n)=>new Promise(((r,o)=>{Ni.subscribe(Gi,(s=>{ki.setUpdateSessionStatus(!s.updateStatus.length>0),"success"===s.updateStatus?Bi(e,t,n).then((e=>r(e))).catch((e=>o(e))):o(s.updateStatus.error)}),Gi)})))(e,t,n)},Wi=e=>{Ui[e]>0&&(Ui[e]=Ui[e]-1,0===Ui[e]&&delete Ui[e])};Ti().interceptors.request.use((e=>(Vi.request&&(e=Vi.request(e)),e)),(e=>{Promise.reject(e)})),Ti().interceptors.response.use((e=>{var t,n;if(202===e.status&&e.config.headers.context&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.caseInfo)&&void 0!==n&&n.errorMessage){const t=[{type:"error",message:e.data.caseInfo.errorMessage}];let n=e.config.headers.context;return n&&n.includes("/workarea")&&(n=n.substring(0,n.lastIndexOf("/workarea"))),Nn({messages:t,category:"HTTP",context:n}),Promise.reject(e)}return e.config.headers&&e.config.headers.context&&(e.config.skipClearErrorMessages||(Tn({type:"error",category:"HTTP",context:e.config.headers.context}).length>0&&On({type:"error",category:"HTTP",context:e.config.headers.context}),Tn({type:"error",category:"",context:e.config.headers.context}).length>0&&On({type:"error",category:"PAGE",context:e.config.headers.context})),Wi(e.config.headers.context)),Vi.response&&(e=Vi.response(e)),e}),(e=>(e.config&&e.config.headers&&e.config.headers.context&&Wi(e.config.headers.context),!e.response||!e.response.status||401!==e.response.status||e.config&&Mi(e.config.url,Fi)||Ni.subscribe(Gi,(e=>{ki.setUpdateSessionStatus(!e.updateStatus.length>0)}),Gi),((e,t,n)=>{if(e.config&&Mi(e.config.url,n))return Promise.reject(e);if(e.response&&e.response.status&&401===e.response.status&&!t.getUpdateSessionStatus())return t.setUpdateSessionStatus(!0),((e,t,n)=>{const{config:r}=e,{url:o,config:s,callback:a}=(e=>{let t="",n={},r={};if("OAuth2.0"===(null==e?void 0:e.authType)){t=e.endPoints.token;const o=new URLSearchParams;o.append("client_id",e.client_id),o.append("grant_type","refresh_token"),o.append("refresh_token",e.tokenInfo.refresh_token),n={method:"POST",body:o.toString(),headers:{"content-type":"application/x-www-form-urlencoded"}},r={success:(t,n)=>{const{data:r}=t,o={access_token:null==r?void 0:r.access_token,refresh_token:null==r?void 0:r.refresh_token};zi({tokenInfo:{...e.tokenInfo,...o}}),Yi({Authorization:`${null==r?void 0:r.token_type} ${null==r?void 0:r.access_token}`}),n.headers={...n.headers,Authorization:`${null==r?void 0:r.token_type} ${null==r?void 0:r.access_token}`};const{onTokenRetrieval:s}=e;s&&"function"==typeof s&&s(r)},failure:t=>{if(e.popupReauth)return wi(t,e);Ni.publish(st.PUB_SUB_EVENTS.EVENT_FULL_REAUTH,e)}}}else t=`${pr()}/updateSession`,n={method:"GET",headers:{}},r={failure:wi};return{url:t,config:n,callback:r}})(n);return Bi(o,s).then((e=>{var n;t.updateSessionInProgress=!1,null==a||null===(n=a.success)||void 0===n||n.call(a,e,r);const o=r.headers&&r.headers.context;return r.data&&(r.body=r.data),new Promise(((e,t)=>{Bi(r.url,r,o).then((t=>{Ni.publish("updateSession",{updateStatus:"success"}),e(t)})).catch((e=>{Ni.publish("updateSession",{updateStatus:"success"}),t(e)}))}))})).catch((()=>{var t;return Ni.publish("updateSession",{updateStatus:"failed",error:e}),null==a||null===(t=a.failure)||void 0===t||t.call(a,r.url,n),Promise.reject(e)}))})(e,t,n);if(e.response&&e.response.status&&401===e.response.status&&t.getUpdateSessionStatus()){const{config:t}=e,n=t.headers&&t.headers.context;return t.data&&(t.body=t.data),Bi(t.url,t,n)}if(e.response&&e.response.status&&422!==e.response.status&&e.config.headers.context&&e.response.data){const t=e.response.data.errorDetails&&e.response.data.errorDetails.map((e=>({type:"error",message:e.localizedValue||e.message})));let n=e.config.headers.context;return n&&n.includes("/workarea")&&(n=n.substring(0,n.lastIndexOf("/workarea"))),Nn({messages:t,category:"HTTP",context:n}),Promise.reject(e)}return Promise.reject(e)})(e,ki,Fi))));const Hi=()=>Ti().CancelToken.source(),qi=e=>Ti().isCancel(e),Yi=e=>{ji={...ji,...e}},zi=e=>{Fi={...Fi,...e}},Ki=e=>{$i={...$i,...e}},Ji=()=>({...$i}),Xi=(e,{body:t={},queryPayload:n={},cancelTokenSource:r,headers:o={}},s)=>{const{restApi:a,reqType:i}=qr(e,n),c={method:i,headers:o,body:t};return r&&(c.signal=r.token),Bi(a,c,s)},Qi=e=>Mr.doesRestApiExist(e),Zi=()=>Hi(),ec=e=>qi(e),tc=e=>{(e=>{Vi=e})(e)},nc={},rc=e=>{const t=Hi();return nc[e]=t,t},oc={uploadAttachment:(e,t,n,r)=>{const o=new FormData;o.append("appendUniqueIdToFileName",!0),o.append("file",e);const{restApi:s,reqType:a}=qr("uploadAttachment",{});return Bi(s,{method:a,headers:{"Content-Type":"multipart/form-data"},body:o,onUploadProgress:t,signal:rc(e.ID).token},r).then((t=>({type:"File",category:e.category||"File",ID:t.data.ID,clientFileID:e.ID}))).catch(n?n(qi,e):e=>{throw e.isHandled=!1,e}).finally((()=>delete nc[e.ID]))},linkAttachmentsToCase:(e,t,n,r)=>{const o={};if("File"===n){const[e]=t,{clientFileID:n}=e;delete e.clientFileID,o.signal=rc(n).token}const{restApi:s,reqType:a}=qr("linkCaseAttachment",{caseID:e});return Bi(s,{...o,body:{attachments:t},method:a},r)},getCaseAttachments:(e,t)=>{const{restApi:n,reqType:r}=qr("getCaseAttachments",{caseID:e});return Bi(n,{method:r},t).then((e=>e.data.attachments))},getAttachmentCategories:(e,t,n)=>{const{restApi:r,reqType:o}=qr("getAttachmentCategories",{caseID:e,type:t});return Bi(r,{method:o},n).then((e=>e.data))},downloadAttachment:(e,t)=>{const{restApi:n,reqType:r}=qr("downloadAttachment",{attachmentID:e});return Bi(n,{method:r},t)},editAttachment:(e,t,n)=>{const{restApi:r,reqType:o}=qr("editAttachment",{attachmentID:e});return Bi(r,{method:o,body:{...t}},n)},deleteAttachment:(e,t)=>{const{restApi:n,reqType:r}=qr("deleteAttachment",{attachmentID:e});return Bi(n,{method:r},t)},downloadDocument:(e,t)=>{const{restApi:n,reqType:r}=qr("downloadDocument",{documentID:e});return Bi(n,{method:r},t)},deleteDocument:(e,t,n)=>{const{restApi:r,reqType:o}=qr("deleteDocument",{caseID:e,documentID:t});return Bi(r,{method:o},n)},getDocumentURL:e=>{const t={dataViewName:PCore.getEnvironmentInfo().getDocumentUrlDP()||"D_pxGetDocumentURL"};return Xi("getPageData",{queryPayload:t},e.getContextName()).catch((t=>{e.reportError(": Error ocurred during ajax call getDocumentURL API : ",t.response)}))},cancelRequest:e=>{nc[e]&&(nc[e].cancel(),delete nc[e])}},sc={addCaseFollower:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({users:t.map((e=>({ID:e})))});return Xi("addCaseFollower",{body:o,queryPayload:r},n)},deleteCaseFollower:(e,t,n)=>Xi("deleteCaseFollower",{queryPayload:{caseID:e,followerID:t}},n),getCaseFollowers:(e,t)=>Xi("getCaseFollowers",{queryPayload:{caseID:e}},t).then((e=>e.data.followers))},ac={addRelatedCases:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({cases:t});return Xi("addRelatedCases",{body:o,queryPayload:r},n)},removeRelatedCase:(e,t,n)=>Xi("removeRelatedCase",{queryPayload:{caseID:e,relatedCaseID:t}},n),getRelatedCases:(e,t)=>Xi("getRelatedCases",{queryPayload:{caseID:e}},t).then((e=>e.data.relatedCases))},ic={getOperatorDetails:e=>{const t={encodedOperatorId:encodeURIComponent(`{"opname":"${e}"}`)};return Xi("operatorDetails",{queryPayload:t})}},cc=(e,t)=>{var n,r,o,s,a;if(!e.uiResources&&e.confirmationNote){let t=e;const{confirmationNote:n}=t;return t=((e,t)=>{const n=[e];return t.data.caseMessages=n,t})(n,t),t}if(e.confirmationNote||"pyConfirm"!==(null==e||null===(n=e.uiResources)||void 0===n||null===(r=n.root)||void 0===r||null===(o=r.config)||void 0===o?void 0:o.name)||null==e||null===(a=e.uiResources)||void 0===a||delete a.root,!e.uiResources||!e.data||null==e||null===(s=e.uiResources)||void 0===s||!s.root)return e;const i=e,{uiResources:{actionButtons:c,navigation:l},nextAssignmentInfo:u}=i;if(i.data&&i.data.caseInfo){c&&(i.data.caseInfo.actionButtons=c),l&&(i.data.caseInfo.navigation=l),t&&t[st.ACTIONS.DELETEAVIALACTIONS]&&delete i.data.caseInfo.availableActions;const{assignments:n,availableActions:r=[]}=i.data.caseInfo;if(!(n&&Array.isArray(n)&&n[0].actions&&Array.isArray(n[0].actions))||t&&t[st.STOPMERGEACTIONS]||(n[0].actions.forEach((e=>{"Assignment"!==e.type&&"LocalAction"!==e.type||r.push(e)})),i.data.caseInfo.availableActions=r),e.confirmationNote){const{confirmationNote:e}=i,t=[e];i.data.caseMessages=t}}return u&&(i.data.nextAssignmentInfo=u),i},lc=async e=>{const t=cc(e),n=ot.getIn(t,at.COMPONENTS);Co(t,{},!0),await No(n)},uc=(e,t,n)=>Ja.resolveView(e,t,n);function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dc=new class{constructor(){pc(this,"getFeeds",((e,t,n,r,o,s,a)=>{let i="";r&&(r.forEach((e=>{e.on&&(i=`${i}${e.id},`)})),""===i&&(i="ClearFilters"));let c="";a&&(c=s.getValue("pulse.nextPageFirstEntry"));const l={filterForContext:e,feedID:t,feedClass:n,filterBy:i,pageSize:9,olderThan:c};for(let e=0;e<o.length;e+=1)o[e].cancel();const u=Zi();return o.push(u),Xi("getFeedMessages",{queryPayload:l,cancelTokenSource:u},s.getContextName()).then((async e=>{if(200===e.status&&e.data){o.pop();const t=[],n={};let i=!1;if(e.data){if(e.data.data.FeedList){const r=e.data.data.FeedList.pxResults;Array.isArray(r)&&r.forEach(((e,r)=>{e.ID=""!==e.pzInsKey?e.pzInsKey:`message${r}`,t.push(e.ID),n[e.ID]=e,i||"pzPostDetails"===e.pyMessageViewReference||"pzPrivatePostDetails"===e.pyMessageViewReference||(i=!0)}))}if(i&&await lc({uiResources:e.data.uiResources}),!r&&(r=[{id:"All",label:"All",on:!0,disabled:!1}],e.data.data.FeedFilters)){const t=e.data.data.FeedFilters.pxResults;let n=!0;Array.isArray(t)&&(t.forEach((e=>{const t={id:e.pyFeedSourceReference,label:e.pyLabel,disabled:!1,on:"true"===e.pySelected};t.on||(n=!1),r.push(t)})),r.find((e=>"All"===e.id)).on=n)}}if(a&&s.getValue("pulse.messageIDs")){let r=s.getValue("pulse.messageIDs"),o=s.getValue("pulse.messages");r=[...r,...t],o={...o,...n},s.updateState({pulse:{messages:o,messageIDs:r,nextPageFirstEntry:e.data.nextPageFirstEntry?e.data.nextPageFirstEntry:""}})}else s.updateState({pulse:{messages:n,messageIDs:t,nextPageFirstEntry:e.data.nextPageFirstEntry?e.data.nextPageFirstEntry:""}});return r}return s.reportError(`getFeeds call failed ${e.status}`,e.data),""})).catch((e=>{ec(e)||s.reportError(": Error ocurred during ajax call at getFeeds API : ",e.response)}))})),pc(this,"postMessage",((e,t,n=[],r=!1,o)=>{const s=JSON.stringify({context:e,parentMessageId:r?e:"",message:t,attachments:n});return Xi("postFeedMessages",{body:s,headers:{"Content-Type":"application/json"}},o.getContextName()).then((t=>{if((201===t.status||200===t.status)&&t.data){const s=t.data,a={ID:s.ID,pzInsKey:s.ID,pyFeed:{pyPostedOn:s.postedTime,pyFeedTitle:s.postedByUser.name,pyCommentContext:"pzInsKey",pyIconType:"user",pyIconReference:"pi pi-case"},pyHasAttachment:!(!n||!n.length),postedByUser:s.postedByUser,pyMessage:s.message,mentions:s.mentions||[],pyMessageViewReference:"pzPostDetails",pxIcon:"globe",tags:s.tags||[],pyContext:""};if(r){let t=o.getValue(".pxResults");t||(t=[]),t=[...t,a],o.updateState({pulse:{messages:{[e]:{pxResults:t}}}})}else if(a.pxResults=[],o.getValue("pulse.messageIDs")){const e=o.getValue("pulse.messageIDs"),t=o.getValue("pulse.messages");o.updateState({pulse:{messages:{...t,[a.ID]:a},messageIDs:e.includes(a.ID)?e:[a.ID,...e]}})}}return o.reportError(`postMessage call failed with status ${t.status}`,t),""})).catch((e=>{o.reportError(": Error ocurred during ajax call at postMessage API : ",e.response)}))})),pc(this,"likeMessage",(({pulseContext:e,likedBy:t,messageID:n,isReply:r,c11nEnv:o})=>{const s=t?"unlikeFeedMessages":"likeFeedMessages",a=JSON.stringify({ContextClass:e});Xi(s,{body:a,queryPayload:{pulseContext:e},headers:{"Content-Type":"application/json"}},o.getContextName()).then((s=>{if(200===s.status)if(r){const r=o.getValue(`pulse.messages.${n}`).pxResults.map((n=>{if((n={...n}).pzInsKey===e){let e=0,r=!1;const o=n.pyLikes?n.pyLikes.pxLikeCount:0;t?(e=o-1,r=!1):(e=o+1,r=!0),n.pyLikes={pxLikeCount:e,pxIsLiked:r}}return n}));o.updateState({pulse:{messages:{[n]:{pxResults:r}}}})}else{const r={...o.getValue(`pulse.messages.${n}`)},s=r.pyLikes?r.pyLikes.pxLikeCount:0;let a=0,i=!1;t?(a=s-1,i=!1):(a=s+1,i=!0),r.pyLikes={pxLikeCount:a,pxIsLiked:i},o.updateState({pulse:{messages:{[e]:r}}})}else o.reportError(`likeMessage call failed with status ${s.status}`,s)})).catch((e=>{o.reportError(": Error ocurred during ajax call at likeMessage API : ",e.response.data)}))})),pc(this,"deleteMessage",((e,t,n,r)=>{let o=e;t&&(o=n),Xi("deleteFeedMessage",{queryPayload:{messageID:o}},r.getContextName()).then((o=>{if(200===o.status)if(t){const t=r.getValue(`pulse.messages.${e}`).pxResults.filter((e=>e.pzInsKey!==n));r.updateState({pulse:{messages:{[e]:{pxResults:t}}}})}else{const t=r.getValue("pulse.messageIDs").filter((t=>t!==e)),n={...r.getValue("pulse.messages")};delete n[e],r.updateState({pulse:{messageIDs:t,messages:n}})}else r.reportError(`deleteMessage call failed with status ${o.status}`,o)})).catch((e=>{r.reportError(": Error ocurred during ajax call at deleteMessage API : ",e.response)}))})),pc(this,"getLikedUsers",((e,t)=>Xi("getFeedMessageLikes",{queryPayload:{messageID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.users})).catch((e=>{t.reportError(": Error ocurred during ajax call at getLikedUsers API : ",e.response)})))),pc(this,"getMentionSuggestions",((e,t)=>{const{pulseContext:n,searchFor:r,mentionsType:o="Users",listSize:s=5}=e,a={pulseContext:n,searchFor:r,mentionsType:o,listSize:s};for(let e=0;e<this.mentionsTagsCancelTokenSource.length;e+=1)this.mentionsTagsCancelTokenSource[e].cancel();const i=Zi();return this.mentionsTagsCancelTokenSource.push(i),Xi("getMentionSuggestions",{queryPayload:a,cancelTokenSource:i},t.getContextName()).then((e=>(this.mentionsTagsCancelTokenSource=[],200===e.status&&e.data?e.data:(t.reportError(`Get mention suggestions call failed ${e.status}`,e.data),[])))).catch((e=>{ec(e)||t.reportError(": Error ocurred during ajax call at getMentionSuggestions API : ",e.response.data)}))})),pc(this,"getTagSuggestions",((e,t)=>{const{searchFor:n,listSize:r=5}=e,o={searchFor:n,listSize:r};for(let e=0;e<this.mentionsTagsCancelTokenSource.length;e+=1)this.mentionsTagsCancelTokenSource[e].cancel();const s=Zi();return this.mentionsTagsCancelTokenSource.push(s),Xi("getTagSuggestions",{queryPayload:o,cancelTokenSource:s},t.getContextName()).then((e=>{this.mentionsTagsCancelTokenSource=[];let n=[];return 200===e.status&&e.data?n=e.data.tags.map((e=>`#${e}`)):t.reportError(`Get tag suggestions call failed ${e.status}`,e.data),n})).catch((e=>{ec(e)||t.reportError(": Error ocurred during ajax call at getTagSuggestions API : ",e.response.data)}))})),this.mentionsTagsCancelTokenSource=[]}},hc={getTaggedCases:(e,t)=>Xi("loadView",{queryPayload:{caseID:e,viewID:"pyTaggedCases"}},t.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{t.reportError(": Error ocurred during ajax call at fetchTaggedcases API : ",e.response)})),getTags:(e,t)=>Xi("getCaseTags",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.tagsList})).catch((e=>{t.reportError(": Error ocurred during ajax call at fetchTags API : ",e.response)})),postTags:(e,t,n)=>{const r={caseID:e},o=JSON.stringify({tags:t});return Xi("addTagsToCase",{body:o,queryPayload:r},n.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})).catch((e=>{n.reportError(": Error ocurred during ajax call at postTags API : ",e.response)}))},removeTag:(e,t,n)=>Xi("deleteCaseTag",{queryPayload:{caseID:e,tagID:t}},n.getContextName()).catch((e=>{n.reportError(": Error ocurred during ajax call at removeTag API : ",e.response)})),getTagsLandingPageURL:e=>Xi("getPageData",{queryPayload:{dataViewName:"D_pxGetTagsLandingPageURL"}},e.getContextName()).catch((t=>{e.reportError(": Error ocurred during ajax call getTagsLandingPageURL API : ",t.response)}))},fc=(e,t)=>{t.updateState({caseInfo:{headers:{etag:e.etag}}})},gc={getParticipants:(e,t)=>Xi("getAllParticipants",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.data.content.pyParticipants})).catch((e=>{t.reportError(": Error ocurred during ajax call at getParticipants API : ",e.response)})),getRoleView:(e,t,n)=>Xi("getParticipantRoleView",{queryPayload:{caseID:e,participant_roleID:t}},n.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{n.reportError(": Error ocurred during ajax call at fetchTaggedcases API : ",e.response)})),getParticipantRoles:(e,t)=>Xi("getParticipantRoles",{queryPayload:{caseID:e}},t.getContextName()).then((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.participant_roles})).catch((e=>{t.reportError(": Error ocurred during ajax call at getParticipantRoles API : ",e.response)})),getParticipant:(e,t,n)=>Xi("getParticipant",{queryPayload:{caseID:e,participantID:t}},n.getContextName()).then((e=>null==e?void 0:e.data)).catch((e=>{n.reportError(": Error ocurred during ajax call at getParticipant API : ",e.response)})),createParticipant:(e,t,n,r)=>{const o={caseID:e},{content:s}=n,a={content:s,participantRoleID:t},i={"if-match":r.getCaseSummary().headers.etag};return Xi("createParticipant",{body:a,queryPayload:o,headers:i},r.getContextName()).then((e=>{fc(e.headers,r)})).catch((e=>{r.reportError(": Error ocurred during ajax call at createParticipant API : ",e.response)}))},updateParticipant:(e,t,n,r)=>{const{content:o}=n,s={content:o},a={caseID:e,participantID:t},i={"if-match":r.getCaseSummary().headers.etag};return Xi("updateParticipant",{body:s,queryPayload:a,headers:i},r.getContextName()).then((e=>{fc(e.headers,r)})).catch((e=>{r.reportError(": Error ocurred during ajax call at updateParticipant API : ",e.response)}))},deleteParticipant:(e,t,n)=>{const r={caseID:e,participantID:t},o={"if-match":n.getCaseSummary().headers.etag};return Xi("deleteParticipant",{queryPayload:r,headers:o},n.getContextName()).then((e=>{fc(e.headers,n)})).catch((e=>{n.reportError(": Error ocurred during ajax call at deleteParticipant API : ",e.response)}))}};class yc{static setRuntimeParams(e){this.runtimeParams=e}static getRuntimeParams(){return this.runtimeParams}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yc,"runtimeParams",{});const mc=yc;function Ic(e=[]){return e.reduce(((e,t)=>(e[t.personalizationID]={name:t.name,personalizationState:JSON.parse(t.personalizationState||"{}")},e)),{})}const Ec="create",Ac="update",_c="delete";function vc(e,t,n,r){const o=PCore.getMetadataUtils().getPersonalizationMetadata(t);if(o){switch(e){case Ec:case Ac:{const{markAsDefault:e,...t}=r;Object.entries(t).length>0&&(o.allPersonalizations[n]=t),e&&(o.defaultPersonalization=n);break}case _c:delete o.allPersonalizations[n],o.defaultPersonalization===n&&(o.defaultPersonalization="");break;default:return null}return o}return null}const Sc={},bc=e=>{const t=PCore.getMetadataUtils().getPersonalizationMetadata(e);if(t)return Array.isArray(t.allPersonalizations)&&(t.allPersonalizations=Ic(t.allPersonalizations)),Promise.resolve(t);const{restApi:n,reqType:r}=qr("getUIListPersonalizations",{listID:e});return Bi(n,{method:r,body:{}}).then((e=>{const{data:t}=e;return{allPersonalizations:Ic(t.allPersonalizations),defaultPersonalization:t.defaultPersonalization}}))},Cc=(e,t,n)=>{const{restApi:r,reqType:o}=qr("createListPersonalization",{listID:e});return vc(Ec,e,t,n),Bi(r,{method:o,body:{...n,personalizationState:JSON.stringify(n.personalizationState)}}).then((e=>{const n=e.data;return Sc[t]=n,e}))},Pc=(e,t,n)=>{const r=Sc[t]||t;vc(Ac,e,t,n);const{restApi:o,reqType:s}=qr("updateListPersonalization",{listID:e,personalizationID:r});return Bi(o,{method:s,body:{...n,personalizationState:JSON.stringify(n.personalizationState)}})},Tc=(e,t)=>{const n=Sc[t]||t;vc(_c,e,t);const{restApi:r,reqType:o}=qr("deleteListPersonalization",{listID:e,personalizationID:n});return Bi(r,{method:o,body:{}}).then((e=>(Sc[t]&&delete Sc[t],e)))},Oc=function(e){return e?{createPersonalization:Cc.bind(null,e),updatePersonalization:Pc.bind(null,e),deletePersonalization:Tc.bind(null,e),fetchPersonalizations:bc.bind(null,e)}:{createPersonalization:()=>Promise.resolve(""),updatePersonalization:()=>Promise.resolve(),deletePersonalization:()=>Promise.resolve(),fetchPersonalizations:()=>Promise.resolve({})}},Nc={getData:(e,t,n,r={})=>((e,t,n,r={})=>{const o={dataViewName:e},{skipClearErrorMessages:s}=r,{restApi:a,reqType:i}=qr("getListData",o);return Bi(a,{method:i,body:t,...s&&{skipClearErrorMessages:s}},n)})(e,t,n,r),getListCount:(e,t,n)=>{const r={dataViewName:e},{restApi:o,reqType:s}=qr("getListDataCount",r);return Bi(o,{method:s,body:t},n)},getDataViewMetadata:(e,t)=>{const n={dataViewName:e},{restApi:r,reqType:o}=qr("getDataViewMetadata",n);return Bi(r,{method:o},t)},getCaseEditMetadata:(e,t)=>{const n={caseID:e,viewID:"pyEdit"},{restApi:r,reqType:o}=qr("loadView",n);return Bi(r,{method:o},t)},getCaseEditLock:(e,t)=>{const n={caseID:e,actionID:"pyUpdateCaseDetails"},{restApi:r,reqType:o}=qr(Yt,n);return Bi(`${r}?viewType=page`,{method:o},t)},updateCaseEditFieldsData:(e,t,n,r)=>{const o={caseID:e,actionID:"pyUpdateCaseDetails"},{restApi:s}=qr(Yt,o),a=t[e];return Bi(`${s}?viewType=form`,{method:"PATCH",body:{content:{...a}},headers:{"if-match":n}},r)},moveListRecords:(e,t)=>{const{sourceID:n,destinationID:r,context:o,listClass:s,viewName:a,viewClassName:i}=e,c={viewName:a,viewClassName:i},{restApi:l,reqType:u}=qr("moveListRecords",c);return Bi(l,{method:u,body:{content:{sourceID:n,destinationID:r,context:o,listClass:s}}},t)},isTimeElapsed:(e,t="",n="")=>{if(t){if(e&&n===at.RELOAD_IF_OLDER_THAN)return new Date(e).setSeconds(t)<Date.now();if(e&&n===at.RELOAD_ONCE_PER_INTERACTION)return!0}return!0},getAppCacheKey:e=>`${Ll.getAssetLoader().getAppAlias()}-${e}`};class Rc{constructor(){this.isInitialised=!1,this.isQueryable=!0,this.dataSourceMetaData={},this.nonQueryableData=[],this.fetchedNQData=!1,this.previousSearchText=null,this.totalRecordCount=0,this.fetchedRecordCount=0,this.cache={},this.pageNumber=0}static init(e,t){return new Promise(((n,r)=>{const o=[...e.columns.map((e=>e.value)),...Object.entries(e.parameters).map((([e,t])=>`${e}+${t}`))].join(at.HASH_DELIMITER),s=ot.getHashedString(o),a=`${e.dataSource}_${s}`,i=Nc.getAppCacheKey(e.dataSource);if(window.sessionStorage.getItem(i)){var c,l,u,p;const r=JSON.parse(window.sessionStorage.getItem(i));if(t&&null!==(c=Rc._searchResultsCache)&&void 0!==c&&null!==(l=c[t])&&void 0!==l&&l[a])n(Rc._searchResultsCache[t][a]);else if(null!==(u=Rc._searchResultsCache)&&void 0!==u&&null!==(p=u.persisted)&&void 0!==p&&p[a])n(Rc._searchResultsCache.persisted[a]);else{const o=new Rc;o.listType=e.listType,o.dataSource=e.dataSource,e.enablePagination?(o.enablePagination=e.enablePagination,o.pageSize=e.pageSize):o.maxResultsDisplay=e.maxResultsDisplay,o.parameters=e.parameters,o.columns=e.columns,o.matchPosition=e.matchPosition,o.dataSourceMetaData=r.dataSourceMetaData,o.isQueryable=r.isQueryable,o.isInitialised=r.isInitialised,Rc.initializeCache(t,e,a,o),n(o)}}else if(e.deferDatasource){const r=new Rc;r.listType=e.listType,r.dataSource=e.dataSource,e.enablePagination?(r.enablePagination=e.enablePagination,r.pageSize=e.pageSize):r.maxResultsDisplay=e.maxResultsDisplay,r.dataSourceMetaData=e.dataSourceMetaData,r.parameters=e.parameters,r.columns=e.columns,r.matchPosition=e.matchPosition;const o=PCore.getMetadataUtils().getDataPageMetadata(e.dataSource);r.isQueryable=o.isQueryable,r.isInitialised=!0,r.dataSourceMetaData=o,window.sessionStorage.setItem(i,JSON.stringify({isQueryable:o.isQueryable,dataSourceMetaData:o,isInitialised:!0})),Rc.initializeCache(t,e,a,r),n(r)}else{const o=new Rc;o.listType=e.listType,o.dataSource=e.dataSource,e.enablePagination?(o.enablePagination=e.enablePagination,o.pageSize=e.pageSize):o.maxResultsDisplay=e.maxResultsDisplay,o.dataSourceMetaData=e.dataSourceMetaData,o.parameters=e.parameters,o.columns=e.columns,o.matchPosition=e.matchPosition,o.fetchMetaData(t).then((r=>{window.sessionStorage.setItem(i,JSON.stringify({isQueryable:r.data.isQueryable,dataSourceMetaData:r.data,isInitialised:!0})),o.isQueryable=r.data.isQueryable,o.dataSourceMetaData=r.data,o.isInitialised=!0,Rc.initializeCache(t,e,a,o),n(o)})).catch((e=>{o.isInitialised=!1,r(e)}))}}))}static clearContextedCache(e){delete Rc._searchResultsCache[e]}static initializeCache(e,t,n,r){var o;e&&"form"===(null===(o=t.cacheLifeSpan)||void 0===o?void 0:o.toLowerCase())?(void 0===Rc._searchResultsCache[e]&&(Rc._searchResultsCache[e]={}),Rc._searchResultsCache[e][n]=r):(void 0===Rc._searchResultsCache.persisted&&(Rc._searchResultsCache.persisted={}),Rc._searchResultsCache.persisted[n]=r)}fetchMetaData(e){return Nc.getDataViewMetadata(this.dataSource,e)}getData(e){return this.isQueryable?Nc.getData(this.dataSource,this.buildSchemaForQueryableDP(e),this):this.fetchNonQueryableResults(e)}memoizedGetData(e){if(this.enablePagination?e in this.cache&&this.pageNumber in this.cache[e]:e in this.cache)return this.enablePagination?this.cache[e][this.pageNumber]:this.cache[e];const t=this.getData(e);return this.enablePagination?(this.cache[e]=this.cache[e]||{},this.cache[e][this.pageNumber]=t):this.cache[e]=t,t}fetchData(e,t){return this.isValidDatasource()&&this.isInitialised?(this.pageNumber=t?this.pageNumber:1,null!=e&&(e=e.toLowerCase()),this.memoizedGetData(e)):Promise.reject()}fetchPaginatedData(e){return this.pageNumber=this.pageNumber+1,this.fetchData(e,!0)}fetchNonQueryableResults(e){return this.fetchedNQData?new Promise((t=>t({data:{data:this.filterNonQueryableData(e)}}))):this.dataSourceMetaData.structure&&"list"===this.dataSourceMetaData.structure.toLowerCase()?new Promise(((t,n)=>{Nc.getData(this.dataSource,this.buildSchemaForNonQueryableDP(),this).then((n=>(this.nonQueryableData=n.data.data?[...n.data.data]:[],this.fetchedNQData=!0,t({data:{data:this.filterNonQueryableData(e)}})))).catch((e=>n(e)))})):null}filterNonQueryableData(e){const t=this.columns.filter((e=>e.useForSearch)).map((e=>e.value));return this.nonQueryableData.reduce(((n,r)=>(Object.keys(r).every((o=>!(t.includes(o)&&r[o]&&this.positionMatches(r[o],e)&&(n.push({...r}),1)))),n)),[])}positionMatches(e,t){switch(this.matchPosition){case"start":return e.toLowerCase().startsWith(t.toLowerCase());case"contains":return e.toLowerCase().includes(t.toLowerCase());default:return!1}}buildSelect(){const e=[],t=[];return this.columns.forEach((n=>{if(!t.includes(n.value)){t.push(n.value);const r={field:n.value};e.push(r)}})),e}buildFilters(e){let t={};const n={};this.columns.forEach(((t,r)=>{if(t.useForSearch){const o=`F${r}`,s={field:t.value},a={value:e};let i="CONTAINS";"start"===this.matchPosition?i="STARTS_WITH":"EQ"===this.matchPosition&&(i="EQ");const c={ignoreCase:"true",lhs:s,rhs:a,comparator:i};n[o]=c}}));const r=Object.keys(n).join(" OR ");return t={filterConditions:n,logic:r},t}buildQuery(e){return e?{select:this.buildSelect(),filter:this.buildFilters(e),distinctResultsOnly:"true"}:{select:this.buildSelect(),distinctResultsOnly:"true"}}buildPageOptions(){return this.enablePagination?{pageNumber:this.pageNumber,pageSize:this.pageSize}:{maxResultsToFetch:this.maxResultsDisplay}}buildSchemaForQueryableDP(e){return{dataViewParameters:this.parameters,query:this.buildQuery(e),paging:this.buildPageOptions()}}buildSchemaForNonQueryableDP(){return{dataViewParameters:this.parameters}}isValidDatasource(){return!!this.dataSource}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Rc,"_searchResultsCache",{});const Dc=Rc,xc="getDataObjects",wc=["LocalList","RemoteList","PromptList","DataPage"];let Mc=null;function Lc(e){const t=PCore.getMetadataUtils().getDataPageMetadata(e);if(t&&t.classID){const e=PCore.getMetadataUtils().getFieldsByClassName(t.classID);if(e&&Object.keys(e).length>0){const r=new Set(t.rdFields);for(const t in e){var n;"undefined"===t||e[t].type.startsWith("Page")||!e[t].isQueryable||r.size>0&&!r.has(t)?delete e[t]:null!==(n=e[t])&&void 0!==n&&n.datasource&&wc.includes(e[t].datasource.tableType)&&(e[t].fieldType="Picklist")}return{sourceFields:e,sourceMetadata:t}}}return{}}const jc={getDataObjects:function(){const e=Nc.getAppCacheKey(xc);if(window.sessionStorage.getItem(e))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(e)));const{restApi:t,reqType:n}=qr(xc,{}),r=Bi(t,{method:n});return r.then((t=>{window.sessionStorage.setItem(e,JSON.stringify(t))})),r},getDataPageObjects:function(e=!0){if(Mc)return Mc;const t=Nc.getAppCacheKey("getDataPageObjects");if(e&&window.sessionStorage.getItem(t))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(t)));const{restApi:n,reqType:r}=qr("getDataPages",{datapageRequestType:"explorable"});return Mc=Bi(n,{method:r,datapageRequestType:"explorable"}),Mc.then((e=>{Mc=null,window.sessionStorage.setItem(t,JSON.stringify(e))})),Mc},getDataViewMetadata:function(e,t=!1){if(!t){const{sourceMetadata:t,sourceFields:n}=Lc(e);if(t&&n&&Object.keys(n).length>0){const e={data:{...t,fields:Object.entries(n).map((e=>({...e[1],fieldID:e[0],fieldType:e[1].fieldType?e[1].fieldType:e[1].isUserReference?"User reference":void 0,category:e[0].indexOf(":")>0?e[0].substring(0,e[0].indexOf(":")):void 0,classID:e[1].associationClassID?e[1].associationClassID:e[1].classID})))}};return Promise.resolve(e)}}const n={dataSource:e,columns:[],parameters:{}};return PCore.getDataApi().init(n).then((({dataSourceMetaData:e})=>Promise.resolve({data:e})))},getDefaultColumns:function(e){const t=Nc.getAppCacheKey(`DefaultColumns_${Object.values(e).join("_")}`);if(window.sessionStorage.getItem(t))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(t)));const{restApi:n,reqType:r}=qr("getListData",{dataViewName:"D_pzGetDefaultColumns"}),o=Bi(n,{method:r,body:{dataViewParameters:e}});return o.then((e=>{window.sessionStorage.setItem(t,JSON.stringify(e))})),o},getFieldsForDataSource:function(e,t=!1){if(!t){const{sourceFields:t}=Lc(e);if(t)return Promise.resolve({data:{data:Object.keys(t).map((e=>({pyFieldName:e})))}})}const n=Nc.getAppCacheKey(`RDColumns-${e}`);if(window.sessionStorage.getItem(n))return Promise.resolve(JSON.parse(window.sessionStorage.getItem(n)));const r=PCore.getDataApiUtils().getData("D_pxFieldsForDataSource",{dataViewParameters:{DataPageName:e}});return r.then((e=>{window.sessionStorage.setItem(n,JSON.stringify(e))})),r},getInsightIDs:function(){const{restApi:e,reqType:t}=qr("getInsightIDs");return Bi(e,{method:t})},getInsightByID:function(e){const t=PCore.getMetadataUtils().getInsight(e);if(t)return Promise.resolve({data:{pyInsights:[t]}});const n={insightID:e},{restApi:r,reqType:o}=qr("getInsightByID",n);return Bi(r,{method:o})},createInsight:function(e){const{restApi:t,reqType:n}=qr("createInsight");return Bi(t,{method:n,body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},updateInsight:function(e,t){const n={insightID:e},{restApi:r,reqType:o}=qr("updateInsight",n);return Bi(r,{method:o,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},deleteInsight:function(e){const t={insightID:e},{restApi:n,reqType:r}=qr("deleteInsight",t);return Bi(n,{method:r})},exportToExcel:function(e){const{restApi:t,reqType:n}=qr("exportToExcel");return Bi(t,{method:n,body:JSON.stringify(e)})},translateStrings:function(e){const{restApi:t,reqType:n}=qr("translateStrings");return Bi(t,{method:n,body:JSON.stringify(e)})}};class Uc{constructor(){this.validators={}}register(e,t){this.validators[e]=t}getValidator(e){return this.validators[e]}validateRquired(e,t,n,r,o,s){let a=null;if("true"===s.getConfigProps().required||!0===s.getConfigProps().required){let i=r;"string"==typeof i&&(i=i.trim()),"radiobuttons"===e&&(i=s.getConfigProps().value),"attachment"!==e||s.attachmentsInfo&&!s.attachmentsInfo.delete||(i=""),"checkbox"!==e||i&&"false"!==i||(i=""),a=this.getValidator("required")(i),Uc.messageDispatcher(t,n,o,a)}return a}validateType(e,t,n,r,o,s){let a=null;return this.getValidator(e)&&(a=this.getValidator(e)(r),""!==r&&Uc.messageDispatcher(t,n,o,a)),s.getConfigProps().validationType&&(a=this.getValidator(s.getConfigProps().validationType)(r),Uc.messageDispatcher(t,n,o,a)),a}validate(e,t,n,r){const o=r.getContextName();let s=null;if(!r.getConfigProps().disabled&&!r.getConfigProps().readOnly){const a=r.getPageReference();r.skipRequiredValidation()||(s=this.validateRquired(e,t,a,n,o,r)),s||(s=this.validateType(e,t,a,n,o,r))}return{message:s}}static messageDispatcher(e,t,n,r){if(r){const o=[];o.push({type:st.MESSAGES.MESSAGES_TYPE_ERROR,message:r}),Nn({messages:o,property:e,pageReference:t,context:n})}}isValidatorExist(e){return!!e.validatetype}}const kc=new Uc,Vc=function(e){this.c11nEnv=e};Vc.prototype={constructor:Vc,validate:function(e,t){if(!t&&!(t=this.c11nEnv.getStateProps().value)){const e=this.c11nEnv.getComponentConfig();"multi"===e.selectionMode?t=this.c11nEnv.getStateProps().selectionList:"Editable"===e.renderMode&&(t=this.c11nEnv.getStateProps().referenceList)}return kc.validate(this.c11nEnv.getComponentName().toLowerCase(),t,e,this.c11nEnv)}};const Fc=Vc,$c="OPEN_PROCESS_ACTION",Gc="OPEN_ASSIGNMENT",Bc="DELETE_CASE_IN_CREATE_STAGE",Wc="SAVE_AND_CLOSE",Hc=e=>({type:Wc,payload:e});function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{RESOURCE_TYPES:zc}=st;class Kc{static openCase(e,t,n,r){const o={insKey:e,acTargetName:n,actionMgrID:Bn.getNextActionMgrId(),context:t,...r},s=gt,{promise:a}=Bn.actionManagerPromise(s,o.actionMgrID);return hi({type:s,payload:o}),a}static openAssignment(e,t,n,r){const o={assignmentID:e,vcName:n,doDeleteCaseSummary:!0,actionMgrID:Bn.getNextActionMgrId(),context:t,...r},s=Et,{promise:a}=Bn.actionManagerPromise(s,o.actionMgrID);return hi({type:s,payload:{...o}}),a}static createCase(e,t,n,r){const o=ft,s={class:e,acTargetName:n,actionMgrID:Bn.getNextActionMgrId(),context:t,...r},{promise:a}=Bn.actionManagerPromise(o,s.actionMgrID);return hi({type:o,payload:{...s}}),a}static getOpenedCaseItems(e){const t=[],n=xs(e);if(n){const{items:r={}}=n,o=Object.keys(r),s=$s(e);o.forEach((n=>{if(r[n]&&(r[n].resourceType===zc.CASE||r[n].resourceType===zc.ASSIGNMENT)){const{key:o="",context:a}=r[n],i=r[n],c=o.substring(o.indexOf(" ")+1),l=Ll.getStoreValue(".caseTypeID","caseInfo",a),u=s===n;t.push({...i,key:o,workID:o,caseID:c,className:l,context:a,containerItemID:n,target:e,active:u})}}))}return t}}Yc(Kc,"getCaseDetails",(e=>{const t={caseID:e},{restApi:n,reqType:r}=qr(Gt,t);return Bi(n,{method:r})})),Yc(Kc,"getCaseBulkActions",(e=>{const{restApi:t,reqType:n}=qr("getBulkActions"),r=e.map((e=>({ID:e}))),o=r.length,s=o/5,a={},i=[];for(let e=0;e<o;e+=s)a.cases=r.slice(e,e+s),a.cases.length&&i.push(Bi(t,{method:n,body:a}));return Promise.all(i).then((e=>{let t=[];for(let n=0;n<e.length;n+=1)0!==n?t.length&&(t=t.filter((t=>e[n].data.availableActions.some((e=>t.id===e.id))))):t=e[n].data.availableActions;return t}))}));const Jc=Kc;class Xc{constructor(e,t){this.children=e,this.index=0,this.options=t}hasNext(){return this.index<this.children.length}next(){if(!this.hasNext())throw new Error("No Children");const e=this.children[this.index];return this.index+=1,al.createC11nEnv({meta:e,options:this.options})}resetIndex(){this.index=0}}class Qc{constructor(e,t,n){this.meta=e,this.datasource=t,this.index=0,this.options=n,this.datasourceObj=Ja.getProperyValue(t,n.pageReference,n.context)}hasNext(){return this.index<this.datasourceObj.length}next(){if(!this.hasNext())throw new Error("No Children");const e=Ja.getContextPath(this.datasource,this.index);return this.index+=1,al.createC11nEnv({meta:this.meta,options:{...this.options,pageReference:e}})}resetIndex(){this.index=0}}const Zc={Currency:!0,TextInput:!0,Phone:!0,Percentage:!0,Email:!0,Integer:!0,Decimal:!0,URL:!0,SemanticLink:!0,Checkbox:!0,RadioButtons:!0,DateTime:!0,Date:!0,Time:!0,Text:!0,TextArea:!0,RichText:!0,Dropdown:!0,Search:!0,Location:!0,Attachment:!0,AutoComplete:!0,MultiSelect:!0,UserReference:!0,Region:!0,TextContent:!0,View:{Forms:!0,DefaultForm:!0,OneColumn:!0,TwoColumn:!0,ThreeColumn:!0}};let el=null;const tl=(e,t,n)=>{e&&(Object.keys(e).forEach((r=>{if("children"!==r){const o=e[r],s=bn.trimAnnotation(o);if("string"!=typeof s&&"string"!=typeof o||!(ot.isPropertyRef(s)||o.startsWith("@W ")||o.startsWith("@E "))){if(Array.isArray(s))s.forEach(((e,n)=>{const o={parentStateObj:t,parentKey:r,isObjHasValue:!!t[r]};t[r]=t[r]||[],t[r][n]=Object.create({}),tl(e,t[r][n],o)}));else if(s&&"object"==typeof s&&"exp"!==s.type){const e={parentStateObj:t,parentKey:r,isObjHasValue:!!t[r]};t[r]=t[r]||{},tl(s,t[r],e)}}else n&&n.parentKey&&(n.isObjHasValue=!0),t[r]=s}})),n&&!n.isObjHasValue&&delete n.parentStateObj[n.parentKey])},nl=(e,t)=>{e._inheritedProps=e._inheritedProps||[],e.inheritedProps=[...e._inheritedProps,...ot.deepClone(t.inheritedProps)]};function rl(e){var t,n;const{meta:r,isRoot:o,options:s={},useCustomContext:a}=e;let i=r.config,c=!1,u=!1,p=!1,d="",h="";const f={},g={};let y="";const m={};let I,{viewName:E}=s,A=s.referenceList||"";const _=s.isInsideList||!1;let v={},S=s.localeReference;const b=s.target,C={},P=(null==r||null===(t=r.config)||void 0===t?void 0:t.readOnly)||s.readOnly;s.inheritedConfig&&(v=ot.deepClone(s.inheritedConfig)),null!=r&&null!==(n=r.config)&&void 0!==n&&n.inheritedProps&&nl(v,r.config),tl(i,f);const T=!ot.isObjectEmpty(f);var O;i&&i.config&&(c=ot.isExpressionExist(i.config),u=ot.isWhenExist(i.config),p=kc.isValidatorExist(i.config)),h=o?st.APP.APP:(null==r||null===(O=r.config)||void 0===O?void 0:O.contextName)||s.context,this.setXRayInfo=e=>{ot.mergeDeep(e,C)},this.getXRayInfo=()=>C,this.getStateProps=()=>f,this.setStateProps=e=>{ot.mergeDeep(e,f)},this.getMetadata=()=>i,this.getCaseInfo=()=>(I||(I=new class{constructor(e){this.c11nEnv=e}getCaseTypeName(){return this.c11nEnv.getValue(at.CASE_INFO.CASE_TYPE_NAME)}getName(){return this.c11nEnv.getValue(at.CASE_INFO.CASE_INFO_NAME)}getClassName(){return this.c11nEnv.getValue(at.CASE_INFO.CASE_TYPE_ID)}getKey(){return this.c11nEnv.getValue(at.CASE_INFO.CASE_INFO_ID)}getID(){const e=this.getKey();if(e){const[,t]=e.split(" ");return t}}getAssignmentID(){return this.c11nEnv.getValue(at.CASE_INFO.ASSIGNMENT_ID)}getActions(){return this.c11nEnv.getValue(at.CASE_INFO.ACTION_BUTTONS)}getActiveFlowActionID(){return this.c11nEnv.getValue(at.CASE_INFO.ACTIVE_ACTION_ID)||this.c11nEnv.getValue(at.CASE_INFO.ASSIGNMENTACTION_ID)}getParentCaseInfo(){return this.c11nEnv.getValue(at.CASE_INFO.PARENTCASEINFO)}isPerform(){return!!this.c11nEnv.getValue("nextAssignmentInfo")}isReview(){return!this.isPerform()}isAssignmentInCreateStage(){const e=this.c11nEnv.getValue(at.CASE_INFO.CASE_INFO);return Uo(e)}isLocalAction(){const e=this.c11nEnv.getValue(at.CASE_INFO.CASE_INFO);return Vo(e)}}(this)),I),this.getListActions=()=>(e=>({insert:(t,n,r)=>((e,t,n,r)=>{const o=n.getContextName(),s=n.getReferenceList(),a=r||n.getPageReference();io(n),lo(o,`${s}[${t}]`);const i={instruction:at.LIST_ACTIONS.INSERT,content:{...ot.unflatten(e)}},c=JSON.parse(JSON.stringify(i));delete c.content.classID,oo[o].push({...c,target:co(s),listIndex:t+1}),hi(qa({...i,listIndex:t,context:o,referenceList:a}))})(t,n,e,r),update:(t,n,r)=>uo(t,n,e,r),updateProperty:(t,n)=>((e,t,n)=>{const r=n.getPageReference(),o={[xn(e)]:t};let s=r.match(/\[\d+\]$/g);s=s[0].substring(1,s[0].length-1),uo(o,Number(s),n)})(t,n,e),deleteEntry:(t,n)=>((e,t,n)=>{const r=t.getContextName(),o=t.getReferenceList(),s=n||t.getPageReference();io(t),lo(r,`${o}[${e}]`);const a={instruction:at.LIST_ACTIONS.DELETE};oo[r].push({...a,target:co(o),listIndex:e+1}),hi(qa({...a,listIndex:e,context:r,referenceList:s}))})(t,e,n),reorder:(t,n)=>((e,t,n)=>{const r=n.getContextName(),o=n.getReferenceList(),s=n.getPageReference();io(n),lo(r,`${o}[${t}]`);const a={instruction:at.LIST_ACTIONS.MOVE};oo[r].push({...a,target:co(o),listMoveToIndex:t+1,listIndex:e+1}),hi(qa({...a,listIndex:e,listMoveToIndex:t,context:r,referenceList:s}))})(t,n,e),setSelectedRows:t=>((e,t)=>new Promise((n=>{var r;const{selectionMode:o,selectionList:s,required:a}=t.getConfigProps(),i=o===at.LIST_SELECTION_MODE.MULTI,c=t.getContextName();let l=t.getPageReference(),u=i?s.substring(1):l.substring(l.lastIndexOf(".")+1);const p=t.getRawMetadata();let d=null;const h=null!==p.config.dataRelationshipContext&&"SimpleTableSelect"===p.type&&"single"===(null===(r=p.config)||void 0===r?void 0:r.selectionMode);h&&(u=p.config.dataRelationshipContext,d=l.concat(".").concat(u),l=d);const f=i?`${l}${s}`:l,{datasource:{parameters:g={}}={}}=i?t.getFieldMetadata(`${at.PROPERTY_ANNOTATION} .${u}`):t.getCurrentPageFieldMetadata(d);if(i){let n=u;0===f.indexOf(st.CASE_INFO.CASE_INFO_CONTENT)&&(n=f.substr(st.CASE_INFO.CASE_INFO_CONTENT.length));const r=t.getValue(f)||[];io(t);const o=[];let s=r.length;e.forEach((e=>{const t=ho(g,e,u),a=Object.entries(t);let i=r.findIndex((e=>a.every((([t,n])=>e[t]===n))));-1===i?(i=s,e.$selected&&(s+=1)):s=s?s-1:0,oo[c].push({instruction:e.$selected?at.LIST_ACTIONS.INSERT:at.LIST_ACTIONS.DELETE,content:t,target:co(n),listIndex:i+1}),o.push({instruction:e.$selected?at.LIST_ACTIONS.SELECT:at.LIST_ACTIONS.DESELECT,listIndex:i,content:{...t}})})),hi(qa({instruction:at.LIST_ACTIONS_TYPE.SELECT_DESELECT,context:c,referenceList:`${l}.${u}`,actions:o}))}else{const n=ho(g,e[0],u);t.getActionsApi().updateFieldValue("",n,h&&{contextPageReference:l}),t.getActionsApi().triggerFieldChange("",n)}((e,t,n,r,o)=>{const s=e.getValue(t)||{};n&&Object.keys(s).length>0&&e.clearErrorMessages({property:r?o:e.getStateProps().value})})(t,f,a,i,u),n()})))(t,e),getSelectedRows:(t=!1)=>((e,t)=>{var n;const{selectionMode:r,selectionList:o}=t.getConfigProps(),s=[];let a=t.getPageReference();const i=r===at.LIST_SELECTION_MODE.MULTI;let c=i?o.substring(1):a.substring(a.lastIndexOf(".")+1);const l=t.getRawMetadata();let u=null;null!==l.config.dataRelationshipContext&&"SimpleTableSelect"===l.type&&"single"===(null===(n=l.config)||void 0===n?void 0:n.selectionMode)&&(c=l.config.dataRelationshipContext,u=a.concat(".").concat(c),a=u);const p=i?`${a}${o}`:a;let d=t.getValue(p)||[];if(Array.isArray(d)||(d=[d]),e)return Promise.resolve(d);const{datasource:{parameters:h={}}={}}=i?t.getFieldMetadata(`${at.PROPERTY_ANNOTATION} .${c}`):t.getCurrentPageFieldMetadata(u);return d.forEach((e=>{let t="";Object.values(h).forEach((n=>{if(po(n,c)){const r=n.substring(n.lastIndexOf(".")+1);t=`${t}${e[r]}`}})),t.trim()&&s.push(t.trim())})),Promise.resolve(s)})(t,e)}))(this),this.getReferenceList=()=>A,this.isInsideList=()=>_||/\[\d+\]/g.test(this.getPageReference()),this.getRawMetadata=()=>this.getMetadata(),this.setReferenceList=e=>{A=e},this.getComponentConfig=()=>{var e;return(null===(e=this.getMetadata())||void 0===e?void 0:e.config)||{}},this.isExpressionExist=()=>c,this.isWhenExist=()=>u,this.isConditionExist=()=>this.isExpressionExist()||this.isWhenExist(),this.isBoundToState=()=>T,this.getPageReference=()=>d,this.getFullReference=()=>{const e=this.getPageReference(),t=this.getComponentConfig();let n="value";"multi"===t.selectionMode?n="selectionList":"Editable"===t.renderMode&&(n="referenceList");const r=this.getComponentConfig()[n];return Ja.getContextPath(e,r)},this.getContextName=()=>h,this.getContainerName=()=>{const{acTargetName:e="primary",type:t,name:n}=this.getComponentConfig();return"view"!==(null==t?void 0:t.toLowerCase())&&n?n:s.containerName||e},this.getTarget=()=>b,this.getCurrentView=()=>E,this.getConfigProps=(e={})=>{var t;const n={readOnly:P,...null===(t=i)||void 0===t?void 0:t.config,...m,...v};return this.resolveConfigProps(n,e),ot.resolveStringBooleans(e)},this.getRawConfigProps=()=>({...i.config,...m,...v}),this.resolveConfigProps=(e,t={})=>(e&&(Ja.resolveProps(e,t,this),bn.handleComponentMapping(t,{type:this.getComponentName(),config:e},this)),t),this.registerAdditionalProps=(e={})=>(Object.assign(m,e),this.resolveConfigProps(m)),this.deRegisterAdditionalProps=(e=[])=>(e.forEach((e=>{delete m[e]})),!0),this.populateAdditionalProps=e=>{const t=this.getComponentName(),n=this.getComponentConfig();if(t===at.MODAL_VIEW_CONTAINER||t===at.CASE_CREATE_STAGE||t===at.FLOW_CONTAINER){const n=t===at.FLOW_CONTAINER?this.getContextName():$s(`${at.APP.APP}/${this.getContainerName()}`),r=Tn({context:n,category:st.PAGE});e.pageMessages=r,f.pageMessages=e.pageMessages}if(this.isEditable()){var r,o;let{value:t}=this.getStateProps();void 0===t&&"multi"===(null===(r=this.getComponentConfig())||void 0===r?void 0:r.selectionMode)?t=this.getStateProps().selectionList:!t&&"Editable"===(null===(o=this.getComponentConfig())||void 0===o?void 0:o.renderMode)&&this.getStateProps().referenceList&&(t=this.getStateProps().referenceList);const n=Tn({property:t,pageReference:this.getPageReference(),context:this.getContextName(),type:st.MESSAGES.MESSAGES_TYPE_ERROR}),s=Tn({property:t,pageReference:this.getPageReference(),context:this.getContextName(),type:st.MESSAGES.MESSAGES_TYPE_INFO});n&&n[0]&&(e.validatemessage=n[0].message,e.status=at.FIELD_LEVEL_ERROR,f.validatemessage=e.validatemessage,f.status=e.status),s&&s[0]&&(e.infoMessage=s[0].message,e.status=at.FIELD_LEVEL_WARNING,f.infoMessage=e.infoMessage,f.status=e.status)}if(t===at.ROOT_CONTAINER){const t=Tn({context:at.APP.ROOT,category:"HTTP"});e.httpMessages=t,f.httpMessages=e.httpMessages}if(t===at.APP_SHELL&&e.portalDocMode===at.CONTAINER_TYPE.MULTIPLE&&(e.activeCases=Jc.getOpenedCaseItems(`${st.APP.APP}/${at.PRIMARY}`),f.activeCases=e.activeCases),t===at.APP_SHELL||t===at.MODAL_VIEW_CONTAINER||t===at.CASE_CREATE_STAGE||n.template===at.CASE_PREVIEW){var s;let t=Tn({context:at.APP.APP,category:"HTTP"});const n=Tn({context:$s(`${at.APP.APP}/${this.getContainerName()}`),category:"HTTP"});t=t?n?t.concat(Tn({context:$s(`${at.APP.APP}/${this.getContainerName()}`),category:"HTTP"})):t:Tn({context:$s(`${at.APP.APP}/${this.getContainerName()}`),category:"HTTP"}),e.httpMessages=t?t.map((e=>e.message)):t,f.httpMessages=e.httpMessages,null===(s=t)||void 0===s||s.map((t=>{t.errorDetails&&(e.errorDetails=e.errorDetails?e.errorDetails.push(...t.errorDetails):t.errorDetails,f.errorDetails=e.errorDetails)}))}if(t===at.VIEW_CONTAINER||t===at.FLOW_CONTAINER||t===at.MODAL_VIEW_CONTAINER||t===at.PREVIEW_VIEW_CONTAINER||t===at.ROOT_CONTAINER){if(e.routingInfo=jr(this.getContainerName(),h),f.routingInfo=e.routingInfo,t===at.FLOW_CONTAINER){const t=Tn({context:this.getContextName(),category:at.CASEMESSAGES}),n=this.getContextName();e.caseMessages=t,f.caseMessages=e.caseMessages,e.caseViewMode=this.getValue("context_data.caseViewMode"),f.caseViewMode=e.caseViewMode;const r=qs(n)[0];if(r){var a,i,c,u,p,d,g,y,m,I;const t=$s(r);e.lastUpdateTime=null==l||null===(a=di())||void 0===a||null===(i=a.getState())||void 0===i||null===(c=i.data)||void 0===c||null===(u=c[t])||void 0===u||null===(p=u.caseInfo)||void 0===p?void 0:p.lastUpdateTime,f.lastUpdateTime=null==l||null===(d=di())||void 0===d||null===(g=d.getState())||void 0===g||null===(y=g.data)||void 0===y||null===(m=y[t])||void 0===m||null===(I=m.caseInfo)||void 0===I?void 0:I.lastUpdateTime}}if(e.loadingInfo=this.getLoadingStatus(this.getContextName()),t===at.MODAL_VIEW_CONTAINER){var E;const t=(null===(E=e.routingInfo)||void 0===E?void 0:E.accessedOrder)||[],n=t[t.length-1];n&&(e.loadingInfo=this.getLoadingStatus(n))}f.loadingInfo=e.loadingInfo}else n.template===at.CASE_VIEW||n.template===at.CASE_PREVIEW||n.template===at.OBJECT_PAGE?(e.caseInfo=this.getCaseSummary(),f.caseInfo=e.caseInfo):t===at.CASE_STAGES&&(e.stages=this.getCaseStages(),f.stages=e.stages);this.populateFieldMetadata(e)},this.populateFieldMetadata=e=>{const{value:t,datasource:n,listType:r}=this.getComponentConfig();let o="",s="";if(r===at.ASSOCIATED?(o=n,s=at.ASSOCIATED_PROPERTY_ANNOTATION):(o=t,s=at.PROPERTY_ANNOTATION),o&&"string"==typeof o&&o.includes(s)){const t=bn.getPropertyName(o),n=this.getFieldMetadata(t);n&&(e.fieldMetadata=n,(e.fieldMetadata.isDeclarativeTarget||ro.isPropertyInternal(t)||!e.datasource&&e.fieldMetadata.isClassKey&&e.listType!==at.ASSOCIATED)&&(e.readOnly=!0,f.readOnly=e.readOnly,e.fieldMetadata.isDeclarativeTarget&&this.registerAdditionalProps({readOnly:!0})))}},this.getFieldMetadata=e=>{if(!e)return null;const t=e.split(".");if(t.length<2){let t=this.getValue(at.CLASS_ID);return!t&&i&&i.config&&i.config.ruleClass&&(t=i.config.ruleClass),pn(e,t)}return pn(t.pop(),this.getValue(`.${t.join(".")}${at.CLASS_ID}`))},this.getCurrentPageFieldMetadata=(e=null)=>{let t=this.getPageReference().split(".");null!==e&&(t=e.split("."));const n=t.pop();return pn(n,this.getValue(`${t.join(".")}${at.CLASS_ID}`))},this.getCurrentClassID=()=>this.getValue(at.CLASS_ID),this.getCaseSummary=()=>{const e=this,t={...this.getDataObject()[st.CASE_INFO.CASE_INFO]};return t.CaseID=t.CaseID||this.getValue(st.CASE_INFO.CASE_INFO_PZINSKEY),{...t,isCaseWideAction:()=>Fo(e.getContextName(),e.getPageReference())}},this.getReferencedUser=e=>{const t=this.getValue("referencedUsers");return t&&t[e]?t[e]:null},this.getCaseStages=()=>this.getDataObject()[st.CASE_INFO.CASE_INFO].stages,this.getActions=()=>g,this.isRoot=()=>o,this.resolveContextProps=e=>{const{value:t}=this.getStateProps();t&&(e.error=this.getContextDataValue(`${this.getPageReference()+t}.error`),e.validatemessage=this.getContextDataValue(`${this.getPageReference()+t}.validatemessage`))},this.isValidatorExist=()=>!!p,this.getValidationApi=()=>new Fc(this),this.isEditable=()=>i&&i.config&&(Object.prototype.hasOwnProperty.call(i.config,"value")||i.config.selectionList||"Editable"===i.config.renderMode&&i.config.referenceList)&&!(Object.prototype.hasOwnProperty.call(i.config,"readOnly")&&"true"===i.config.readOnly),this.hasChildren=()=>!!y,this.getChildrenIterator=()=>(y.setContext(this.getPageReference()),y),this.setAction=(e,t)=>{g[e]=t},this.getComponentName=()=>i&&i.type,this.isComponentRefreshable=()=>i&&i.isRefreshable,this.getDataObject=e=>fi(e||this.getContextName()),this.getImagePath=e=>`${Po.getConstellationServiceUrl()}/v860/${Po.getAppAlias()}/image/${e}?org=${Mr.getOrganizationName()}`,this.skipRequiredValidation=()=>s.isBulkAction,this.isBulkAction=()=>s.isBulkAction,this.getChildren=()=>{if(y&&y.length){const t=((e,t)=>{const n=!!e.repeat;if(e["repeat-self"])return new Qc(e,e.context,t);if(n){const n=Ei(`${t.context}.${at.SUMMARY_OF_LISTS}`,e.pageReference,t.context);return new Qc(e.children[0],n||e.context,t)}return e.children?new Xc(e.children,t):void 0})(i,{pageReference:d,context:h,localeReference:S,hasForm:s.hasForm,isBulkAction:s.isBulkAction,containerName:this.getContainerName(),containerItemName:s.containerItemName,viewName:E,inheritedConfig:v,target:b,readOnly:P}),n=[];for(;t.hasNext();){const r=t.next();if(this.isBulkAction()){var e;const t=r.getPConnect().getComponentName(),{template:n}=r.getPConnect().getConfigProps();if(!0!==Zc[t]&&!0!==(null===(e=Zc[t])||void 0===e?void 0:e[n]))continue}n.push(r)}return t.resetIndex(),n}return null},this.setInheritedProp=(e,t)=>{v[e]=t},this.getLocaleRuleName=()=>S,this.getLocalizedValue=(e,t,n)=>{const r=n||this.getLocaleRuleName();return ss.getLocaleValue(e,t,r)},this.getLocaleRuleNameFromKeys=(e,t,n)=>`${e}!${t}!${n}`,this.getValue=(e,t)=>a?a[0===e.indexOf(".")?e.substring(1):e]:Ja.getProperyValue(e,t||this.getPageReference(),h),this.setInheritedConfig=e=>{if(!e)return;const{readOnly:t,displayMode:n,referenceType:r,hideLabel:o}=e;o&&(v.hideLabel=o),r&&(v.referenceType=r),n&&(v.displayMode=n),(v.readOnly||t)&&(v.readOnly=t),e.inheritedProps&&nl(v,e)},this.getInheritedProps=()=>{var e;const t={},n={};return null===(e=v.inheritedProps)||void 0===e||e.forEach((e=>{n[e.prop]=e.value})),Ja.resolveProps(n,t,this),t},this.setValue=(e,t,n)=>{let r,o;this.isInsideList()&&this.getListActions().updateProperty(e,t),this.isBulkAction()&&(r=!0,t||(o=!0)),hi({type:"SET_PROPERTY",payload:{reference:`${this.getPageReference()}${e}`,value:t,initialValue:n,context:this.getContextName(),...r&&{isStrictTracking:r},...o&&{removePropertyFromChangedList:o}}})},this.getContextDataValue=(e,t)=>Ii(t||this.getPageReference(),e,h),this.updateState=e=>{hi(Ia({context:h,data:e}))},this.replaceState=(e,t)=>{hi({type:"REPLACE_PROPERTY",payload:{reference:`${this.getPageReference()}${e}`,value:t,context:this.getContextName()}})},this.reportError=(e,t={},n)=>{hi(Ba(e,t,n))},this.getComponent=()=>el({getPConnect:()=>this}),this.createComponent=(e,t,n,r={})=>{let o=d;if(t){const e=Ei(`${this.getPageReference()}.${at.SUMMARY_OF_LISTS}`,t,h);o=Ja.getContextPath(e||t,n)||t}else if(r.pageReference){let e=r.pageReference;e=bn.handleAnnotation(e,this),o=Ja.getContextPath(d,e)||""}return el(ol({meta:e,options:{containerName:this.getContainerName(),hasForm:s.hasForm,...e.options,pageReference:o,context:h,target:b}}),r)},this.getReferencedView=()=>Ja.resolveReference(r,this),this.getReferencedViewPConnect=e=>{const t={...this.getComponentConfig()};return null==t||delete t.name,null==t||delete t.type,ol({meta:this.getReferencedView(),options:{...e?s:void 0,...t,context:this.getContextName(),pageReference:this.getPageReference()}})},this.getContainerManager=()=>new class{constructor(e){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"containerManagerPromise",(e=>{const t=Bn.getNextActionMgrId();let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return Bn.register(t,o,n,r,e),{actionMgrID:t,promise:o}})),this.c11nEnv=e}initializeContainers(e){const t=this.c11nEnv,n={context:t.getContextName(),name:t.getContainerName(),type:at.CONTAINER_TYPE.SINGLE},{actionMgrID:r,promise:o}=this.containerManagerPromise("INIT_CONTAINERS"),s={...n,...e,actionMgrID:r};return hi(ba(s)),o}addContainerItem(e){var t,n;const r=Pt,o=this.c11nEnv,s=o.getMetadata(),{children:a}=s,[i]=a,c=o.getContextName(),l=o.getContainerName(),u=yr(l,c,(null==e?void 0:e.containerType)===at.CONTAINER_TYPE.SINGLE),p=Lr(l,c),d={root:{...i,config:{...null==i?void 0:i.config,context:(null==i||null===(t=i.config)||void 0===t?void 0:t.context)||(null===(n=o.getPageReference)||void 0===n?void 0:n.call(o))}},containerItemID:u,context:u,target:p,containerName:l},{actionMgrID:h,promise:f}=this.containerManagerPromise(r),g={...d,...e,actionMgrID:h};return hi(Pa(g)),f}updateContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("updateContainerItem : containerItemID is required in containerInfo object"));const t=Lt,n={context:Bs(e.containerItemID),target:ra(e.containerItemID)},{actionMgrID:r,promise:o}=this.containerManagerPromise(t),s={...n,...e,actionMgrID:r};return hi(Da(s)),o}activateContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("activateContainerItem : containerItemID is required in containerInfo object"));const t={target:ra(e.containerItemID)},{actionMgrID:n,promise:r}=this.containerManagerPromise("ACTIVATE_CONTAINER_ITEM"),o={...t,...e,actionMgrID:n};return hi(wa(o)),r}removeContainerItem(e){if(null==e||!e.containerItemID)return Promise.reject(new Error("removeContainerItem : containerItemID is required in containerInfo object"));const t=Tt,n={context:Bs(e.containerItemID),target:ra(e.containerItemID)},{actionMgrID:r,promise:o}=this.containerManagerPromise(t),s={...n,...e,actionMgrID:r};return hi(La(s)),o}resetContainers(e){if(null==e||!e.context||null==e||!e.name)return Promise.reject(new Error("resetContainers : context and name are required in containerInfo object"));const t=ea(e),{actionMgrID:n,promise:r}=this.containerManagerPromise("RESET_CONTAINERS"),o={...t,...e,actionMgrID:n};return hi(Ca(o)),r}addTransientItem(e){const{id:t,data:n}=e,r=this.c11nEnv.getContextName(),o=Ir(t,r),s=ca(r);return o&&s.includes(o)||hi(Ta({transientItemID:o,contextName:r,target:ra(r),data:n})),o}updateTransientData(e){const{transientItemID:t,data:n}=e,r=this.c11nEnv.getContextName();if(t){if(!ca(r).includes(t))return;hi(Oa({transientItemID:t,data:n}))}}removeTransientItem(e){const t=this.c11nEnv.getContextName(),{target:n=this.c11nEnv.getTarget(),containerItemID:r,transientItemID:o}=e;if(o&&r){if(!ca(t).includes(o))return;hi(Ua({target:n,containerItemID:r,transientItemID:o}))}}}(this),this.getActionsApi=()=>new class{constructor(e){qc(this,"MSG_CLASSNAME_REQUIRED","className is required parameter"),qc(this,"MSG_CLASSNAME_STRING","className must be a string"),qc(this,"MSG_CONTAINERITEMID_REQUIRED","containerItemID is required parameter"),qc(this,"MSG_CONTAINERITEMID_STRING","containerItemID must be a string"),qc(this,"MSG_PAGENAME_REQUIRED","pageName is required parameter"),qc(this,"MSG_PAGENAME_STRING","pageName must be string"),qc(this,"actionsApiPromise",((e,t=null,n=!0)=>{let r,o,s=null;s=t&&null!==t.actionMgrID?t.actionMgrID:Bn.getNextActionMgrId();const a=new Promise(((e,t)=>{r=e,o=t}));return Bn.register(s,a,r,o,e,t,n),{actionMgrID:s,promise:a}})),this.c11nEnv=e}createWork(e,t={}){if(!e)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));const n=ft,r=Kn({class:e,flowType:"pyStartCase",containerName:at.PRIMARY,openCaseViewAfterCreate:!0,...t},this.c11nEnv),{promise:o}=this.actionsApiPromise(n,r);if(xr.isRemoteCase(e)){const{RemoteClassName:t,RemoteSystemID:n}=xr.getRemoteCase(e);r.class=t,r.headers=r.headers||{},r.headers.RemoteSystemID=n}return hi({type:n,payload:{...r}}),o}openWorkByHandle(e,t){if(!e)return Promise.reject(new Error("workID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("workID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms&&window.pms.plugins&&window.pms.plugins.c11n&&window.pms.plugins.c11n.openWorkByHandle)return window.pms.plugins.c11n.openWorkByHandle(e,t);const n={insKey:e,acTargetName:at.PRIMARY},r=gt,o=Kn(n,this.c11nEnv),{promise:s}=this.actionsApiPromise(r,o);if(xr.isRemoteCase(t)){const{RemoteSystemID:e}=xr.getRemoteCase(t);o.headers=o.headers||{},o.headers.RemoteSystemID=e,o.isRemoteCase=!0,o.remoteCaseClass=t}return hi({type:r,payload:o}),s}openAssignment(e,t,n){if(!e)return Promise.reject(new Error("assignmentID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("assignmentID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));if(window.pms&&window.pms.plugins&&window.pms.plugins.c11n&&window.pms.plugins.c11n.openAssignment)return window.pms.plugins.c11n.openAssignment(e,t);const r={assignmentID:e,doDeleteCaseSummary:!0,containerName:n.containerName,isActionFromToDoList:n.isActionFromToDoList};n.isChild&&(r.containerName=at.PRIMARY,r.isChild=n.isChild);const o=Gc,s=Kn(r,this.c11nEnv),{promise:a}=this.actionsApiPromise(o,s);if(xr.isRemoteCase(t)){const{RemoteSystemID:e}=xr.getRemoteCase(t);s.headers=s.headers||{},s.headers.RemoteSystemID=e}s.activeItemCaseViewMode=this.c11nEnv.getValue("context_data.caseViewMode");const i={context:s.context||n.context,containerName:s.containerName||n.containerName,targetContainerName:s.containerName||n.containerName,viewType:s.viewType||n.viewType,skipBrowserSemanticUrlUpdate:n.skipBrowserSemanticUrlUpdate};return hi({type:o,payload:{...s,...i}}),a}finishAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=mt,n=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID),r=this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO_ID),o=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENTS),s=this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID),a=s||((e,t)=>{var n,r,o;if(!Array.isArray(e)||!t)throw"Invalid parameters passed to getAssignmentActionID API";return null===(n=e.find((e=>e.ID===t)))||void 0===n||null===(r=n.actions)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.ID})(o,n),i=this.c11nEnv.getValue(st.CASE_INFO.AVAILABLEACTIONS),c=Uo(this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO));let l=!1;if(i&&s){const e=i.find((e=>e.ID===s));e&&(l="Case"===e.type)}const[u,p]=r.split(" "),d={class:u,actionID:a,assignmentID:n,caseID:r,workID:p,containerName:this.c11nEnv.getContainerName(),containerItemID:e,isCaseWideAction:l,doDeleteCaseSummary:!0,isInCreateStage:c};e&&-1!==e.indexOf(at.MODAL)&&(d.containerName=at.MODAL,d.isModalAction=!0);const h=Kn(d,this.c11nEnv),{promise:f}=this.actionsApiPromise(t,h),g=Bs(e),y=this.c11nEnv.getValue("isProcessAction","isProcessAction",g);return h.isProcessAction=y,hi({type:t,payload:{...h,context:g,isFormValid:Vn(g)}}),f}submitBulkAction(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t="SUBMIT_BULK_ACTION",n=this.c11nEnv.getValue(st.CASE_INFO.CASES),r=this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID),o={containerName:this.c11nEnv.getContainerName(),containerItemID:e,isCaseWideAction:!0,doDeleteCaseSummary:!0,isInCreateStage:!1};e&&-1!==e.indexOf(at.MODAL)&&(o.containerName=at.MODAL,o.isModalAction=!0);const s=Kn(o,this.c11nEnv),{promise:a}=this.actionsApiPromise(t,s),i=Bs(e);return hi({type:t,payload:{...s,context:i,cases:n,actionID:r,isFormValid:Vn(i)}}),a}openBulkAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter for openBulkAction"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string openBulkAction"));const{selectedList:n}=t,r=t.type,o={selectedList:n,vcName:t.target,actionName:null==t?void 0:t.name,actionID:e,doDeleteCaseSummary:!0,localActionType:r,...t},s="OPEN_BULK_ACTION",a=Kn(o,this.c11nEnv),{promise:i}=this.actionsApiPromise(s,a);return hi({type:s,payload:{...a}}),i}cancelBulkAction(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=Tt,n={containerItemID:e,context:e,skipReleaseLockRequest:!0,target:`${at.APP.APP}/${at.MODAL}`,caseViewMode:at.PERFORM_MODE,deleteContext:!0};hi({type:t,payload:n});const{promise:r}=this.actionsApiPromise(t,n);return r}approveCase(e){return e?"string"!=typeof e?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(hi({type:it,payload:{reference:st.CASE_INFO.APPROVALFLAG,value:at.APPROVED,context:e}}),this.finishAssignment(e)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}rejectCase(e){return e?"string"!=typeof e?Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING)):(hi({type:it,payload:{reference:st.CASE_INFO.APPROVALFLAG,value:at.REJECTED,context:e}}),this.finishAssignment(e)):Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED))}resolveDuplicateCase(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const[,t]=this.c11nEnv.getValue(st.CASE_INFO.DUPLICATECASEINSKEY).split(" "),n={type:it,payload:{reference:st.CASE_INFO.DUPLICATECASEFLAG,value:at.DUPLICATE,context:e}},r={type:it,payload:{reference:st.CASE_INFO.DUPLICATECASEID,value:t,context:e}};return hi([n,r]),this.finishAssignment(e)}ignoreDuplicateCase(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t={type:it,payload:{reference:st.CASE_INFO.DUPLICATECASEFLAG,value:at.IGNORE,context:e}},n={type:it,payload:{reference:st.CASE_INFO.DUPLICATECASEID,value:"",context:e}},r={type:it,payload:{reference:st.CASE_INFO.DUPLICATECASEINSKEY,value:"",context:e}};return hi([t,n,r]),this.finishAssignment(e)}openLocalAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string"));const n=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID)||t.assignKey,r=this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO_ID)||t.caseID,o=t.type,s={caseID:r,assignmentID:n,vcName:t.target,actionName:null==t?void 0:t.name,assignKey:n,actionID:e,doDeleteCaseSummary:!0,localActionType:o,...t},a="OPEN_LOCAL_ACTION",i=Kn(s,this.c11nEnv),c=this.c11nEnv.getContextName(),{promise:l}=this.actionsApiPromise(a,i);let u=$s(qs(c)[0]);const p=xs(qs(c)[0]);let d=!1;if(null==p||p.accessedOrder.forEach((e=>{r===p.items[e].key&&(d=!0,u=p.items[e].context)})),!d)return hi({type:a,payload:{...i,contextName:c,continueExecution:d}}),l;const h=u,f=h&&-1!==h.indexOf(at.MODAL),g=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID),y=this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID)?this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID):this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENTACTION_ID),m=this.c11nEnv.getContainerName(),I=this.c11nEnv.getValue(st.CASE_INFO.CASE_TYPE_ID),E=this.c11nEnv.getValue("isProcessAction","isProcessAction",h),A=Kn({context:h,containerItemID:u,assignmentID:g,actionID:y,caseID:r,containerName:m,caseType:I,isModalAction:f,isFormValid:!0,isProcessAction:E},this.c11nEnv);A.context=u;const _=Bs(u),v=this.c11nEnv.getCaseSummary(),S=Uo(v),b=Kn({caseID:r,containerItemID:u,cancelContext:_},this.c11nEnv);let C={};return f?(b.acTargetName=at.MODAL,b.isInCreateStage=S,b.isModalAction=f,C={...b}):C={...b,acName:Lr(this.c11nEnv.getContainerName(),b.context)},hi({type:a,payload:{...i,contextName:c,saveActionPayload:A,cancelActionPayload:C,continueExecution:d}}),l}openProcessAction(e,t){if(!e)return Promise.reject(new Error("actionID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("actionID must be a string"));const n=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID)||t.assignKey,r=this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO_ID)||t.caseID,o=t.type,s={caseID:r,assignmentID:n,vcName:t.target,actionName:null==t?void 0:t.name,assignKey:n,actionID:e,doDeleteCaseSummary:!0,processActionType:o,isProcessAction:!0,...t},a=$c,i=Kn(s,this.c11nEnv),{promise:c}=this.actionsApiPromise(a,i);return hi({type:a,payload:{...i}}),c}navigateToStep(e,t){if(!e)return Promise.reject(new Error("stepID is required parameter"));if("string"!=typeof e)return Promise.reject(new TypeError("stepID must be a string"));if(!t)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const n="NAVIGATE_TO_STEP",r=this.c11nEnv.getValue(st.NEXT_ASSIGNMENT_INFO_ID)?this.c11nEnv.getValue(st.NEXT_ASSIGNMENT_INFO_ID):this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID),o=Uo(this.c11nEnv.getCaseSummary()),s={ID:r,stepID:e,acTargetName:this.c11nEnv.getContainerName(),targetContainerName:this.c11nEnv.getContainerName(),containerItemID:t,doDeleteCaseSummary:!0,isInCreateStage:o};t&&-1!==t.indexOf(at.MODAL)&&(s.acTargetName=at.MODAL);const a=Kn(s,this.c11nEnv),{promise:i}=this.actionsApiPromise(n,a),c=Bs(t),l=Vn(c);return hi({type:n,payload:{...a,containerItemID:t,context:c,isFormValid:l}}),i}cancelAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:t}=st,n=It,r=Bs(e),o=e&&e.indexOf(at.MODAL)>-1,s=this.c11nEnv.getCaseSummary(),a=Uo(s),i=this.c11nEnv.getValue(t.CASE_INFO_ID),c=Kn({caseID:i,containerItemID:e,context:r},this.c11nEnv);let l={};o?(c.acTargetName=at.MODAL,c.isInCreateStage=a,c.isModalAction=o,l={...c}):l={...c,acName:Lr(this.c11nEnv.getContainerName(),c.context)},hi({type:n,payload:l});const{promise:u}=this.actionsApiPromise(n,c);return u}cancelCreateStageAssignment(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const{CASE_INFO:t}=st,n=At,r=e,o=r&&-1!==r.indexOf(at.MODAL),s=this.c11nEnv.getCaseSummary(),a=Uo(s),i=this.c11nEnv.getValue(t.CASE_INFO_ID),c=Kn({caseID:i,containerItemID:e,context:r},this.c11nEnv),l=this.c11nEnv.getValue("isProcessAction","isProcessAction",r);if(c.isProcessAction=l,a&&o&&!Vo(s)){const t=this.c11nEnv.getValue("caseInfo.isFirstAssignment");if(!Eo(r)&&t)return this.deleteCaseInCreateStage(e);hi({type:n,payload:{...c,isModalAction:o,isChildCase:$o(s)}})}const{promise:u}=this.actionsApiPromise(n,c);return u}saveAndClose(e){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const t=e,n=t&&-1!==t.indexOf(at.MODAL),r=this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO_ID),o=this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENT_ID),s=this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID)?this.c11nEnv.getValue(st.CASE_INFO.ACTIVE_ACTION_ID):this.c11nEnv.getValue(st.CASE_INFO.ASSIGNMENTACTION_ID),a=this.c11nEnv.getContainerName(),i=this.c11nEnv.getValue(st.CASE_INFO.CASE_TYPE_ID),c=Vn(this.c11nEnv.getContextName()),l=this.c11nEnv.getValue("isProcessAction","isProcessAction",t),u=Kn({context:t,containerItemID:e,assignmentID:o,actionID:s,caseID:r,containerName:a,caseType:i,isModalAction:n,isFormValid:c,isProcessAction:l},this.c11nEnv),{promise:p}=this.actionsApiPromise("SAVE_AND_CLOSE",u);return hi(Hc(u)),p}deleteCaseInCreateStage(e,t=!1){if(!e)return Promise.reject(new Error(this.MSG_CONTAINERITEMID_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_CONTAINERITEMID_STRING));const n=e,r=n&&-1!==n.indexOf(at.MODAL),o=this.c11nEnv.getValue(st.CASE_INFO.CASE_INFO_ID),s=this.c11nEnv.getValue(st.CASE_INFO.CASE_TYPE_ID),a=Kn({caseID:o,caseType:s,containerItemID:e,context:n,ignoreCaseDeletion:t},this.c11nEnv),i=this.c11nEnv.getValue("isProcessAction","isProcessAction",n),c=this.c11nEnv.getValue(st.CASE_INFO.PARENTCASEINFO);a.isProcessAction=i,a.parentCaseInfo=c;const l=`${at.APP.APP}/${Rs.PRIMARY}`,u=ms(l,Rs.PRIMARY);a.parentContext=u,r&&(a.targetName=at.MODAL,a.containerName=Rs.MODAL,a.isModalAction=r),hi((e=>({type:Bc,payload:e}))(a));const{promise:p}=this.actionsApiPromise("DELETE_CASE_IN_CREATE_STAGE",a);return p}getRecents(e){if(!e)return Promise.reject(new Error("maxResultsToFetch is required parameter"));if("number"!=typeof e)return Promise.reject(new TypeError("maxResultsToFetch must be number"));let{restApi:t}=Mr.getRestEndPoint("getRecents");t=`${t}?maxResultsToFetch=${e}`;const n=pr()+t;return Bi(n,{method:"GET",headers:{}})}logout(){const{restApi:e}=Mr.getRestEndPoint("Logout"),t=pr()+e;return Bi(t,{method:"GET",headers:{}})}invoke(e,t={}){const n={method:t.method||"GET",body:t.body};return Bi(e,n,this.c11nEnv.getContextName())}showCasePreview(e,t={}){this.loadView(e,"pyCasePreview",{container:Rs.PREVIEW,containerName:Rs.PREVIEW,context:st.APP.APP,...t})}showDataPreview(e,t,n={}){return e?"string"!=typeof e?Promise.reject(new TypeError("dataContext must be string")):t?"object"!=typeof t?Promise.reject(new TypeError("dataContextParameters must be an object")):this.showData("pyDataPreview",e,t,{container:Rs.PREVIEW,containerName:Rs.PREVIEW,context:st.APP.APP,...n,skipSemanticUrl:!0}):Promise.reject(new Error("dataContextParameters is required parameter")):Promise.reject(new Error("dataContext is required parameter"))}loadView(e,t,n){let r=Kn({caseId:e,viewName:t,caseClassName:this.c11nEnv.getValue(st.CASE_INFO.CASE_TYPE_ID),RemoteSystemID:xr.getRemoteHeaderByContext(this.c11nEnv.getContextName())},this.c11nEnv);n&&(r={...r,...n});const o=lt,{promise:s}=this.actionsApiPromise(o,r,!1);return hi({type:o,payload:{...r}}),s}showPage(e,t,n={}){if(!e)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!t)return Promise.reject(new Error(this.MSG_CLASSNAME_REQUIRED));if("string"!=typeof t)return Promise.reject(new TypeError(this.MSG_CLASSNAME_STRING));const r=Kn({viewName:e,className:t},this.c11nEnv),o=ut,{promise:s}=this.actionsApiPromise(o,r);return hi({type:o,payload:{...r,containerName:n.containerName||this.c11nEnv.getContainerName(),skipSemanticUrl:n.skipSemanticUrl}}),s}showData(e,t,n,r={}){if(!e)return Promise.reject(new Error(this.MSG_PAGENAME_REQUIRED));if("string"!=typeof e)return Promise.reject(new TypeError(this.MSG_PAGENAME_STRING));if(!t)return Promise.reject(new Error("dataContext is required parameter"));if("string"!=typeof t)return Promise.reject(new TypeError("dataContext must be string"));const o=Kn({pageName:e,dataContext:t,dataContextParameters:n},this.c11nEnv),s=pt,{promise:a}=this.actionsApiPromise(s,o);return hi({type:s,payload:{...o,...r,skipSemanticUrl:Boolean(r.skipSemanticUrl)}}),a}changeHandler(e,t){Zn(e,t)}eventHandler(e,t){tr(e,t)}triggerFieldChange(e,t){const n=this.c11nEnv.getContextName(),r=this.c11nEnv.getPageReference(),o=Ja.getContextPath(r,e);this.c11nEnv.getValidationApi().validate(t),this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(e,t);let s=this.c11nEnv.getValue(at.CLASS_ID);const a=e?e.split(".").filter((e=>!!e)):[];a.length>1&&(a.pop(),s=mi(`.${a.join(".")}.classID`,r,n)),hi({type:ct,payload:{reference:o,value:t,context:n,pageReference:this.c11nEnv.getPageReference(),propertyName:this.c11nEnv.getComponentConfig().value,classID:s}})}updateFieldValue(e,t,n={}){const{removePropertyFromChangedList:r=!1,isArrayDeepMerge:o=!0,contextPageReference:s=null}=n,a=this.c11nEnv.getContextName(),i=null==s?this.c11nEnv.getPageReference():s,c=Ja.getContextPath(i,e);let l=!1;this.c11nEnv.isInsideList()&&this.c11nEnv.getListActions().updateProperty(e,t),this.c11nEnv.isBulkAction()&&(l=!0),e||(e=this.c11nEnv.getStateProps().value),On({type:st.MESSAGES.MESSAGES_TYPE_ERROR,property:e,pageReference:i,context:a}),hi({type:it,payload:{reference:c,value:t,context:a,isArrayDeepMerge:o,...l&&{isStrictTracking:l},...r&&{removePropertyFromChangedList:r}}})}activateModalContainerItem(e){const t=kt,{context:n}=e,r=n&&-1!==n.indexOf(at.MODAL),o=Kn({...e,containerName:this.c11nEnv.getContainerName(),containerItemID:n},this.c11nEnv);r&&(o.containerName=at.MODAL,o.isModalAction=r),hi({type:t,payload:o});const{promise:s}=this.actionsApiPromise(t,o);return s}refreshCaseView(e,t,n,r={}){const{promise:o,actionMgrID:s}=this.actionsApiPromise("REFRESH_DATA"),a={actionMgrID:s,caseViewAction:!0},{autoDetectRefresh:i}=r,c=this.c11nEnv.getContextName(),l=this.c11nEnv.getPageReference();return i&&(((e,t)=>!(!Go(e)||Fo(e,t)))(c,l)||Fo(c,l))?oi(c,n,a):ni(e,t,c,n,a),o}}(this),this.getActionManager=()=>Bn,this.getGoogleMapsAPIKey=()=>lr,this.getLoadingStatus=e=>{let t=null;return e?(t=fi(e),t=t?t.context_data:null):t=this.getDataObject().context_data,!!t&&!!t.isLoading&&t.isLoading},this.clearErrorMessages=e=>{null!=e&&e.property?On({type:"error",property:e.property,pageReference:this.getPageReference(),context:this.getContextName()}):null!=e&&e.context?On({type:"error",...e}):(On({type:"error",...e,context:at.APP.APP}),On({type:"error",...e,context:$s(`${at.APP.APP}/${this.getContainerName()}`)}))},this.resolveDatasourceReference=e=>Ei(`${this.getPageReference()}.${at.SUMMARY_OF_LISTS}`,e,this.getContextName())||e;const N=r.type;let R=s.pageReference;if(R&&(R=bn.handleAnnotation(s.pageReference,this)),d=Ja.getContextPath(R||s.parentPageReference,d),d||(d=""),"reference"===N&&(i=r),"reference"===N&&ot.isWhenExist({visibility:r.config.visibility})&&ri(E,h,d),"reference"!==N&&(i=Ja.resolveReference(r,this)),this.removeFormField=()=>{i&&s.hasForm&&i.config&&Object.prototype.hasOwnProperty.call(i.config,"value")&&((e,t,n)=>{if(Dn[e]){var r,o;const s=wn(t,n);!1===(null===(r=Dn[e].fieldOrder[s])||void 0===r||null===(o=r.getConfigProps())||void 0===o?void 0:o.visibility)?delete Dn[e].fieldOrder[s]:Dn[e].fieldOrder[s]&&(Dn[e].fieldOrder[s].isMounted=!1)}})(this.getContextName(),this.getStateProps().value,this.getPageReference())},this.addFormField=()=>{i&&s.hasForm&&i.config&&Object.prototype.hasOwnProperty.call(i.config,"value")&&((e,t,n)=>{if(Dn[e]){const r=wn(t,n);Dn[e].fieldOrder[r]&&(Dn[e].fieldOrder[r].isMounted=!0)}})(this.getContextName(),this.getStateProps().value,this.getPageReference())},i){var D,x;const e=this.getRawConfigProps();e&&(S=bn.trimAnnotation(e.localeReference)||s.localeReference,c=ot.isExpressionExist(e),u=ot.isWhenExist(e),p=kc.isValidatorExist(e)),y=i.children,s.hasForm&&i.config&&(Object.prototype.hasOwnProperty.call(i.config,"value")||i.config.selectionList||"Editable"===i.config.renderMode&&i.config.referenceList)&&(!i.config.readOnly||"true"!==i.config.readOnly)&&((e,t,n)=>{const r=xn(t);var o;!1===n.getConfigProps().visibility&&null!==(o=Dn[e])&&void 0!==o&&o.fieldOrder[r]||((e,t,n)=>{Dn[e]?(Dn[e].fieldOrder[t]=n,Dn[e].fieldOrder[t].isError=!1):(Dn[e]={fieldOrder:{[t]:n}},Dn[e].fieldOrder[t].isError=!1)})(e,r,n)})(h,this.getFullReference(),this),(null===(D=i)||void 0===D||null===(x=D.type)||void 0===x?void 0:x.toLowerCase())===at.VIEW&&i.name&&(E=bn.handleAnnotation(i.name,this)),s.hasForm&&(e=>{let t=!1;if(e.isWhenExist())t=!0;else{var n;const r=null===(n=e.getRawMetadata().config)||void 0===n?void 0:n.value;if(r){const n=pn(bn.getLeafPropertyName(r),e.getValue(at.CLASS_ID));t=!(null==n||!n.isDeclarativeTarget)}}t&&ri(e.getCurrentView(),e.getContextName(),e.getPageReference())})(this)}return{getPConnect:()=>this}}function ol(e){return new rl(e)}function sl(e){el=e}const al={createC11nEnv:ol,registerComponentCreator:sl};function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cl{}il(cl,"getCaseEvent",(()=>Object.freeze(st.PUB_SUB_EVENTS.CASE_EVENTS))),il(cl,"getTransientEvent",(()=>Object.freeze(st.PUB_SUB_EVENTS.EVENT_TRANSIENT_ITEMS)));const ll=cl,ul={getResolvedSemanticURL:(e,t,n)=>Mr.getResolvedSemanticURL(e,t,n),getActions:()=>({ACTION_OPENWORKBYHANDLE:Gt,ACTION_SHOWDATA:$t})};var pl=new w(R);function dl(e,t){return void 0===t&&(t=pl),function(n){return n.lift(new hl(e,t))}}var hl=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new fl(e,this.dueTime,this.scheduler))},e}(),fl=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return S(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(gl,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(F);function gl(e){e.debouncedNext()}const yl=new class{getDebouncedSubject(e){return(new J).pipe(dl(e))}};function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var El=new WeakSet;function Al(e){return null==e?void 0:e.toString().replace(/\s/g,"-").toLowerCase()}const _l=new class{constructor(){El.add(this),ml(this,"setComponentState",((e,t)=>{sessionStorage?sessionStorage.setItem(Il(this,El,Al).call(this,e),JSON.stringify(t)):console.error("Session Storage not found")})),ml(this,"getComponentState",(e=>{const t=sessionStorage.getItem(Il(this,El,Al).call(this,e));return ot.isValidJson(t)||t})),ml(this,"removeComponentState",(e=>{sessionStorage.removeItem(Il(this,El,Al).call(this,e))}))}},vl=new class{constructor(){this.genericFailedMessage="Failed to display content. Contact the application administrator."}getGenericFailedMessage(){return this.genericFailedMessage}setGenericFailedMessage(e){this.genericFailedMessage=e}};var Sl=n(926),bl=n.n(Sl);const Cl=new class{constructor(){this.subscriptions={}}getOrCreateSubscription(e){if(!this.subscriptions[e]){const t={caseId:e};this.subscriptions[e]=new class{constructor(e,t){this.atomicSubscribers={},this.connectionsCount=1,this.connected=!1,this.matcher=e,this.criteria=t}_handleAtomicMessage({message:e}){Object.keys(this.atomicSubscribers).forEach((t=>{const n=this.atomicSubscribers[t],r=Object.keys(n.criteria),o=Object.keys(e);0===bl()(r,o).length&&n.callback(e)}))}_getAutoGenId(){return this.connectionsCount=this.connectionsCount+1,`${Date.now()}_${this.connectionsCount}`}subscribe(e,t){if(!this.connected){const e={matcher:this.matcher,criteria:this.criteria};Ol.subscribe(e,this._handleAtomicMessage.bind(this)),this.connected=!0}const n=this._getAutoGenId();return this.atomicSubscribers[n]={criteria:e,callback:t},n}unsubscribe(e){delete this.atomicSubscribers[e]}}("CASE",t)}return this.subscriptions[e]}};function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tl{static initConnection(e){console.log("initConnection()");const{messagingService:t}=e;if(!t||t&&t.length<=6)return;const n=Po.b2sJWT;if(!n||n.length<4)return;this.webSocket&&(console.log(`initConnection() - cleanup event handlers - ws state:${this.webSocket.readyState}`),this.cleanSocketListeners(),this.webSocket.close()),console.log("initConnection() - create new connection");const r=t.endsWith("/")?t+"ws":t+"/ws",o=new WebSocket(`${r}?token=${n}`);this.webSocket=o,o.addEventListener("open",this.handleOnOpen.bind(this)),o.addEventListener("message",this.handleOnMessage.bind(this)),o.addEventListener("error",this.handleOnError.bind(this)),o.addEventListener("close",this.handleOnClose.bind(this))}static handleOnError(e){console.log("web socket connection error event: ",e)}static handleOnClose(e){console.log("web socket connection closed event: ",e),null!==this.serviceAliveHandler&&(clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=null),this.connectionConfig.disableReInit||this.reInitInterval||this.reInitialization()}static handleOnOpen(e){console.log("successfully connected to messaging service ",e),clearInterval(this.reInitInterval),this.reInitInterval=null,null!=this.webSocket&&1===this.webSocket.readyState&&(this.inProgressSubscriptions.forEach((({messageSubscriber:e,id:t})=>{this.subscribeToSocket(e,t)})),this.inProgressSubscriptions=[],this.inProgressMessages.forEach((e=>{this.publishMessage(e)})),this.inProgressMessages=[])}static handleOnMessage(e){if(null!==e&&"ALIVE"===e.data)null===this.isServiceAlive&&(console.log("Registered to check liveness of messaging service"),this.checkLiveliness(6e3)),this.isServiceAlive=!0;else{let t=null;try{t=JSON.parse(e.data)}catch(t){console.error("Invalid data recieved from messaging service",e.data)}if(t&&t.msgId&&this.webSocket.send(`{"ack":"${t.msgId}"}`),t&&t.filter){const{matcher:e,criteria:n}=t.filter;delete n.environmentID,Object.keys(this.subscribers).forEach((r=>{const o=this.subscribers[r];o.filter.matcher===e&&ot.isEqual(o.filter.criteria,n)&&o.messageHandler(t)}))}else console.error("filter missing from recieved data from messaging service",e.data)}}static reInitialization(e){console.log(`reInitialization(${e}), ${this.reInitInterval}`),this.reInitInterval||(Object.keys(this.subscribers).forEach((e=>{this.inProgressSubscriptions.push({messageSubscriber:this.subscribers[e],id:e})})),e?(console.log("web socket server re-initializing"),this.initConnection(this.connectionConfig)):(console.log("calling setInterval(initConnection)"),this.reInitInterval=setInterval((()=>{this.initConnection(this.connectionConfig)}),2e3)))}static checkLiveliness(e){!1===this.isServiceAlive?(console.log("web socket check liveness fail"),this.reInitialization(!0)):this.isServiceAlive=!1,null!==this.serviceAliveHandler&&clearTimeout(this.serviceAliveHandler),this.serviceAliveHandler=setTimeout((()=>{this.checkLiveliness(e)}),e)}static setConnectionConfig(e){this.connectionConfig=e}static cleanSocketListeners(){null!=this.webSocket&&(this.webSocket.removeEventListener("open",this.handleOnOpen.bind(this)),this.webSocket.removeEventListener("message",this.handleOnMessage.bind(this)),this.webSocket.removeEventListener("error",this.handleOnError.bind(this)),this.webSocket.removeEventListener("close",this.handleOnClose.bind(this)))}static disconnect(){null!=this.webSocket&&(this.cleanSocketListeners(),this.webSocket.close(),this.webSocket=null)}static subscribe(e,t,n,r){this.connectionsCount=this.connectionsCount+1;const o=r||`${Date.now()}_${this.connectionsCount}`,s=new class{constructor(e,t,n){this.filter=e,this.messageHandler=t,this.contextName=n}}(e,t,n);return null!==this.webSocket&&1===this.webSocket.readyState?(this.subscribeToSocket(s,o),o):(this.inProgressSubscriptions.push({messageSubscriber:s,id:o}),null===this.webSocket&&this.initConnection(this.connectionConfig),o)}static subscribeToSocket(e,t){this.subscribers[t]=e;const n={filter:e.filter,subscribe:{id:t}};this.webSocket.send(JSON.stringify(n))}static unsubscribe(e){delete this.subscribers[e];const t={unsubscribe:{id:e}};null!=this.webSocket&&1===this.webSocket.readyState&&this.webSocket.send(JSON.stringify(t))}static publishMessage(e){null!=this.webSocket?null==this.webSocket||1!==this.webSocket.readyState?this.inProgressMessages.push(e):this.webSocket.send(JSON.stringify(e)):console.error("Web socket not initialized.")}static clearContext(e){Object.keys(this.subscribers).forEach((t=>{this.subscribers[t].contextName===e&&this.unsubscribe(t)})),this.userPresence.clearContext(e)}}Pl(Tl,"subscribers",{}),Pl(Tl,"connectionsCount",0),Pl(Tl,"webSocket",null),Pl(Tl,"connectionConfig",null),Pl(Tl,"inProgressSubscriptions",[]),Pl(Tl,"inProgressMessages",[]),Pl(Tl,"isServiceAlive",null),Pl(Tl,"serviceAliveHandler",null),Pl(Tl,"userPresence",new class{constructor(){this.users={},this.connected=!1,this.connectionsCount=1}_handleUserPresence({message:e}){const{state:t,updateById:n}=e,r=this.users[n];r&&(r.state=t,Object.keys(r.subscribers).forEach((e=>{var t;null===(t=r.subscribers[e])||void 0===t||t.callback({state:r.state})})))}_getAutoGenId(){return this.connectionsCount=this.connectionsCount+1,`${Date.now()}_${this.connectionsCount}`}subscribe(e,t,n){const r=this._getAutoGenId(),o=this.users[e];if(o)return o.subscribers[r]={callback:t,contextName:n},r;this.users[e]={subscribers:{[r]:{callback:t,contextName:n}}};const s={matcher:"PRESENCE",criteria:{userId:e}};return Ol.subscribe(s,this._handleUserPresence.bind(this)),r}unsubscribe(e,t){const n={matcher:"PRESENCE",unsubscribeUsers:{users:[e]}};this.users[e]&&this.users[e].subscribers&&(delete this.users[e].subscribers[t],0===Object.keys(this.users[e].subscribers).length&&(delete this.users[e],Ol.publishMessage(n)))}getUserState(e){return this.users[e]&&this.users[e].state}clearContext(e){Object.keys(this.users).forEach((t=>{Object.keys(this.users[t].subscribers).forEach((n=>{this.users[t].subscribers[n].contextName===e&&this.unsubscribe(t,n)}))}))}}),Pl(Tl,"getUserPresence",(()=>Tl.userPresence)),Pl(Tl,"getCaseSubscription",(e=>Cl.getOrCreateSubscription(e)));const Ol=Tl,Nl=class{constructor(){this.records=[],this.maxRecords=0,this.isDirty=!1}getRecords(e){if(e){const t=[],{pageNumber:n,pageSize:r}=e,o=n*r;let s=o-r;for(;s<o;s+=1){if(!this.records[s])return this.maxRecords===s?t:[];t.push(this.records[s])}return t}return this.records}mergeRecords(e,t){if(t){const{pageNumber:n,pageSize:r}=t,o=n*r;let s=0;for(let t=o-r+1-1;t<o;t+=1)this.records[t]=e[s],s+=1;if(e.length<r){const t=(n-1)*r+e.length;this.setMaxRecordsCount(t)}}else Si(this.records,e,{isArrayDeepMerge:!0}),this.setMaxRecordsCount(this.records.length)}setMaxRecordsCount(e){this.maxRecords=e}getMaxRecordsCount(){return this.maxRecords}},Rl=new class{constructor(){this.datastore={},this.subscribers={},this.isMessagingServiceOn=!1}getData(e,t={},n,r){const o=this._generateHash(e,t,r);if(null===o)return[];if(this.datastore[e]&&this.datastore[e][o]){const t=this.datastore[e][o];return t.isDirty?(t.isDirty=!1,[]):t.getRecords(n)}return[]}_generateHash(e,t,n){const r=mn(e);if(!r)return null;const o=r.parameters||[];let s="",a=e;const i=[];return o.forEach((e=>{t[e.name]?i.push(t[e.name]):i.push(e.defaultValue||at.NULL_STRING)})),n&&i.push(JSON.stringify(n)),i.join(at.HASH_DELIMITER)&&(s=ot.getHashedString(i.join(at.HASH_DELIMITER)),a=e+at.UNDERSCORE_STRING+s),a}async getDataAsync(e,t,n={},r,o,s={}){var a;if(this._subscribeToMessageService(),!this._isCacheable(e,o)||s.invalidateCache){var i,c,l;const a=await this._fetchData(e,n,r,o,t,s);return{data:null!==(i=null==a||null===(c=a.data)||void 0===c?void 0:c.data)&&void 0!==i?i:[],queryStats:null==a||null===(l=a.data)||void 0===l?void 0:l.queryStats}}const u=this.getData(e,n,r,o);if(u.length>0)return{data:u};const p=await this._fetchData(e,n,r,o,t,s);return{data:this._mergeDataStore(e,n,r,o,p),queryStats:null===(a=p.data)||void 0===a?void 0:a.queryStats}}updateDataPageStore(e={}){Object.keys(e).forEach((t=>{this.datastore[t]||(this.datastore[t]={});const n=e[t];Object.keys(n).forEach((n=>{if(this.datastore[t][n])this.datastore[t][n].mergeRecords(e[t].pxResults);else{const r=new Nl;this.datastore[t][n]=r,r.mergeRecords(e[t].pxResults)}}))}))}_mergeDataStore(e,t,n,r,o){var s;const a=this._generateHash(e,t,r),i=null==o||null===(s=o.data)||void 0===s?void 0:s.data;if(!i||0===i.length)return[];if(null===a)return i;this.datastore[e]||(this.datastore[e]={}),this.datastore[e][a]||(this.datastore[e][a]=new Nl);const c=this.datastore[e][a];return c.mergeRecords(i,n),c.getRecords(n)}async _fetchData(e,t,n,r,o,s){const a={dataViewParameters:t};return n&&(a.paging=n),r&&(a.query=r),await Nc.getData(e,a,o,s)}isDataPage(e=""){return!(!e.startsWith("D_")&&!e.startsWith("Declare_"))}_handleCascadeUpdate(){const{dataPageName:e,scope:t}=this;t._handleMessage({message:{datapage:e}})}subscribeToUpdate(e,t,n,r,o,s){this.subscribers[e]=this.subscribers[e]||{},this.subscribers[e].callback=this.subscribers[e].callback||{},this.subscribers[e].callback[s]||(this.subscribers[e].callback[s]=o),this._subscribeToCascadeUpdates(e,t,n,r,s)}unsubscribe(e,t,n,r,o){var s;null===(s=this.subscribers[e])||void 0===s||delete s.callback[o],t&&t.length>0&&ci.unRegisterFields(n,r,t,o)}_subscribeToCascadeUpdates(e,t,n,r,o){t&&t.length>0&&ci.registerFields(n,r,t,this._handleCascadeUpdate.bind({dataPageName:e,scope:this}),o)}_subscribeToMessageService(){this.isMessagingServiceOn||(Ol.subscribe({matcher:"DATAPAGE_UPDATED",criteria:{}},this._handleMessage.bind(this)),this.isMessagingServiceOn=!0)}_handleMessage({message:e}){const{datapage:t}=e,n=this.subscribers[t];this._markDataInstancsDirty(t),n&&n.callback&&Object.keys(n.callback).forEach((t=>{n.callback[t](e)}))}_markDataInstancsDirty(e){this.datastore[e]&&Object.keys(this.datastore[e]).forEach((t=>{this.datastore[e][t].isDirty=!0}))}_isPerInteraction(e){const t=mn(e);return t&&t.refreshStrategy&&"reloadOncePerInteraction"===t.refreshStrategy.type}_isCacheable(e,t){return!(this._isPerInteraction(e)||t&&Object.keys(t).length>1)}},Dl={setTokens:e=>{zi({tokenInfo:e}),Yi({Authorization:`${null==e?void 0:e.token_type} ${null==e?void 0:e.access_token}`})},revokeTokens:async()=>(async()=>new Promise(((e,t)=>{const n={...Fi};if(null==n||!n.tokenInfo)return void t(new Error("Missing token information."));const{access_token:r,refresh_token:o=null}=n.tokenInfo,{revoke:s}=n.endPoints,{client_id:a,client_secret:i}=n,c={"content-type":"application/x-www-form-urlencoded"};i&&(c.authorization="Basic "+window.btoa(a+":"+i));const l=["access_token"];o&&l.push("refresh_token"),l.forEach((async e=>{const t=new URLSearchParams;i||t.append("client_id",a),t.append("token","access_token"===e?r:o),t.append("token_type_hint",e),await fetch(s,{method:"POST",headers:new Headers(c),body:t.toString()})})),Yi({Authorization:null}),zi({tokenInfo:null}),e()})))(),getAuthInstance:e=>xi.init(e)},xl=new class{constructor(){this.xray=!1,this.onXRayCallback=null,this.xrayRuntime=new class{constructor(e){this.xrayInfo={},this.xRayDebugger=e}startXRay(){if(!this.xRayDebugger.xray)return null;const e=`${Date.now()+Math.random()}`;return this.xrayInfo[e]={startTime:Date.now()/1e3},e}startXRayRestApi(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],restApisTime:{...this.xrayInfo[e]?this.xrayInfo[e].restApisTime:{},[t]:Date.now()}})}stopXRayRestApi(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],restApisTime:{...this.xrayInfo[e].restApisTime,[t]:(Date.now()-this.xrayInfo[e].restApisTime[t])/1e3}})}updateXRay(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],...t})}stopXRay(e,t){this.xRayDebugger.xray&&(this.xrayInfo[e]={...this.xrayInfo[e],totalTime:Date.now()/1e3-this.xrayInfo[e].startTime},t().setXRayInfo(this.xrayInfo[e]),delete this.xrayInfo[e])}}(this)}onXRay(e){this.onXRayCallback=e}toggleXRay(e){this.xray=e,this.xrayRuntime.xrayInfo={},null!=this.onXRayCallback&&this.onXRayCallback(e)}isXRayOn(){return this.xray}getXRayRuntime(){return this.xrayRuntime}};function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ml{constructor(){wl(this,"getPCoreVersion",(()=>"8.7.1")),wl(this,"onPCoreReady",(e=>Jd(e))),wl(this,"getComponentsRegistry",(()=>Nd())),wl(this,"checkIfSemanticURL",(()=>Kd())),wl(this,"isValidSemanticURL",(()=>(()=>{if(Qr()){const e=Mr.processUrl(Or(),!0);return!!Mr._getMatchedRouteInRoutingTable(e)}return!1})())),wl(this,"getViewResources",(()=>p)),wl(this,"configureForBrowserBookmark",(e=>zd(e))),wl(this,"getStore",(()=>di())),wl(this,"resetStore",(()=>{const e=Xt,{promise:t,actionMgrID:n}=Bn.actionManagerPromise(e);return hi({type:e,payload:{actionMgrID:n}}),t})),wl(this,"getMessageManager",(()=>Rn)),wl(this,"getStoreValue",((e,t,n)=>mi(e,t,n))),wl(this,"getContainerUtils",(()=>i)),wl(this,"getAnnotationUtils",(()=>ro)),wl(this,"getAssetLoader",(()=>Po)),wl(this,"getAttachmentUtils",(()=>oc)),wl(this,"getFeedUtils",(()=>dc)),wl(this,"getTagUtils",(()=>hc)),wl(this,"getStakeholderUtils",(()=>gc)),wl(this,"getUserApi",(()=>ic)),wl(this,"getCaseFollowerApi",(()=>sc)),wl(this,"getRelatedCasesApi",(()=>ac)),wl(this,"getPersonalizationUtils",Oc),wl(this,"getDataApi",(()=>Dc)),wl(this,"getDataApiUtils",(()=>Nc)),wl(this,"getAnalyticsUtils",(()=>jc)),wl(this,"getLocaleUtils",(()=>ss)),wl(this,"registerLocaleManager",(e=>{const t=this.getLocaleUtils();Object.keys(e).forEach((n=>{t[n]=e[n]}))})),wl(this,"setBehaviorOverrides",(e=>{Ml.behaviorOverrides=e})),wl(this,"setBehaviorOverride",((e,t)=>{Ml.behaviorOverrides[e]=t})),wl(this,"getBehaviorOverrides",(()=>Ml.behaviorOverrides)),wl(this,"getBehaviorOverride",(e=>Ml.behaviorOverrides[e])),wl(this,"getAsynchronousUtils",(()=>yl)),wl(this,"createPConnect",(e=>ol(e))),wl(this,"getPubSubUtils",(()=>Ni)),wl(this,"registerComponentCreator",(e=>{sl(e)})),wl(this,"getConstants",(()=>Object.freeze(st))),wl(this,"getEvents",(()=>ll)),wl(this,"getRestClient",(()=>u)),wl(this,"getMashupApi",(()=>class{static openCase(e,t=st.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=at.PY_DETAILS),Jc.openCase(e,t,at.PRIMARY,n)}static createCase(e,t=st.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=at.PY_DETAILS),Jc.createCase(e,t,at.PRIMARY,n)}static openAssignment(e,t=st.APP.APP,n={}){return n.renderInline=!0,n.pageName||(n.pageName=at.PY_DETAILS),Jc.openAssignment(e,t,at.PRIMARY,n)}static openPage(e,t,n=st.APP.APP){const r=ut,o={viewName:e,className:t,acTargetName:at.PRIMARY,actionMgrID:Bn.getNextActionMgrId(),context:n},{promise:s}=Bn.actionManagerPromise(r,o.actionMgrID);return hi({type:r,payload:{...o}}),s}static getCurrentContextAPI(e,t=st.APP.APP){const n={meta:{config:{}},options:{context:t,pageReference:e,containerName:at.PRIMARY}};return Ll.createPConnect(n).getPConnect()}})),wl(this,"getEnvironmentInfo",(()=>jo)),wl(this,"getRuntimeParamsAPI",(()=>mc)),wl(this,"getSemanticUrlUtils",(()=>ul)),wl(this,"getRemoteCaseUtils",(()=>xr)),wl(this,"getNavigationUtils",(()=>_l)),wl(this,"registerModule",((e,t)=>class{static registerModule(e,t,n){n[e]=()=>t}}.registerModule(e,t,this))),wl(this,"getErrorHandler",(()=>vl)),wl(this,"getFormUtils",(()=>class{static getChanges(e){return vo(e)}static isFormValid(e){return Vn(e)}})),wl(this,"getMessagingServiceManager",(()=>Ol)),wl(this,"getMetadataUtils",(()=>e)),wl(this,"getDataPageUtils",(()=>Rl)),wl(this,"getCascadeManager",(()=>ci)),wl(this,"isDeepEqual",((e,t)=>He()(e,t))),wl(this,"getAuthUtils",(()=>Dl)),wl(this,"getDebugger",(()=>xl)),wl(this,"getDeferLoadManager",(()=>ai)),Ml.behaviorOverrides={}}}wl(Ml,"behaviorOverrides",{});const Ll=new Ml;function jl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ul(e){return!!e&&!!e[_u]}function kl(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===vu}(e)||Array.isArray(e)||!!e[Au]||!!e.constructor[Au]||Bl(e)||Wl(e))}function Vl(e,t,n){void 0===n&&(n=!1),0===Fl(e)?(n?Object.keys:Su)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Fl(e){var t=e[_u];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Bl(e)?2:Wl(e)?3:0}function $l(e,t){return 2===Fl(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gl(e,t,n){var r=Fl(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Bl(e){return yu&&e instanceof Map}function Wl(e){return mu&&e instanceof Set}function Hl(e){return e.o||e.t}function ql(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=bu(e);delete t[_u];for(var n=Su(t),r=0;r<n.length;r++){var o=n[r],s=t[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Yl(e,t){return void 0===t&&(t=!1),Kl(e)||Ul(e)||!kl(e)||(Fl(e)>1&&(e.set=e.add=e.clear=e.delete=zl),Object.freeze(e),t&&Vl(e,(function(e,t){return Yl(t,!0)}),!0)),e}function zl(){jl(2)}function Kl(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Jl(e){var t=Cu[e];return t||jl(18,e),t}function Xl(){return fu}function Ql(e,t){t&&(Jl("Patches"),e.u=[],e.s=[],e.v=t)}function Zl(e){eu(e),e.p.forEach(nu),e.p=null}function eu(e){e===fu&&(fu=e.l)}function tu(e){return fu={p:[],l:fu,h:e,m:!0,_:0}}function nu(e){var t=e[_u];0===t.i||1===t.i?t.j():t.O=!0}function ru(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Jl("ES5").S(t,e,r),r?(n[_u].P&&(Zl(t),jl(4)),kl(e)&&(e=ou(t,e),t.l||au(t,e)),t.u&&Jl("Patches").M(n[_u].t,e,t.u,t.s)):e=ou(t,n,[]),Zl(t),t.u&&t.v(t.u,t.s),e!==Eu?e:void 0}function ou(e,t,n){if(Kl(t))return t;var r=t[_u];if(!r)return Vl(t,(function(o,s){return su(e,r,t,o,s,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return au(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=ql(r.k):r.o;Vl(3===r.i?new Set(o):o,(function(t,s){return su(e,r,o,t,s,n)})),au(e,o,!1),n&&e.u&&Jl("Patches").R(r,n,e.u,e.s)}return r.o}function su(e,t,n,r,o,s){if(Ul(o)){var a=ou(e,o,s&&t&&3!==t.i&&!$l(t.D,r)?s.concat(r):void 0);if(Gl(n,r,a),!Ul(a))return;e.m=!1}if(kl(o)&&!Kl(o)){if(!e.h.F&&e._<1)return;ou(e,o),t&&t.A.l||au(e,o)}}function au(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Yl(t,n)}function iu(e,t){var n=e[_u];return(n?Hl(n):e)[t]}function cu(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function lu(e){e.P||(e.P=!0,e.l&&lu(e.l))}function uu(e){e.o||(e.o=ql(e.t))}function pu(e,t,n){var r=Bl(t)?Jl("MapSet").N(t,n):Wl(t)?Jl("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Xl(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,s=Pu;n&&(o=[r],s=Tu);var a=Proxy.revocable(o,s),i=a.revoke,c=a.proxy;return r.k=c,r.j=i,c}(t,n):Jl("ES5").J(t,n);return(n?n.A:Xl()).p.push(r),r}function du(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ql(e)}var hu,fu,gu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),yu="undefined"!=typeof Map,mu="undefined"!=typeof Set,Iu="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Eu=gu?Symbol.for("immer-nothing"):((hu={})["immer-nothing"]=!0,hu),Au=gu?Symbol.for("immer-draftable"):"__$immer_draftable",_u=gu?Symbol.for("immer-state"):"__$immer_state",vu=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Su="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,bu=Object.getOwnPropertyDescriptors||function(e){var t={};return Su(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Cu={},Pu={get:function(e,t){if(t===_u)return e;var n=Hl(e);if(!$l(n,t))return function(e,t,n){var r,o=cu(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!kl(r)?r:r===iu(e.t,t)?(uu(e),e.o[t]=pu(e.A.h,r,e)):r},has:function(e,t){return t in Hl(e)},ownKeys:function(e){return Reflect.ownKeys(Hl(e))},set:function(e,t,n){var r=cu(Hl(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=iu(Hl(e),t),s=null==o?void 0:o[_u];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||$l(e.t,t)))return!0;uu(e),lu(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==iu(e.t,t)||t in e.t?(e.D[t]=!1,uu(e),lu(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Hl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){jl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){jl(12)}},Tu={};Vl(Pu,(function(e,t){Tu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Tu.deleteProperty=function(e,t){return Tu.set.call(this,e,t,void 0)},Tu.set=function(e,t,n){return Pu.set.call(this,e[0],t,n,e[0])};var Ou=new(function(){function e(e){var t=this;this.g=Iu,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&jl(6),void 0!==r&&"function"!=typeof r&&jl(7),kl(e)){var i=tu(t),c=pu(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?Zl(i):eu(i)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Ql(i,r),ru(e,i)}),(function(e){throw Zl(i),e})):(Ql(i,r),ru(a,i))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Eu&&(a=void 0),t.F&&Yl(a,!0),r){var u=[],p=[];Jl("Patches").M(e,a,u,p),r(u,p)}return a}jl(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,s=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,r,o]})):[s,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){kl(e)||jl(8),Ul(e)&&(e=function(e){return Ul(e)||jl(22,e),function e(t){if(!kl(t))return t;var n,r=t[_u],o=Fl(t);if(r){if(!r.P&&(r.i<4||!Jl("ES5").K(r)))return r.t;r.I=!0,n=du(t,o),r.I=!1}else n=du(t,o);return Vl(n,(function(t,o){r&&function(e,t){return 2===Fl(e)?e.get(t):e[t]}(r.t,t)===o||Gl(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=tu(this),n=pu(this,e,void 0);return n[_u].C=!0,eu(t),n},t.finishDraft=function(e,t){var n=(e&&e[_u]).A;return Ql(n,t),ru(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Iu&&jl(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Jl("Patches").$;return Ul(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}()),Nu=Ou.produce,Ru=(Ou.produceWithPatches.bind(Ou),Ou.setAutoFreeze.bind(Ou),Ou.setUseProxies.bind(Ou));Ou.applyPatches.bind(Ou),Ou.createDraft.bind(Ou),Ou.finishDraft.bind(Ou);const Du=Nu,xu=(e,t)=>{const{data:{shared:n={}}={},context:r}=t;((e,t)=>{Rl.updateDataPageStore(t),Object.keys(t).forEach((n=>{ot.getIn(e,[at.SHARED,n])?Object.keys(t[n]).forEach((r=>{ot.setIn(e,[at.SHARED,n,r],t[n][r])})):ot.setIn(e,[at.SHARED,n],t[n])}))})(e,n),r&&ot.deleteIn(e,[r,"shared"])},wu=(e,t,n=!1)=>{const{context:r,caseViewMode:o=(n?void 0:at.PERFORM_MODE),containerName:s}=t;s!==Rs.WORKAREA&&o&&ot.setIn(e,[r,"context_data","caseViewMode"],o)},Mu=(e,t=[])=>{t.forEach((t=>ot.deleteIn(e,t)))},Lu=(e,t=[])=>{t.forEach((t=>{ot.deleteIn(e,t)}))},ju=(e,t)=>{ot.deleteIn(e,[t,"nextAssignmentInfo"]),ot.deleteIn(e,[t,"caseMessages"]),ot.deleteIn(e,[t,"caseInfo","navigation"]),ot.deleteIn(e,[t,"caseInfo","actionButtons"]),ot.deleteIn(e,[t,"caseInfo","availableActions"]),ot.deleteIn(e,[t,"caseInfo","availableProcesses"]),ot.deleteIn(e,[t,"caseInfo","activeActionID"]),ot.deleteIn(e,[t,"caseInfo","assignments"])},Uu=e=>{const t=[];return e.map((e=>{t.push({type:st.MESSAGES.MESSAGES_TYPE_ERROR,message:e.message})})),t},ku=[(e,t)=>Du(e,(e=>{switch(t.type){case _t:return e[t.payload.context]=Si(e[t.payload.context],t.payload.data,{isArrayDeepMerge:!!t.payload.isArrayDeepMerge}),wu(e,t.payload,!0),xu(e,t.payload),e;case it:{const{context:n,reference:r,value:o,isArrayDeepMerge:s}=t.payload;return bi(e[n],r,o,{isArrayDeepMerge:s}),e}case"REPLACE_PROPERTY":{const{context:n,reference:r,value:o}=t.payload;return Ci(e[n],r,o),e}case"REMOVE_ITEM":return ot.deleteIn(e[t.payload.contex],t.payload.reference);case dt:return ot.setIn(e[t.payload.context],"context_data.isLoading",!0),e;case ht:return ot.setIn(e[t.payload.context],"context_data.isLoading",!1),e;case Zt:{const{data:n}=t.payload;return xu(e,{data:{shared:n}}),e}case en:{const{dataPagesToBeRemoved:n=[]}=t.payload;return n.forEach((t=>{const{dataPageName:n,dataPageNameWithHash:r}=t;ot.deleteIn(e.shared,[n,r]);const o=ot.getIn(e.shared,[n]);o&&0===Object.keys(o).length&&ot.deleteIn(e.shared,[n])})),e}default:return e}})),(e={},t)=>Du(e,(e=>{switch(t.type){case Pt:{if(!t.payload.data||e[t.payload.context])return e;t.payload.doDeleteCaseSummary&&ju(e,t.payload.context);const{target:n}=t.payload;return!n||-1===n.indexOf(at.WORKAREA)&&-1===n.indexOf(at.MODAL)?e[t.payload.containerItemID]=t.payload.data:e[t.payload.context]=t.payload.data,wu(e,t.payload),xu(e,t.payload),e}case Lt:{t.payload.doDeleteCaseSummary&&ju(e,t.payload.context);const{target:n}=t.payload;return!n||-1===n.indexOf(at.WORKAREA)&&-1===n.indexOf(at.MODAL)?e[t.payload.containerItemID]=Si(e[t.payload.containerItemID],t.payload.data):e[t.payload.context]=Si(e[t.payload.context],t.payload.data),wu(e,t.payload),xu(e,t.payload),e}case Tt:{const{childContainersContexts:n=[]}=t.payload;return((e,t)=>{const{containerItemID:n,context:r,deleteContext:o}=t;o&&ot.deleteIn(e,[r]),ot.deleteIn(e,[n])})(e,t.payload),Lu(e,n),Mu(e,t.payload.transientItems),e}case Ct:{const{containerItems:n}=t.payload;return Array.isArray(n)?n.forEach((t=>{ot.deleteIn(e,[t])})):ot.deleteIn(e,[n]),e}case jt:{const{context:n,contextToBeRemoved:r,data:o,childContainersContextsToBeRemoved:s}=t.payload;return ju(e,t.payload.context),wu(e,t.payload),e[n]=Si(e[n],e[r]),e[n]=Si(e[n],o),ot.deleteIn(e,[r]),Lu(e,s),xu(e,t.payload),e}case Ut:{const{payload:{context:n,pulseReplace:r=!0,childContainersContexts:o=[]}}=t;let{payload:{data:s}}=t;const a=ot.getIn(e[n],"pulse");let i=ot.getIn(e[n],"OperatorID"),c=ot.getIn(e[n],"pxRequestor");return c&&s.pxRequestor&&(c=ot.mergeDeep(c,s.pxRequestor)),i&&s.OperatorID&&(i=ot.mergeDeep(i,s.OperatorID)),!r&&a&&(s=bi(s,"pulse",a),s=bi(s,"OperatorID",i),s=bi(s,"pxRequestor",c)),ot.setIn(e,n,s),wu(e,t.payload),xu(e,t.payload),Lu(e,o),Mu(e,t.payload.transientItems),e}case nn:{const{context:n}=t.payload;return ju(e,n),e}case Ot:{const{transientItemID:n,data:r}=t.payload;return ot.setIn(e,n,r)}case Rt:case Dt:{const{transientItems:n}=t.payload;return n.forEach((t=>ot.deleteIn(e,t))),e}case Nt:case xt:{const{transientItemID:n,data:r}=t.payload;return Si(ot.getIn(e,n),r),e}case wt:{const{transientItemID:n,data:r}=t.payload;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&ot.deleteIn(e,[n,t]);return e}default:return e}})),(e=Wu().data,t)=>Du(e,(e=>{switch(t.type){case St:return t.payload.err.errorDetails&&"Validation fail"===t.payload.err.errorClassification?function(e,t){const{err:n,formFields:r}=t.payload;let{context:o}=t.payload;const{fieldErrors:s,pageErrors:a,appErrors:i}=((e,t)=>{const n=[],r=[],o=[];return e.forEach((e=>{"content"===e[at.ERROR_IN_PAGE_IDENTIFIER]?((e,t,n,r,o)=>{if(e[at.ERROR_IN_PAGE_IDENTIFIER]&&e[at.ERROR_FIELD_IN_PAGE]){const o=e[at.ERROR_FIELD_IN_PAGE].slice(1);t.includes(o)?r.push(e):n.push(e)}else e[at.ERROR_IN_PAGE_IDENTIFIER]&&!e[at.ERROR_FIELD_IN_PAGE]?n.push(e):e[at.ERROR_IN_PAGE_IDENTIFIER]||e[at.ERROR_FIELD_IN_PAGE]||o.push(e)})(e,t,n,r,o):((e,t,n,r,o)=>{if(e[at.ERROR_IN_PAGE_IDENTIFIER]&&e[at.ERROR_FIELD_IN_PAGE]){const o=`${e[at.ERROR_FIELD_IN_PAGE].slice(1)}${e[at.ERROR_IN_PAGE_IDENTIFIER]}`;t.includes(o)?r.push(e):n.push(e)}else if(e[at.ERROR_IN_PAGE_IDENTIFIER]&&!e[at.ERROR_FIELD_IN_PAGE]){const o=e[at.ERROR_IN_PAGE_IDENTIFIER].slice(1);t.includes(o)?r.push(e):n.push(e)}else e[at.ERROR_IN_PAGE_IDENTIFIER]||e[at.ERROR_FIELD_IN_PAGE]?!e[at.ERROR_IN_PAGE_IDENTIFIER]&&e[at.ERROR_FIELD_IN_PAGE]&&n.push(e):o.push(e)})(e,t,n,r,o)})),{fieldErrors:r,pageErrors:n,appErrors:o}})(n.errorDetails,r);if(ot.setIn(e,[o,...Cn.FIELD_MESSAGES_PATH],{}),ot.setIn(e,[o,...Cn.PAGE_MESSAGES_PATH],[]),s.length>0&&((e,t,n)=>{n.forEach((n=>{"content"===n[at.ERROR_IN_PAGE_IDENTIFIER]?((e,t,n)=>{const r=n[at.ERROR_FIELD_IN_PAGE].slice(1);if(r){const o=r.lastIndexOf(".");let s=r.substring(0,o)||at.EMPTY_STRING;s=s?`caseInfo.content.${s}`:"caseInfo.content",s=s.replace(/\(/g,"[").replace(/\)/g,"]");const a=r.substring(o+1),i=Pn(a,s,at.PROPERTY),c={type:st.MESSAGES.MESSAGES_TYPE_ERROR,message:n.message},l=ot.getIn(e[t],i,[]);ot.setIn(e[t],i,[...l,c])}})(e,t,n):((e,t,n)=>{const r=n[at.ERROR_FIELD_IN_PAGE].slice(1),o=n[at.ERROR_IN_PAGE_IDENTIFIER].slice(1);if(o){let s=r?`caseInfo.content.${r}`:"caseInfo.content";s=s.replace(/\(/g,"[").replace(/\)/g,"]");const a=Pn(o,s,at.PROPERTY),i={type:st.MESSAGES.MESSAGES_TYPE_ERROR,message:n.message},c=ot.getIn(e[t],a,[]);ot.setIn(e[t],a,[...c,i])}})(e,t,n)}))})(e,o,s),a.length>0){const t=Uu(a);o.includes&&o.includes(Rs.WORKAREA)&&(o=gr(o)),e[o]||(o=at.APP.APP),ot.setIn(e,[o,...Cn.PAGE_MESSAGES_PATH],t)}else o.includes&&o.includes(Rs.WORKAREA)&&(o=gr(o)),ot.deleteIn(e,[o,...Cn.PAGE_MESSAGES_PATH]);if(i.length>0){const t=Uu(i);ot.setIn(e,[at.APP.APP,...Cn.PAGE_MESSAGES_PATH],t)}return e}(e,t):e;case Lt:{const{context:n}=t.payload,r=[n,...Cn.FIELD_MESSAGES_PATH],o=[n,...Cn.PAGE_MESSAGES_PATH];if(ot.setIn(e,r,{}),ot.setIn(e,o,[]),n&&n.includes(Rs.WORKAREA)){const t=[_r(n),...Cn.PAGE_MESSAGES_PATH];ot.setIn(e,t,[])}return e}case Jt:return((e,t)=>{const{property:n,pageReference:r,category:o,type:s}=t.payload;let{context:a}=t.payload;const i=Pn(n,r,o);o===at.PAGE&&a.includes&&a.includes(Rs.WORKAREA)&&(a=gr(a));const c=ot.getIn(e[a],i);if(c&&o===at.CASEMESSAGES)ot.setIn(e[a],Pn(n,r,o),"");else if(c&&c.length>0&&Array.isArray(c)){const t=c.filter((e=>e.type!==s));i&&i.length>0&&ot.setIn(e[a],Pn(n,r,o),t)}return e})(e,t);case Kt:{const{messages:n,property:r,pageReference:o,context:s,category:a}=t.payload,i=Pn(r,o,a);return n&&n.length>0&&Array.isArray(n)&&i&&i.length>0&&ot.setIn(e[s],Pn(r,o,a),n),e}default:return e}})),(e,t)=>Du(e,(e=>{if(t.type===tn){const{instruction:n,actions:r,context:o,referenceList:s,listIndex:a,listMoveToIndex:i,content:c={}}=t.payload,l=ui(s);switch(n){case at.LIST_ACTIONS.INSERT:((e,t,n,r,o)=>{ot.setIn(e[t],[...n,r],o)})(e,o,l,a,c);break;case at.LIST_ACTIONS.UPDATE:((e,t,n,r,o)=>{const s=Si(ot.getIn(e[t],[...n,r],{}),o);ot.setIn(e[t],[...n,r],s)})(e,o,l,a,c);break;case at.LIST_ACTIONS.DELETE:((e,t,n,r)=>{const o=ot.getIn(e[t],n,[]);o.splice(r,1),ot.setIn(e[t],n,o)})(e,o,l,a);break;case at.LIST_ACTIONS.MOVE:((e,t,n,r,o)=>{const s=ot.getIn(e[t],[...n,r],{}),a=ot.getIn(e[t],n,[]);a.splice(r,1),a.splice(o,0,s),ot.setIn(e[t],n,a)})(e,o,l,a,i);break;case at.LIST_ACTIONS_TYPE.SELECT_DESELECT:((e,t,n,r)=>{const o=ot.getIn(e[t],n)||[];r.forEach((e=>{const{instruction:r,content:s,listIndex:a}=e;r===at.LIST_ACTIONS.SELECT?(o[a]=s,n.forEach((e=>{lo(t,e)}))):delete o[a]})),ot.setIn(e[t],n,o.filter(Boolean))})(e,o,l,r)}}return e}))],Vu=(e=Wu().data,t)=>t.type===Xt?Wu().data:(ku.forEach((n=>{e=n(e,t)})),e),Fu=(e,t=[])=>{t.forEach((t=>{ot.deleteIn(e,[t])}))},$u=(e,t)=>{const{type:n,payload:r}=t,o=n===Lt,{target:s,context:a,semanticURL:i="",root:c,containerItemID:l,childContainers:u,flowName:p,resourceType:d="",key:h=""}=r;return c&&ot.setIn(e,[s,"items",l,"view"],c),a&&ot.setIn(e,[s,"items",l,"context"],a),p&&ot.setIn(e,[s,"items",l,"flowName"],p),(!o||o&&h)&&ot.setIn(e,[s,"items",l,"key"],h.trim()),(!o||o&&i)&&ot.setIn(e,[s,"items",l,"semanticURL"],i),(!o||o&&d)&&ot.setIn(e,[s,"items",l,"resourceType"],d),Fu(e,u),e},Gu=(e=Wu().containers,t)=>t.type===Xt?Wu().containers:Du(e,(e=>{switch(t.type){case bt:{const{context:n,name:r,type:o,actionMgrID:s}=t.payload,a=`${n}/${r}`;let i=null;return Bn.resolveActionByID(s,null,!1),e[a]||(i={type:o,accessedOrder:[],items:{}},ot.setIn(e,[a],i)),e}case Vt:{const{containerName:n}=t.payload;return ot.deleteIn(e,[n]),e}case Ct:{const{context:n,name:r,actionMgrID:o,childContainers:s}=t.payload,a=`${n}/${r}`;return Bn.resolveActionByID(o,null,!1),ot.setIn(e,[a,"accessedOrder"],[]),ot.setIn(e,[a,"items"],{}),Array.isArray(s)&&s.forEach((t=>{ot.deleteIn(e,[t])})),e}case Pt:{const{target:n,context:r,isInCreateStage:o,isBulkAction:s,semanticURL:a,root:i,containerItemID:c,actionMgrID:l,key:u,flowName:p,resourceType:d,actionName:h,isMinimizable:f,showProgress:g,progressMessage:y}=t.payload,m=e[n],I=m&&m.type,E=m&&m.accessedOrder||[],A=m&&m.items||{};let _=null;return e[n]&&"single"===I&&E.length>0?$u(e,t):(_={accessedOrder:[...E,c],items:{...A,[c]:{view:i,semanticURL:a,key:u,flowName:p,context:r,isInCreateStage:o,resourceType:d,actionName:h,isMinimizable:f,...s&&{isBulkAction:s},showProgress:g,progressMessage:y}}},Bn.resolveActionByID(l,null,!1),e[n]=Ye()(e[n],_),e)}case Lt:{const{actionMgrID:n,data:r}=t.payload;let o=e;try{o=$u(e,t),Bn.resolveActionByID(n,r,!1)}catch{Bn.rejectActionByID(n,!1)}return o}case Ut:return((e,t)=>{const{actionMgrID:n,data:r,target:o,containerItemID:s}=t.payload;let a=e;try{ot.setIn(e,[o,"items",s,"transientItems"],[]),a=$u(e,t),Bn.resolveActionByID(n,r,!1)}catch{Bn.rejectActionByID(n,!1)}return a})(e,t);case Mt:{const{target:n,containerItemID:r,actionMgrID:o}=t.payload;try{const t=ot.getIn(e,[n,"accessedOrder"]).filter((e=>e!==r));t.push(r),ot.setIn(e,[n,"accessedOrder"],t),Bn.resolveActionByID(o,null,!1)}catch{Bn.rejectActionByID(o,!1)}return e}case jt:case Tt:{const{target:n,containerItemID:r,actionMgrID:o,childContainers:s}=t.payload;try{const t=ot.getIn(e,[n,"accessedOrder"]).filter((e=>e!==r));ot.setIn(e,[n,"accessedOrder"],t),ot.deleteIn(e,[n,"items",r]),Fu(e,s),Bn.resolveActionByID(o,null,!1)}catch{Bn.rejectActionByID(o,!1)}return e}case Ot:{var n;const{transientItemID:r,target:o,contextName:s}=t.payload,a=null!==(n=ot.getIn(e,[o,"items",s,"transientItems"]))&&void 0!==n?n:[];return ot.setIn(e,[o,"items",s,"transientItems"],[...a,r])}case Dt:{const{target:n,containerItemID:r}=t.payload;return ot.deleteIn(e,[n,"items",r,"transientItems"]),e}case Rt:{var r;const{target:n,transientItemID:o,containerItemID:s}=t.payload,a=(null!==(r=ot.getIn(e,[n,"items",s,"transientItems"]))&&void 0!==r?r:[]).filter((e=>e!==o));return ot.setIn(e,[n,"items",s,"transientItems"],a)}default:return e}}));let Bu={};const Wu=()=>Bu;function Hu(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ve(B,e)}function qu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return ce(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof H?e[0]:Hu(n)(le(e,r))}function Yu(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var zu=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ku(e,this.selector,this.caught))},e}(),Ku=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return S(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new Ee(this);this.add(r);var o=_e(n,r);o!==r&&this.add(o)}},t}(Ae),Ju=n(44),Xu=n.n(Ju);const Qu=(e,t)=>{return n=n=>(console.error(e,n),ue(Ba(e,n,t))),function(e){var t=new zu(n),r=e.lift(t);return t.caught=r};var n},Zu=[(e,t)=>e.pipe(Ve(Xa),ye((e=>e.payload)),ve((e=>{const{context:n,caseWideAction:r,contextData:o,caseViewAction:s,interestPage:a}=e;let i={};const c={...us(n).content,contextData:o};r?i=qr("refreshCaseData",e):s?(i=qr("refreshCaseView",e),c.interestPage=a):i=qr("refreshAssignmentData",e);const{restApi:l,reqType:u}=i,p=t.value.data[n].caseInfo.headers;return oe(Bi(`${l}`,{method:u,body:c,headers:{"if-match":p&&p.etag}},n)).pipe(ye((t=>({response:{...t.data||{}},actionConfig:e,actionMgrID:e.options.actionMgrID,headers:ls(t.headers)}))),Qu(": Error ocurred during fetch call at refreshData Epic : ",e.context))})),ve((async e=>{if(e&&e.type===St)return gs(e);const{actionConfig:t,response:n,headers:r,actionMgrID:o}=e,{context:s}=t,a=Do(Ft),i=Lr(a,s),c={acName:i,context:s},l=cc(n,{[st.STOPMERGEACTIONS]:!0,[st.ACTIONS.DELETEAVIALACTIONS]:!0});l.directUrlUpdation=!1,await ds(l,t,c);const u=ps(l,{target:i,context:s});u.preserveClientChanges=!0;const p=Ga(Ia,u);return hi(p),Bn.resolveActionByID(o,u),[]})))],ep=[e=>e.pipe(Ve(Qt),ve((async e=>{const{context:t}=e.payload,n={},r={},o=Object.keys(e.payload.datapages).map((o=>{const s=e.payload.datapages[o];if(s.mode===at.READONLY&&null!=s&&s.refreshStrategy){const{timeoutSecs:e="",type:t=""}=(null==s?void 0:s.refreshStrategy)||{},n=gi()[s.name];if(n&&o in n){const r=n[o],{loadTime:s}=r;if(!Nc.isTimeElapsed(s,e,t))return}}return Nc.getData(s.name,{dataViewParameters:s.dataViewParameters},t).then((e=>{const t=s.mode===at.READONLY?r:n;var a,i;t[s.name]?t[s.name][o]={pxResults:e.data.data,parameters:s.dataViewParameters,loadTime:null===(a=e.data)||void 0===a?void 0:a.fetchDateTime}:t[s.name]={[o]:{pxResults:e.data.data,parameters:s.dataViewParameters,loadTime:null===(i=e.data)||void 0===i?void 0:i.fetchDateTime}}})).catch((()=>{}))}));await Promise.allSettled(o);const s=[];return Object.keys(n).length&&s.push(Ia({context:t,data:n})),Object.keys(r).length&&s.push(Wa({data:r,context:t})),hi(s),[]})))],tp=e=>{const{containerName:t,isInCreateStage:n}=e;return n?at.MODAL:t||Do(Wt)},np=e=>{const t=ot.getIn(e,[at.DATA,at.CASE_INFO.CASE_INFO]);return Uo(t)&&ko(jo.getOperatorIdentifier(),t)},{RESOURCE_TYPES:rp}=st,op=e=>{const{viewType:t,containerName:n,targetContainerName:r,isChild:o}=e;return t||(!qo(n)&&!qo(r)||o?is.PAGE:is.FORM)},sp=e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_SUBMISSION,e)},{RESOURCE_TYPES:ap}=st,{RESOURCE_TYPES:ip}=st;function cp(e,t){return"function"==typeof t?function(n){return n.pipe(cp((function(n,r){return oe(e(n,r)).pipe(ye((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new lp(e))}}var lp=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new up(e,this.project))},e}(),up=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return S(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new Ee(this),r=this.destination;r.add(n),this.innerSubscription=_e(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Ae);const pp=(e,t)=>{const{containerItemID:n,skipReleaseLockRequest:r}=t,o=Bs(n),s=`${o.includes("root")?at.APP.ROOT:at.APP.APP}/${Rs.MODAL}`;e.push(Ga(La,{containerItemID:n,context:o,target:s,skipReleaseLockRequest:r}))},dp=e=>{var t;return null===(t=mi(".openCaseViewAfterCreate",at.CONTEXT_DATA,e))||void 0===t||t},hp=(e,t,{data:n,caseViewMode:r})=>{const{containerItemID:o}=t,s=Bs(o);if(es(o)){const t=_r(s),o={data:n,caseViewMode:r,context:t};ot.setIn(o.data,["context_data","caseViewMode"],r),e.push({type:nn,payload:{context:t}}),e.push(Ga(Ia,o))}},fp=(e,t)=>{const n=gr(e);return/^app\/primary_[0-9]*/g.test(n)&&es(t)},{RESOURCE_TYPES:gp}=st,yp="CANCEL_ASSIGNMENT",mp=e=>{const t={},{routeKey:n,isModalAction:r,caseID:o,context:s,RemoteSystemID:a}=e;a&&(t.RemoteSystemID=a);const i=n||"releaseAssignmentLock",{restApi:c,reqType:l}=qr(i,{ID:o,caseID:o,viewType:is.PAGE});return oe(Bi(c,{method:l,headers:t},s)).pipe(ye((t=>r?{actionInPayload:e}:{response:t.data,actionInPayload:e,headers:ls(t.headers)})),Qu(": Error ocurred during ajax call at release lock request : ",s))},Ip=mp,Ep=e=>{let t=0,n=[];return e.pipe(Ve(yp),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>{const{isModalAction:t}=e;return e.context||(e.context=Bs(e.containerItemID)),((e,t)=>{const{isModalAction:n}=t;return Ip({routeKey:"cancelAssignment",isModalAction:n,...e})})(e,{isModalAction:t})})),ve((async e=>{if(e&&e.type===St)return n.push(gs(e)),n;const{actionInPayload:r,response:o}=e,{containerItemID:s,isModalAction:a,isInCreateStage:i}=r,c=ra(s),l=Bs(s),u={target:a?`${at.APP.APP}/${at.MODAL}`:c,containerItemID:s,caseViewMode:a?at.PERFORM_MODE:at.REVIEW_MODE,context:l,actionMgrID:t,key:Qo(o)};return i&&n.push(Ga(Da,u)),!a&&es(s)&&(async(e,t)=>{const{childContainerItemID:n,caseViewMode:r}=t,o=gr(n),s={context:Bs(o),data:{context_data:{caseViewMode:r}}};e.push(Ga(Ia,s))})(n,{childContainerItemID:s,caseViewMode:at.REVIEW_MODE}),u.skipReleaseLockRequest=!0,n.push(Ga(La,u)),n})),ye((()=>(Bn.resolveActionByID(t),hi(n),n=[],n))))},Ap=Ep,{RESOURCE_TYPES:_p}=st,vp=(e,t=!1)=>{const{action:n,state$:r,actionMgrID:o,caseType:s}=e;let{actionsOut:a}=e;return ue(n.payload).pipe(ve((e=>((e,t)=>{var n,r;const{assignmentID:o,actionID:s,context:a}=e,{restApi:i,reqType:c}=qr("save",{assignmentID:o,actionID:s}),{content:l}=us(a),u=null===(n=t.value.data[a])||void 0===n||null===(r=n.caseInfo)||void 0===r?void 0:r.headers;return oe(Bi(i,{method:c,body:l,headers:{"if-match":u&&u.etag}},a)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls(t.headers)}))),Qu(": Error ocurred during ajax call at saveAndCloseAssignment Epic at save action : ",a))})(e,r))),ve((e=>{if(e&&zo(e.type))return ue(e);if(e.actionInPayload.isProcessAction&&e.response.data.caseInfo.parentCaseInfo){var t;const n=`${null!==(t=e.actionInPayload)&&void 0!==t&&t.containerItemID.includes("root")?at.APP.ROOT:at.APP.APP}/${Rs.PRIMARY}`,r=ms(n,Rs.PRIMARY),o={insKey:e.response.data.caseInfo.parentCaseInfo.ID,className:e.response.data.caseInfo.parentCaseInfo.content.classID,context:r,acTargetName:at.PRIMARY,isChild:!0},s={type:gt,payload:{...o}};a.push(s)}return Ip(e.actionInPayload)})),ve((async e=>{if(e&&zo(e.type)){const{payload:t}=e,n=gs({...e,...t,actionMgrID:o});return a.push(n),a}const{actionInPayload:n}=e,{context:r,containerName:s}=n,i={target:Lr(s,r),containerItemID:r,context:r};return t||a.push(Ga(La,i)),a})),ye((()=>(1===a.length&&zo(a[0].type)?Bn.rejectActionByID(o):((e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_SAVED,e)})({caseType:s}),Bn.resolveActionByID(o)),hi(a),t||(a=[]),a))))};function Sp(){}var bp=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Cp(e,this.nextOrObserver,this.error,this.complete))},e}(),Cp=function(e){function t(t,n,r,o){var s=e.call(this,t)||this;return s._tapNext=Sp,s._tapError=Sp,s._tapComplete=Sp,s._tapError=r||Sp,s._tapComplete=o||Sp,P(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Sp,s._tapError=n.error||Sp,s._tapComplete=n.complete||Sp),s}return S(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(F);const{LOCAL_ACTION_TYPE:Pp}=at,{RESOURCE_TYPES:Tp}=st,Op=(e,t)=>{const{actionID:n,assignmentID:r,caseID:o,context:s,openActionType:a}=e,{isProcessAction:i}=t,c=i?qt:(e=>{const t=e.localActionType.toLowerCase();return t===Pp.CASE_WIDE||t===Pp.EXPRESS?Yt:Ht})(e),l=is.FORM,{reqType:u}=qr(c,{caseID:o,ID:r,actionID:n,viewType:l});let{restApi:p}=qr(c,{caseID:o,ID:r,actionID:n,viewType:l});return p.indexOf("viewType=")<0&&(p=`${p}?viewType=${l}`),oe(Bi(p,{method:u},s)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls(t.headers)}))),Qu(`: Error ocurred during ajax call at ${a} Epic : `,s))},Np=(e,t)=>{const{isProcessAction:n}=t,r=n?qt:Ht;let o;if(e.openActionType=r,"modal"===Wo(r,e)){o=qs(e.contextName);const n=$s(o),r=Bs(n),a=(s=e.cancelActionPayload,{type:yp,payload:s}),i=Ep(ue(a));return e.continueExecution?Eo(r)?oe([Hc(e.saveActionPayload)]).pipe(ve((e=>(e=>{let t,n=0;const r=[],o={value:di().getState()};return ue(e).pipe(Ve(Wc),cp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n,caseType:t}=e.payload),s?vp({action:e,state$:o,actionMgrID:n,caseType:t,actionsOut:r},!0):(Bn.rejectActionByID(n),ue([]))})))})(e))),ve((n=>{if(1===n.length&&zo(n[0].type)){const{continueExecution:n}=As(o);if(!n)return Bn.rejectActionByID(e.actionMgrID),ae.pipe((r=()=>ie(),function(e){return e.lift(new bp(r,void 0,void 0))})).toPromise();if(n)return i.subscribe(),Op(e,t)}var r;return i.subscribe(),Op(e,t)})),ye((e=>e))):(i.subscribe(),Op(e,t)):Op(e,t)}var s;return Op(e,t)},Rp=async(e,t,{headers:n,actionInPayload:r})=>{const{context:o,actionName:s,openActionType:a,doDeleteCaseSummary:i}=r,c=cc(e),l=Wo(a,r),u=Lr(l,o);let p,d,h=!1;!Js(u)||Ks(u)&&!Us(u,e.data.caseInfo.ID)||Yo(l)?(d=yr(l,o),Yo(l)&&(d=Ar(o,d)),p=d,h=!0):(p=Ks(u)?ks(u,e.data.caseInfo.ID):$s(u),d=Bs(p));const f={acName:u,target:u,containerName:l,context:d};await ds(c,r,f);const g=ps(c,{target:u,context:d,containerItemID:p,caseViewMode:at.PERFORM_MODE,doDeleteCaseSummary:i,headers:n,actionName:s,isMinimizable:!1,isInCreateStage:Yo(l),resourceType:Tp.ASSIGNMENT,isProcessAction:r.isProcessAction,showProgress:r.showProgress,progressMessage:r.progressMessage});ts(g,c),Yo(l)&&delete g.doDeleteCaseSummary,r.openActionType===zt&&(g.isBulkAction=!0,g.data.caseInfo.actionButtons.main[0].jsAction="submitBulkAction",g.data.caseInfo.actionButtons.secondary[0].jsAction="cancelBulkAction",g.data.caseInfo.cases=r.selectedList);const y=h?Pa:Da;return t.push(Ga(y,g)),p!==$s(u)&&t.push(Ga(wa,{target:u,containerItemID:p})),es(p)&&Cs(g,t),t};function Dp(e,t){return new H((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),s=0,a=0,i=function(i){var c=oe(e[i]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,a++),o[i]=e},error:function(e){return n.error(e)},complete:function(){++s!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},c=0;c<r;c++)i(c);else n.complete()}))}function xp(e,t){return void 0===e&&(e=0),void 0===t&&(t=pl),(!De(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=pl),new H((function(n){return n.add(t.schedule(wp,e,{subscriber:n,counter:0,period:e})),n}))}function wp(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function Mp(e){return function(t){return t.lift(new Lp(e))}}var Lp=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new jp(e,this.durationSelector))},e}(),jp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return S(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=_e(t,new Ee(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(Ae);const Up=[e=>{let t=0,n=[],r="";return e.pipe(Ve(ga),(e=>new H((t=>{let n={},r=0;return e.pipe(ve((e=>{const t=Date.now();let o;return o=Xu(),o&&o(e,n)&&t-r<100?ie():(n=e,r=t,ue(e))}))).subscribe(t)}))),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>{const{context:n}=e,r=tp(e),o=Lr(r,n),{continueExecution:s,removeActionPayload:a}=(e=>zs(e)?{continueExecution:!0,removeActionPayload:{}}:As(e))(o);return s?((e,t)=>{const{caseInfo:n,class:r,flowType:o,context:s,viewType:a=is.PAGE,headers:i,startingFields:c={},pageName:l}=e,{removeActionPayload:u}=t;let p={};n&&n.content&&(p=n.content);const{restApi:d,reqType:h}=qr("createWork",{caseClassName:r,viewType:a,params:{pageName:l}}),f={caseTypeID:r,content:{...p,...c},processID:o};return oe(Bi(d,{method:h,headers:i,body:f},s)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls(t.headers,r,i),removeActionPayload:u}))),Qu("Error ocurred during ajax call at createWork Epic : ",s))})(e,{removeActionPayload:a}):(Bn.rejectActionByID(t),ie())})),ve((async e=>{var o;if(e&&e.type===St)return n.push(gs(e)),n;const{actionInPayload:s,response:a,headers:i,removeActionPayload:c}=e;let l;l=!s.renderInline&&np(a),ot.setIn(a.data,"caseInfo.isFirstAssignment",!0);const u=tp({...s,isInCreateStage:l}),p=Lr(u,s.context),d=ms(p,u,s.context);if(!Yo(u)&&zs(p)){const{continueExecution:e}=As(p);if(!e)return Bn.rejectActionByID(t),ie()}if(null!==(o=null==s?void 0:s.openCaseViewAfterCreate)&&void 0!==o&&!o&&!l){const e=ot.getIn(a.data,"caseInfo.content");return r=`${e.pyID} has been created.`,(e=>{Ni.publish(at.PUB_SUB_EVENTS.DISPLAY_CASE_CREATED_TOASTER,e)})({toastMessage:r}),n}const h=cc(a);let f=Wr("createWork",{caseClassName:Xo(h)});f=f.replace(/{.+?}/,Jo(Qo(h))),h.semanticURL=f,((e,t)=>{const n=np(e),{skipBrowserSemanticUrlUpdate:r=!1}=t;ot.setIn(e,["directUrlUpdation"],!n&&!r)})(h,s);const g={acName:p,context:d};await ds(h,s,g);const y={target:p,context:d,containerItemID:d,headers:i,semanticURL:f,isInCreateStage:l,isMinimizable:l,caseViewMode:at.PERFORM_MODE,assignmentContext:ot.getIn(h,"nextAssignmentInfo.context"),nextAssignmentInfo:ot.getIn(h,"nextAssignmentInfo"),resourceType:st.CASE,openCaseViewAfterCreate:s.openCaseViewAfterCreate};ts(y,h);const m=ps(h,y),I=ys(p,m);return Is(I)&&Zo(n,{removeActionPayload:c,target:p}),n.push(I),Ss(n),n})),ye((()=>(Bn.resolveActionByID(t),Ps(n),r="",n=[],n))))},e=>{let t=0,n=[];return e.pipe(Ve(Gc),ye((e=>(({actionMgrID:t}=e.payload),{...e.payload,insKey:e.payload.assignmentID}))),ve((e=>{const{context:n}=e,r=op(e);e.viewType=r;const o=Wo(Bt,e),s=Lr(o,n),{activate:a,activateContainerActionPayload:i}=vs(ap.ASSIGNMENT,s,e);if(a&&!e.isParallelCall)return $e.of({type:Mt,activateContainerActionPayload:i,actionInPayload:e});const{continueExecution:c,removeActionPayload:l}=null!=i&&i.isParallelAssignment?{continueExecution:!0,removeActionPayload:{}}:As(s);return c?((e,t)=>{const n=op(e),{headers:r,context:o,assignmentID:s,pageName:a}=e,{restApi:i,reqType:c}=qr(Bt,{assignmentID:s,viewType:n}),{removeActionPayload:l}=t;return oe(Bi(a?`${i}?viewType=${n}&pageName=${a}`:`${i}?viewType=${n}`,{method:c,headers:r},o)).pipe(ye((t=>{const{key:o,flowName:a}=fs(s);return{response:{...t.data,key:o,flowName:a},actionInPayload:e,viewType:n,removeActionPayload:l,headers:ls({...r,...t.headers})}})),Qu("Error ocurred during ajax call at openAssignment Epic : ",o))})(e,{removeActionPayload:l}):(Bn.rejectActionByID(t),ie())})),ve((async e=>{if(e&&e.type===St)return n.push(gs(e)),n;const{type:t,actionInPayload:r,response:o,viewType:s,headers:a,removeActionPayload:i,activateContainerActionPayload:c}=e,{context:l,caseViewMode:u}=r,p=((e,t)=>{const n=Ko(e),r=Uo(n),{isChild:o,containerName:s}=t,a=o&&r,i=r&&!t.isActionFromToDoList;return a||i?at.MODAL:s||Wo(Bt,t)})(o,r),d=Lr(p,l);if(t===Mt)return await(async(e,t,n)=>{const{semanticURL:r,containerItemID:o,isParallelAssignment:s,insKey:a}=t,{target:i,actionInPayload:c}=n,{skipBrowserSemanticUrlUpdate:l=!1}=c,u=Bs(o);await ds({directUrlUpdation:!l,semanticURL:r},c,{acName:i,target:i,context:u}),e.push(Ga(wa,{containerItemID:o,target:i,isParallelAssignment:s,insKey:a,resourceType:rp.CASE,context:u,doDeleteCaseSummary:c.doDeleteCaseSummary}))})(n,c,{actionInPayload:r,target:d}),Ss(n),n;const h=cc(o);((e,t)=>{const n=Ko(e),r=Qo(e),o=Uo(n),{skipBrowserSemanticUrlUpdate:s=!1,viewType:a}=t,i=a===is.PAGE&&!o&&!s,{caseTypeID:c}=n;if(i){const t=Wr(Gt,{caseClassName:c}).replace(/{.+?}/,Jo(r));e.semanticURL=t,e.directUrlUpdation=!0}})(h,r);const f=ms(d,p,l),g={acName:d,target:d,context:f};await ds(h,r,g);const y={target:d,context:f,containerItemID:f,headers:a,isMinimizable:Uo(ot.getIn(h,"data.caseInfo")),doDeleteCaseSummary:r.doDeleteCaseSummary,resourceType:st.CASE};ts(y,h);const m=ps(h,y);return r.isProcessAction&&(m.data.isProcessAction=r.isProcessAction),zs(d)&&Js(d)?s===is.FORM?(m.caseViewMode=u||at.PERFORM_MODE,n.push(Ga(Da,m))):n.push(Ga(ka,m)):(Zo(n,{removeActionPayload:i,target:d}),Ks(d)&&((e,t,n)=>{const r=ws(t,$s(t));return(null==r?void 0:r.key)===e&&n===at.REVIEW_MODE})(m.key,d,r.activeItemCaseViewMode)?(m.context=Ws(d),m.containerItemID=m.context,n.push(Ga(ka,m))):n.push(Ga(Pa,m))),s===is.FORM&&es(m.containerItemID)&&Cs(m,n),Ss(n),(e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.ASSIGNMENT_OPENED,e)})({actionInContext:l,assignmentID:r.assignmentID,caseKey:m.key}),n})),ye((()=>{var e,r;return Bn.resolveActionByID(t),hi(n),null!==(e=n[0])&&void 0!==e&&null!==(r=e.payload)&&void 0!==r&&r.isParallelAssignment&&hi({type:Gc,payload:{...n[0].payload,isParallelCall:!0}}),n=[],n})))},e=>{let t=0,n=[];return e.pipe(Ve("OPEN_WORK_BY_HANDLE"),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>{const{context:n,isChild:r}=e,o=Wo(Gt,e),s=Lr(o,n),{continueExecution:a,removeActionPayload:i}=As(s);if(!a)return Bn.rejectActionByID(t),ie();const{activate:c,activateContainerActionPayload:l}=vs(ip.CASE,s,e);return c&&!r?$e.of({type:Mt,activateContainerActionPayload:l,actionInPayload:e}):((e,t)=>{const{insKey:n,headers:r,context:o,pageName:s}=e,{removeActionPayload:a}=t,{restApi:i,reqType:c}=qr(Gt,{caseID:n,params:{pageName:s}});return oe(Bi(i,{method:c,headers:r},o)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls({...r,...t.headers}),removeActionPayload:a}))),Qu("Error ocurred during ajax call at openWorkByHandle Epic : ",o))})(e,{removeActionPayload:i})})),ve((async e=>{if(e&&zo(e.type))return n.push(gs(e)),n;const{actionInPayload:t,activateContainerActionPayload:r,type:o,response:s,removeActionPayload:a,headers:i}=e,{context:c,skipBrowserSemanticUrlUpdate:l}=t,u=Wo(Gt,t),p=Lr(u,c);if(o===Mt)await(async(e,t)=>{const{activateContainerActionPayload:{semanticURL:n,containerItemID:r},actionInPayload:o,actionInPayload:{context:s,skipBrowserSemanticUrlUpdate:a,doDeleteCaseSummary:i}}=t,c=Wo(Gt,o),l=Lr(c,s),u=Bs(r);await ds({directUrlUpdation:!a,semanticURL:n},o,{acName:l,containerName:c,target:l,context:u}),e.push(Ga(wa,{containerItemID:r,target:l,context:u,doDeleteCaseSummary:i}))})(n,{activateContainerActionPayload:r,actionInPayload:t});else{const e=ms(p,u,c,{buildNew:!0}),r=cc(s),o=((e,t)=>{const{isRemoteCase:n,remoteCaseClass:r}=t,o=Qo(e),s=n?r:Xo(e);let a=Wr(Gt,{caseClassName:s});return a=a&&a.replace("{workID}",Jo(o)),a})(r,t);r.semanticURL=o,r.directUrlUpdation=!l;const d={acName:p,context:e};await ds(r,t,d);const h=ps(r,{target:p,context:e,containerItemID:e,semanticURL:o,headers:i});h.caseViewMode=at.REVIEW_MODE,h.resourceType=ip.CASE,ts(h,r,{skipFlowNameUpdate:!0});const f=ys(p,h);a.containerItemID&&Is(f)&&n.push(Ga(La,{containerItemID:a.containerItemID,target:p})),n.push(f)}return Ss(n),(e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.CASE_OPENED,e)})({caseKey:t.insKey,actionInContext:c}),n})),ye((()=>(Bn.resolveActionByID(t),hi(n),n=[],n))))},e=>{let t=0,n=[];return e.pipe(Ve("OPEN_LOCAL_ACTION"),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>((e,t)=>Np(e,t))(e,{actionMgrID:t}))),ve((async e=>{if(!e)return ae;if(zo(e.type)){const t=gs(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e,{actionID:s}=t;return ot.setIn(o,"data.caseInfo.activeActionID",s),await Rp(o,n,{headers:r,actionInPayload:t}),(e=>{const{callbacks:t}=e;null!=t&&t.submit&&((e,t)=>{Ni.subscribe(at.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,e,"expressLocalActionSubmit")})((e=>{t.submit(e),Ni.unsubscribe(at.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,"expressLocalActionSubmit")}))})(t),n})),ye((()=>(1===n.length&&zo(n[0].type)?Bn.rejectActionByID(t):Bn.resolveActionByID(t),hi(n),n=[],n))))},e=>{let t=0,n=[];return e.pipe(Ve("OPEN_BULK_ACTION"),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>((e,t)=>{const{context:n}=e,{actionMgrID:r}=t;e.openActionType=zt;const o=Wo(zt,e),s=Lr(o,n),{continueExecution:a}=As(s);return a?(e=>{const{actionID:t,context:n,openActionType:r,caseTypeID:o}=e,{reqType:s,restApi:a}=qr("openBulkAction",{caseTypeID:o,actionID:t});return oe(Bi(a,{method:s},n)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls(t.headers)}))),Qu(`: Error ocurred during ajax call at ${r} Epic : `,n))})(e):(Bn.rejectActionByID(r),ie())})(e,{actionMgrID:t}))),ve((async e=>{if(e&&zo(e.type)){const t=gs(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e,{actionID:s}=t;return ot.setIn(o,"data.caseInfo.activeActionID",s),await Rp(o,n,{headers:r,actionInPayload:t}),(e=>{const{callbacks:t}=e;null!=t&&t.submit&&((e,t)=>{Ni.subscribe(at.PUB_SUB_EVENTS.EVENT_BULKACTION,e,"bulkActionSubmit")})((e=>{t.submit(e),Ni.unsubscribe(at.PUB_SUB_EVENTS.EVENT_BULKACTION,"bulkActionSubmit")}))})(t),n})),ye((()=>(1===n.length&&zo(n[0].type)?Bn.rejectActionByID(t):Bn.resolveActionByID(t),hi(n),n=[],n))))},e=>{let t,n=0,r=[],o="";return e.pipe(Ve("SUBMIT_BULK_ACTION"),cp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n}=e.payload),s?ue(e.payload).pipe(ve((e=>(t=e,(e=>{const{actionID:t,context:n,cases:r}=e,{content:o}=us(n,{onlyChangedData:!0}),s=r.map((e=>({ID:e}))),a=s.length/5,{reqType:i,restApi:c}=qr("performBulkAction",{actionID:t}),l=[],u=s.length;for(let t=0;t<u;t+=a)o.cases=s.slice(t,t+a),o.cases.length&&l.push(oe(Bi(c,{method:i,body:o},n)).pipe(ye((t=>{const{data:n,headers:r}=t;return{response:n,actionInPayload:e,headers:ls({...r})}})),Qu("Error ocurred during ajax call at submitbulkaction Epic : ",n)));return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(b(n))return Dp(n,null);if(C(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Dp(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Dp(e=1===e.length&&b(e[0])?e[0]:e,null).pipe(ye((function(e){return o.apply(void 0,e)})))}return Dp(e,null)}(l)})(t)))),ve((e=>{let n=0,s=0;const a=[],{containerItemID:i,context:c}=t;return e.map((e=>{const{response:t}=e;n+=Number(t.successCount),s+=Number(t.failureCount),s&&t.results.map((e=>{"200"!==e.status&&e.error&&a.push({ID:e.ID,message:e.error.errorDetails[0].localizedValue})}))})),o=`${n} record(s) updated`,(e=>{Ni.publish(at.PUB_SUB_EVENTS.EVENT_BULKACTION,e)})({submitResponse:e}),t.target=`${at.APP.APP}/${Rs.MODAL}`,r.push(Ga(La,{containerItemID:i,context:c,target:t.target,skipReleaseLockRequest:!0})),s&&r.push(Ga(Ma,{messages:[{type:"error",message:`${s} records failed to update`,errorDetails:a,showHeader:!1}],context:gr(c)||c,category:"HTTP",showHeader:!1})),r})),ye((()=>(Bn.resolveActionByID(n,o),hi(r),r=[],r)))):(Bn.rejectActionByID(n),ue([]))})))},e=>{let t=0,n=[];return e.pipe(Ve($c),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>((e,t)=>Np(e,t))(e,{actionMgrID:t,isProcessAction:!0}))),ve((async e=>{if(e&&zo(e.type)){const t=gs(e);return n.push(t),n}const{actionInPayload:t,headers:r,response:o}=e;return await Rp(o,n,{headers:r,actionInPayload:t}),n})),ye((()=>(1===n.length&&zo(n[0].type)?Bn.rejectActionByID(t):Bn.resolveActionByID(t),Ps(n),n=[],n))))},(e,t)=>{let n=0,r=[],o="";return e.pipe(Ve("FINISH_ASSIGNMENT"),cp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:n}=e.payload),s?ue(e.payload).pipe(ve((e=>(((e,t)=>{const{containerItemID:n,context:r,actionMgrID:o,isInCreateStage:s,isModalAction:a}=t;if(s&&a){const t=Ho(n),s=Lr(t,r);e.push(Ga(wa,{containerItemID:n,target:s,actionMgrID:o}))}})(r,e),((e,t)=>{var n,r;const{assignmentID:o,actionID:s,caseID:a,context:i,additionalHeaders:c={},isCaseWideAction:l}=e,{state$:u}=t,p=(e=>{const{isModalAction:t,viewType:n,isInCreateStage:r}=e;return n||(t&&r?is.PAGE:is.FORM)})(e),d=(e=>{const{isCaseWideAction:t}=e;return t?Yt:"finishAssignment"})(e),h={assignmentID:o,actionID:s,caseID:a,viewType:p},{restApi:f}=qr(d,h);let{reqType:g}=qr(d,h);l&&(g="PATCH");const{content:y,attachmentsExist:m}=us(i);e.attachmentsExist=m;const I=(null===(n=u.value.data[i])||void 0===n||null===(r=n.caseInfo)||void 0===r?void 0:r.headers)||{},{etag:E}=I,A={"if-match":E,...c};return oe(Bi(f,{method:g,body:y,headers:A},i)).pipe(ye((t=>{const{data:n,headers:r}=t;return{response:n,actionInPayload:e,headers:ls({...A,...r})}})),Qu("Error ocurred during ajax call at finishAssignment Epic : ",i))})(e,{state$:t})))),ve((async e=>{var t,s,a,i;if(e&&e.type===St){const t=gs(e);return r.push(t),r}const{headers:c,actionInPayload:l,response:u}=e,{containerItemID:p,context:d=Bs(p),isModalAction:h,isCaseWideAction:f,isInCreateStage:g,caseID:y}=l,m=Ho(p),I=ra(p);l.target=I;const E=Object.freeze({target:l.target,containerItemID:p,context:d,containerName:m});ot.setIn(u.data,"caseInfo.isFirstAssignment",!1),(e=>{Ni.publish(at.PUB_SUB_EVENTS.EVENT_EXPRESS_LOCALACTION,e)})({submitResponse:u});let A=cc(u,{[st.STOPMERGEACTIONS]:!u.nextAssignmentInfo});const _=(e=>{const t=Ko(e);return Uo(t)&&ko(jo.getOperatorIdentifier(),t)})(A),v=g&&!_,S=Xo(A),b=gr(l.context),C=$s(qs(b)[0]);!h||g||fp(l.context,C)||(A=((e,t)=>{var n,r,o;return null!=e&&null!==(n=e.data)&&void 0!==n&&n.caseInfo&&null!=t&&null!==(r=t.caseInfo)&&void 0!==r&&r.content&&(e.data.caseInfo.content=null==t||null===(o=t.caseInfo)||void 0===o?void 0:o.content),e})(A,fi(p)));const P=ps(A,{headers:c,actionMgrID:n,directUrlUpdation:!1});let T;ns(P.data,l),P.caseClassName=S,P.resourceType=gp.ASSIGNMENT,P.headers=c,null!==(t=A)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.nextAssignmentInfo?(P.caseViewMode=at.PERFORM_MODE,T=Qo(A)):(P.caseViewMode=at.REVIEW_MODE,T="");const O=Qo(A);ts(P,A);const N=Wr("createWork",{caseClassName:S}).replace(/{.+?}/,Jo(O));if(A.semanticURL=N,P.semanticURL=N,h&&v)((e,t,n)=>{if(t.isProcessAction&&(pp(n,{...t,skipReleaseLockRequest:!0}),e)){const r=`${null!=t&&t.containerItemID.includes("root")?at.APP.ROOT:at.APP.APP}/${Rs.PRIMARY}`,o=ms(r,Rs.PRIMARY),s={insKey:e.ID,className:e.content.classID,context:o,acTargetName:at.PRIMARY,isChild:!0},a={type:gt,payload:{...s}};n.push(a)}})(u.data.caseInfo.parentCaseInfo,l,r),P.resourceType=gp.CASE,P.directUrlUpdation=!0,o=dp((R=l).context)?"":`${R.workID} has been created.`,!l.isProcessAction&&await(async(e,{translatedDXAPIResponse:t,actionInPayload:n},r)=>{const{caseID:o}=n,s=(a=t,ot.getIn(a,Bo.NEXT_ASSIGNMENT_INFO_ID,at.EMPTY_STRING));var a;const i=Xo(t),{caseViewMode:c,headers:l,semanticURL:u,actionMgrID:p,directUrlUpdation:d,key:h,flowName:f,resourceType:g}=r;(e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DONE,e)})({caseId:o,assignmentId:s,caseType:i}),pp(e,{...n,skipReleaseLockRequest:!0});const y=`${null!=n&&n.containerItemID.includes("root")?at.APP.ROOT:at.APP.APP}/${Rs.PRIMARY}`,m=ms(y,Rs.PRIMARY),I=ps(t,{target:y,context:m,containerItemID:m,caseViewMode:c,headers:l,semanticURL:u,key:h,flowName:f,resourceType:g,directUrlUpdation:d});if(zs(y)){const t=fi(m),o=Qo({data:t}),[,s]=o?o.split(" "):[],a=`You will lose unsaved changes for ${s}. Do you want to continue?`,{continueExecution:i}=As(y,{dirtyMessage:a});if(!i)return r.directUrlUpdation=!1,Bn.rejectActionByID(p),ie();if(!dp(n.context))return e;e.push(Ga(ka,I))}else e.push(Ga(Pa,I));return t.directUrlUpdation=d,t.semanticURL=u,await ds(t,{...I,acName:y},{acName:y,context:m}),e})(r,{translatedDXAPIResponse:A,actionInPayload:l},P);else if(h&&f&&!_&&!fp(l.context,C))pp(r,l),((e,t,n)=>{const{containerItemID:r,caseID:o}=t;if(r&&/^app\/preview_[0-9]*/g.test(r)){const{caseClassName:t}=n,s=gr(r),a=Bs(s);e.push(Ga(Aa,{containerItemID:s,context:a,container:Rs.PREVIEW,containerName:Rs.PREVIEW,caseId:o,viewName:st.PREVIEW_VIEW_NAME,caseClassName:t,updateData:!0}))}})(r,l,{caseClassName:S});else if(h&&fp(l.context,C)){pp(r,l);const e=Ho(C),t={target:ra(C),containerItemID:C,context:C,containerName:e};P.doDeleteCaseSummary=l.doDeleteCaseSummary,r.push(Ga(Da,{...P,resourceType:"",key:T,...t})),l.target=ra(C),l.containerName=Ho(C),l.context=C,l.containerItemID=C,ot.setIn(P,"acName",t.target),await ds(A,P),hp(r,l,P)}else P.doDeleteCaseSummary=l.doDeleteCaseSummary,P.caseViewMode===at.REVIEW_MODE&&(P.flowName=" "),r.push(Ga(Da,{...P,...E})),ot.setIn(P,"acName",E.target),await ds(A,P),hp(r,l,P);var R;const D=fp(l.context,C);return sp({caseID:y,isModalAction:h,isModalLaunchedFromPrimaryValue:D,isCaseWideAction:f}),null!==(a=A)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.nextAssignmentInfo||(e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.END_OF_ASSIGNMENT_PROCESSING,e)})({...((e,t)=>{const{isCaseWideAction:n,assignmentID:r,actionID:o}=t;return{isCaseWideAction:n,caseID:Qo(e),assignmentID:n?null:r,actionID:n?o:null}})(A,l),containerItemID:p}),((e,{isModalAction:t,target:n,transientItemID:r})=>{if(t){const t=e.find((({type:e})=>e===Ut));null!=t&&t.payload&&(n=t.payload.target,r=t.payload.containerItemID)}const o=ja({target:n,containerItemID:r});o.payload.transientItems.length&&e.push(o)})(r,{transientItemID:p,target:I,isModalAction:h}),r})),ye((()=>(1===r.length&&r[0].type===St?Bn.rejectActionByID(n):Bn.resolveActionByID(n,o),Ps(r),o="",r=[],r)))):(Bn.rejectActionByID(n),ue([]))})))},(e,t)=>{let n=0,r=[];return e.pipe(Ve("NAVIGATE_TO_STEP"),cp((e=>{const{isFormValid:o}=e.payload;return({actionMgrID:n}=e.payload),o?ue(e.payload).pipe(ve((e=>((e,t)=>{const{ID:n,stepID:r,containerItemID:o,context:s=Bs(o),isInCreateStage:a}=e,{state$:i}=t,c={ID:n,stepID:r,viewType:a?is.PAGE:is.FORM},{restApi:l,reqType:u}=qr("navigateToStep",c),{content:p}=us(s),d=i.value.data[s].caseInfo.headers;return oe(Bi(`${l}`,{method:u,body:p,headers:{"if-match":d&&d.etag}},s)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls({...d,...t.headers})}))),Qu("Error ocurred during ajax call at navigateToStep Epic : ",s))})(e,{state$:t}))),ve((async e=>{if(e&&zo(e.type))return r.push(gs(e)),r;const{actionInPayload:t,response:n,headers:o}=e,{containerItemID:s,context:a=Bs(s),isModalAction:i}=t,c=ra(s),l=Ho(s),u=Object.freeze({target:c,containerItemID:s,context:a,containerName:l}),p=cc(n),d={acName:c,...u};await ds(p,t,d);const h=ps(p,{...u,headers:o});return h.doDeleteCaseSummary=t.doDeleteCaseSummary,h.resourceType=_p.ASSIGNMENT,ts(h,p),ns(h.data,t),sp({caseID:Qo(p),isModalAction:i}),es(s)&&Cs(h,r),r.push(Ga(Da,h)),Ss(r),r})),ye((()=>(Bn.resolveActionByID(n),hi(r),r=[],r)))):(Bn.rejectActionByID(n),ue([]))})))},Ap,e=>{let t=0,n=[];return e.pipe(Ve(Tt,Ut),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>{const{containerItemID:t,caseID:n,context:r,caseDeleted:o,skipReleaseLockRequest:s}=e;return t!==r||!n||o||s?ue([]):mp(e)})),ve((e=>(e&&zo(e.type)&&n.push(gs(e)),n))),ye((()=>(Bn.resolveActionByID(t),n.length>0&&hi(n),n=[],n))))},(e,t)=>{let n,r=0;const o=[];return e.pipe(Ve(Wc),cp((e=>{const{isFormValid:s}=e.payload;return({actionMgrID:r,caseType:n}=e.payload),s?vp({action:e,state$:t,actionMgrID:r,caseType:n,actionsOut:o}):(Bn.rejectActionByID(r),ue([]))})))},(e,t)=>{let n,r=0,o=[];return e.pipe(Ve(Bc),ye((e=>(({actionMgrID:r,caseType:n}=e.payload),e.payload))),ve((e=>e.ignoreCaseDeletion?ue({actionInPayload:e}):(e=>{const{caseID:t,context:n}=e,{restApi:r,reqType:o}=qr("deleteCaseInCreateStage",{ID:t});return oe(Bi(r,{method:o},n)).pipe(ye((t=>({response:t.data,actionInPayload:e,headers:ls(t.headers)}))),Qu(": Error ocurred during ajax call at deleteCaseInCreateStage Epic : ",n))})(e))),ve((async e=>{if(e&&zo(e.type)){const{payload:t}=e,n=gs({...e,...t,actionMgrID:r});return o.push(n),o}const{actionInPayload:n}=e,{context:s,isModalAction:a}=n,i=a?Rs.MODAL:Rs.PRIMARY,c=Lr(i,s);if(!a){const e={acName:c,target:c,context:s},r=t.value.containers[c],{semanticURL:o}=(e=>{const{accessedOrder:t,items:n}=e;if(t&&t.length>1){const e=n[t[t.length-2]],{semanticURL:r}=e;if(r)return e}return{semanticURL:""}})(r);await ds({directUrlUpdation:!0,semanticURL:o},n,e)}if(n.isProcessAction&&n.parentCaseInfo){const e={insKey:n.parentCaseInfo.ID,className:n.parentCaseInfo.content.classID,context:n.parentContext,acTargetName:at.PRIMARY,isChild:!0},t={type:gt,payload:{...e}};o.push(t)}const l={target:c,containerItemID:s,context:s,caseDeleted:!0};return o.push(Ga(La,l)),o})),ye((()=>(1===o.length&&zo(o[0].type)?Bn.rejectActionByID(r):((e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.CREATE_STAGE_DELETED,e)})({caseType:n}),Bn.resolveActionByID(r)),hi(o),o=[],o))))},e=>e.pipe(Ve(At),Mp((()=>xp(100))),ye((e=>{const{actionMgrID:t,isChildCase:n,isModalAction:r,isProcessAction:o}=e.payload;return Bn.resolveActionByID(t),Ni.publish(at.PUB_SUB_EVENTS.EVENT_SHOW_CANCEL_ALERT,{isModalAction:r,hideDelete:!o&&n}),[]}))),e=>e.pipe(Ve(kt),Mp((()=>xp(100))),ye((e=>{const{actionMgrID:t,context:n,containerName:r,containerItemID:o}=e.payload,s=Lr(r,n);return Bn.resolveActionByID(t),hi(Ga(wa,{containerItemID:o,target:s,doDeleteCaseSummary:!1})),[]})))];function kp(){return function(e){return e.lift(new Vp)}}var Vp=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Fp(e))},e}(),Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype._next=function(e){},t}(F);const{RESOURCE_TYPES:$p}=st,Gp=[e=>e.pipe(Ve(lt),ye((e=>e.payload)),ve((e=>{const t={caseID:e.caseId,viewID:e.viewName,caseClassName:e.caseClassName,RemoteSystemID:e.RemoteSystemID},n={};if(t.RemoteSystemID)n.RemoteSystemID=t.RemoteSystemID;else if(xr.isRemoteCase(t.caseClassName)){const{RemoteSystemID:e}=xr.getRemoteCase(t.caseClassName);n.RemoteSystemID=e}let{restApi:r,reqType:o}=qr("loadView",t);return e.viewContext===$p.PAGE&&({restApi:r,reqType:o}=qr(Ft,{page:e.viewName,pageClass:e.pageClass})),oe(Bi(r,{method:o,headers:n},e.context)).pipe(ye((t=>{let n="";return"string"==typeof t.data?t.data?n=JSON.parse(t.data):(console.error("response data is empty!!"),n={}):n=t.data,{response:{...n},actionConfig:e,headers:ls(t.headers),rootView:ot.getIn(n,at.ROOT)}})),Qu(": Error ocurred during ajax call at loadView Epic : ",e.context))})),ve((async e=>{const t={};if(e&&e.type===St)return t.actionsOut=gs(e),t;try{var n;t.actionMgrID=null==e||null===(n=e.actionConfig)||void 0===n?void 0:n.actionMgrID,t.rootView=null==e?void 0:e.rootView;const{actionConfig:r,response:o,headers:s}=e,{containerItemID:a,container:i,updateData:c}=r,l=i===Rs.PREVIEW?Rs.PREVIEW:Do(Ft),u=Lr(l,r.context),p=i===Rs.PREVIEW&&c?r.context:ms(u,l,r.context,{buildNew:i===Rs.PREVIEW});r.context=p;const d={acName:u,context:p};let h={};h=i===Rs.PREVIEW?cc(o):cc(o,{[st.STOPMERGEACTIONS]:!0,[st.ACTIONS.DELETEAVIALACTIONS]:!0}),h.directUrlUpdation=!1,await ds(h,r,d);const f={target:u,context:p,containerItemID:i===Rs.PREVIEW?p:a,headers:s},g=ps(h,f);i!==Rs.PREVIEW||c?(g.preserveClientChanges=!0,t.actionsOut=Ga(Ia,g)):(g.caseViewMode=at.REVIEW_MODE,t.actionsOut=ys(u,{...g,container:i}))}catch(e){console.error(e),t.rootView={type:"error",payload:e}}const{caseId:r,context:o,viewName:s}=e.actionConfig;return"pyCasePreview"===s&&(e=>{Ni.publish(at.PUB_SUB_EVENTS.CASE_EVENTS.CASE_PREVIEW,e)})({caseId:r,context:o}),t})),ye((({rootView:e,actionsOut:t,actionMgrID:n=0})=>(Bn.resolveActionByID(n,e),t)))),e=>{let t=0,n=[];return e.pipe(Ve(ut),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ve((e=>{const{context:n,viewName:r,className:o,skipSemanticUrl:s=!1,containerName:a=Do(Ft)}=e,i=Lr(a,n);let c="",l={},u=!1;if(!s){c=Wr(Ft,{page:r,pageClass:o});const{activate:n,activateContainerActionPayload:s}=vs($p.PAGE,i,{semanticURL:c});if(n)return $e.of({type:Mt,activateContainerActionPayload:s,actionConfig:e});if(({continueExecution:u,removeActionPayload:l}=As(i)),!u)return Bn.rejectActionByID(t),ie()}const{restApi:p,reqType:d}=qr(Ft,{page:r,pageClass:o});return oe(Bi(p,{method:d},n)).pipe(ye((t=>{let n={};return n="string"==typeof t.data?JSON.parse(t.data):t.data,{response:{...n,key:c,semanticURL:c},actionConfig:e,headers:ls(t.headers),removeActionPayload:l,skipSemanticUrl:s}})),Qu(": Error ocurred during ajax call at showPage Epic : ",e.context))})),ve((async e=>{if(e&&e.type===St)return n.push(gs(e)),n;const{type:t,actionConfig:r,skipSemanticUrl:o}=e,s=r.containerName||Do(ut),a=Lr(s,r.context);if(t===Mt){const{activateContainerActionPayload:{semanticURL:t,containerItemID:o}}=e,s={acName:a,context:Bs(o)};await ds({directUrlUpdation:!0,semanticURL:t},r,s,!0),n.push(Ga(wa,{target:a,containerItemID:o}))}else{const t=ms(a,s,r.context),{response:i,headers:c={},removeActionPayload:l}=e,u=cc(i);u.directUrlUpdation=!o;const p={acName:a,context:t};await ds(u,r,p);const d=ps(u,{target:a,context:t,containerItemID:t,headers:c});d.resourceType=st.PAGE;const h=ys(a,d);l.containerItemID&&Is(h)&&n.push(Ga(La,{containerItemID:l.containerItemID,target:a})),n.push(h),Ss(n)}return n})),ye((()=>{Bn.resolveActionByID(t),hi(n),n=[]})),kp())}],{RESOURCE_TYPES:Bp}=st,Wp=[e=>{let t,n=0,r=[];return e.pipe(Ve(pt),ye((e=>(({actionMgrID:n}=e.payload),e.payload))),ve((e=>{const{context:t,pageName:r,dataContext:o,dataContextParameters:s,skipSemanticUrl:a=!1,containerName:i=Do(ut),isDeferLoaded:c=!1}=e,l=Lr(i,t);let u="",p={},d=!1;if(!a){u=Wr($t,{pageName:r,dataContext:o},s);const{activate:t,activateContainerActionPayload:a}=vs(Bp.PAGE,l,{semanticURL:u});if(t)return $e.of({type:Mt,activateContainerActionPayload:a,actionConfig:e});if(({continueExecution:d,removeActionPayload:p}=As(l)),!d)return Bn.rejectActionByID(n),ie()}return((e,t)=>{const{context:n,pageName:r,dataContext:o,dataContextParameters:s,semanticURL:a,skipSemanticUrl:i}=e,{removeActionPayload:c}=t,{restApi:l,reqType:u,body:p}=qr($t,{pageName:r,dataContext:o,dataContextParameters:s});return oe(Bi(l,{method:u,body:p},n)).pipe(ye((t=>({response:{...t.data,key:a,semanticURL:a},actionConfig:e,headers:ls(t.headers),removeActionPayload:c,skipSemanticUrl:i}))),Qu("Error ocurred during ajax call at showData Epic : ",e.context))})({context:t,pageName:r,dataContext:o,dataContextParameters:s,semanticURL:u,skipSemanticUrl:a,containerName:i,isDeferLoaded:c},{removeActionPayload:p})})),ve((async e=>{if(e&&e.type===St)return r.push(gs(e)),r;const{type:n,actionConfig:o,headers:s,response:a,skipSemanticUrl:i}=e;t=ot.getIn(a,at.ROOT);const{containerName:c}=o,l=Lr(c,o.context);let u;if(o.isDeferLoaded){u=cc(a),u.directUrlUpdation=!i;const t={acName:l,context:o.context};await ds(u,o,t);const n={target:l,context:o.context,containerItemID:e.containerItemID,headers:s},c=ps(u,n);return r=Ga(Ia,c),r}if(n===Mt){const{activateContainerActionPayload:{semanticURL:t,containerItemID:n}}=e,s={acName:l,context:Bs(n)};await ds({directUrlUpdation:!0,semanticURL:t},o,s,!0),r.push(Ga(wa,{target:l,containerItemID:n,resourceType:Bp.DATA}))}else{const t=ms(l,c,o.context),{removeActionPayload:n}=e;u=cc(a),u.directUrlUpdation=!i;const p={acName:l,context:t};await ds(u,o,p);const d=ps(u,{target:l,context:t,containerItemID:t,headers:s});d.resourceType=Bp.DATA;const h=ys(l,d);n.containerItemID&&Is(h)&&r.push(Ga(La,{containerItemID:n.containerItemID,target:l})),r.push(h),Ss(r)}return r})),ye((()=>(Bn.resolveActionByID(n,t),hi(r),r=[],r))))}],{RESOURCE_TYPES:{CASE:Hp,DATA:qp}}=st;let Yp=[];const zp=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return qu.apply(void 0,Yu(t.map((function(e){var t=e.apply(void 0,n);if(!t)throw new TypeError('combineEpics: one of the provided Epics "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return t}))))};try{Object.defineProperty(r,"name",{value:"combineEpics("+t.map((function(e){return e.name||"<anonymous>"})).join(", ")+")"})}catch(e){}return r}(...Zu,...Up,...Gp,(e=>e.pipe(Ve(vt),dl(200),ye((e=>e.payload)),ve((e=>{var t;const{context:n,requestType:r,routeKey:o}=e;let{routeEndpoint:s}=e;s=s&&s.indexOf("viewType={viewType}")>0?s.replace("{viewType}","page"):s&&s.indexOf('viewType=""')>0?s.replace('viewType=""','viewType="page"'):s;const a=pr()+s,i=e.options.context;let c;const l={},u=null==e||null===(t=e.payload)||void 0===t?void 0:t.caseClassName;if(xr.isRemoteCase(u)){const{RemoteSystemID:e}=xr.getRemoteCase(u);l.RemoteSystemID=e}if("POST"===r){let t;return c=e.payload,s.indexOf("viewType=")<0&&(s=`${s}?viewType=page`),t=bs(o)===Hp?{caseTypeID:c.caseTypeID,processID:c.processID,content:{}}:c,oe(Bi(a,{method:r,body:t,headers:l},n)).pipe(ye((t=>({response:{...t.data},payload:e,headers:ls(t.headers)}))),Qu(": Error ocurred during ajax call at historyEpic : ",e))}return oe(Bi(a,{method:"GET",headers:l},i.substring(0,i.lastIndexOf("/")))).pipe(ye((t=>({response:t.data,payload:e,headers:ls(t.headers)}))))})),ve((async e=>{var t;if(e&&e.type===St)return gs(e);const{headers:n={},response:r,payload:o}=e,s=cc(r,{[st.STOPMERGEACTIONS]:!r.nextAssignmentInfo}),a=o.options.acName,i=zs(a)&&Js(a)?$s(a):e.payload.options.context,c=i;n.RemoteSystemID=null==o||null===(t=o.payload)||void 0===t?void 0:t.RemoteSystemID;const l={target:a,context:i,containerItemID:c,headers:n},u=ot.getIn(s,at.LOCALE_REFERENCES);await ss.loadLocaleResources(u);const p=ot.getIn(s,at.COMPONENTS);p&&await No(p),Co(s,o.options.actionConfig,!0);let d="";o.payload&&o.payload.caseName&&o.payload.workID&&(d=Wr(Gt,{caseName:e.payload.payload.caseName}),d=d&&d.replace("{workID}",e.payload.payload.workID)||"");let h=ps(s,l);return h=((e,t,n)=>{if(e===as.CASE){var r;if(null!=t&&null!==(r=t.caseInfo)&&void 0!==r&&r.assignments){const{key:e,flowName:r}=fs(t.caseInfo.assignments[0].ID);n.key=e,n.flowName=r}else{var o;n.flowName="",n.key=(null==t||null===(o=t.caseInfo)||void 0===o?void 0:o.ID)||t.semanticURL}n.resourceType=e,n.semanticURL=t.semanticURL,n.caseViewMode=at.REVIEW_MODE}else n.resourceType=e,n.semanticURL=t.semanticURL;return n})(bs(e.payload.routeKey),{...r.data,semanticURL:d,caseViewMode:at.REVIEW_MODE},h),Yp.push(ys(a,h)),Ss(Yp),Yp})),ye((()=>(hi(Yp),Yp=[],Yp))),Qu("Error occured"))),...Wp,...ep,(e=>{let t=0;return e.pipe(Ve(Xt),ye((e=>(({actionMgrID:t}=e.payload),e.payload))),ye((e=>{const n=Ll.getStore().getState(),r=Wu();return Xu()(n,r)&&t>0?Bn.resolveActionByID(t,{}):Bn.rejectActionByID(t),[]})),kp())})),Kp=e=>e.type||(e.messages&&e.messages[0].type)===st.MESSAGES.MESSAGES_TYPE_ERROR,Jp=e=>e=>t=>{const{type:n="",payload:r={}}=t||{},{category:o,property:s,pageReference:a,context:i,referenceList:c}=r;"HTTP"!==o&&n===Kt&&Kp(r)?((e,t,n)=>{if(Dn[e]){const r=xn(wn(t,n));Dn[e].fieldOrder[r]&&(Dn[e].fieldOrder[r].isError=!0)}})(i,s,a):"HTTP"!==o&&n===Jt&&Kp(r)&&void 0!==s?Ln(i,s,a):"HTTP"!==o&&-1!==[Pt,Lt,Tt,Ut].indexOf(n)?Mn(i):n===tn&&Ln(i,s,c),e(t)},Xp={},Qp=e=>{const t=ot.getIn(Xp,[at.CONTEXT,e],[]),n=[];t.forEach((t=>{const r=t.substr(0,t.lastIndexOf("_")),o=ot.getIn(Xp,[r,t],[]),s=o&&o.length>0&&o.indexOf(e);if(s>-1&&o.splice(s,1),!o||o&&0===o.length){ot.deleteIn(Xp,[r,t]);const e=ot.getIn(Xp,[r]);e&&0===Object.keys(e).length&&ot.deleteIn(Xp,[r]),n.push({dataPageName:r,dataPageNameWithHash:t})}})),ot.deleteIn(Xp,[at.CONTEXT,e]);const r=ot.getIn(Xp,[at.CONTEXT]);(!r||r&&0===Object.keys(r).length)&&ot.deleteIn(Xp,[at.CONTEXT]),n.length>0&&hi(Ha({dataPagesToBeRemoved:n}))},Zp=(e={},t)=>{Object.keys(e).forEach((n=>{const r=ot.getIn(e,[n],{});Object.keys(r).forEach((e=>{((e,t,n)=>{const r=ot.getIn(Xp,[at.CONTEXT,n]);if(ot.getIn(Xp,[e])){const r=ot.getIn(Xp,[e,t],[]);ot.setIn(Xp,[e,t],[...new Set([...r,n])])}else ot.setIn(Xp,[e,t],[n]);r?ot.setIn(Xp,[at.CONTEXT,n],[...new Set([...r,t])]):ot.setIn(Xp,[at.CONTEXT,n],[t])})(n,e,t)}))}))},ed=e=>e=>t=>{const{payload:{data:n={},context:r,childContainersContexts:o=[]}={},type:s}=t;if(o&&o.length>0&&(s===Ut||s===Tt)&&o.forEach((e=>{Qp(e)})),s===Pt||s===_t||s===Zt){const e=s===Zt?n:n.shared;Zp(e,r)}else s===Lt||s===Ut?(Qp(r),Zp(n.shared,r)):s===Tt&&Qp(r);e(t)},td=class{static cleanCaches(e){ci.purgeCascadeFields(e),ai.removeContext(e),Dc.clearContextedCache(e),Ni.cleanContextSubscribers(e),Mn(e),Ol.clearContext(e)}},nd=e=>t=>n=>{const{type:r,payload:{target:o,containerItemID:s,context:a,childContainersContexts:i=[]}={}}=n,{PUB_SUB_EVENTS:c}=st;if(r===Tt){const{resourceType:t,key:n,context:r}=ot.getIn(e.getState(),["containers",o,"items",s])||{},a={resourceType:t,key:n,context:r,containerItemID:s};Ni.publish(c.CONTAINER_EVENTS.CLOSE_CONTAINER_ITEM,a)}i&&i.length>0&&(r===Ut||r===Tt)&&i.forEach((e=>{td.cleanCaches(e)})),r!==Ut&&r!==Tt||td.cleanCaches(a),t(n)},rd=e=>e=>t=>{const{payload:{context:n}={},type:r}=t;!n||r!==Pt&&r!==Lt&&r!==Ut&&r!==Tt||(delete oo[n],(e=>{delete so[e]})(n)),e(t)},od=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=M.constructor,n=new t(M.SchedulerAction),r=new J,o=void 0,s=function(t){o=t;var s=(new J).pipe(de(n)),a=(new J).pipe(de(n)),i=new $e(s),c=new Ge(a,o.getState());return r.pipe(ye((function(t){var n="dependencies"in e?t(i,c,e.dependencies):t(i,c);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),ve((function(e){return oe(e).pipe(we(n),de(n))}))).subscribe(o.dispatch),function(e){return function(t){var n=e(t);return a.next(o.getState()),s.next(t),n}}};return s.run=function(e){r.next(e)},s}(),sd=e=>{const t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_;if(null!==di())Ll.resetStore();else{const n=A((e=>((e=>{const t=e.Data||e.data,{uiResources:n={}}=e,r=n[at.CONTEXT_DATA]||e[at.CONTEXT_DATA];Bu={data:{[at.APP.APP]:{...t,[at.CONTEXT_DATA]:r}},containers:{}}})(e),Ru(!0),function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:I.INIT}))throw new Error(g(12));if(void 0===n(void 0,{type:I.PROBE_UNKNOWN_ACTION()}))throw new Error(g(13))}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var c=a[i],l=n[c],u=e[c],p=l(u,t);if(void 0===p)throw t&&t.type,new Error(g(14));o[c]=p,r=r||p!==u}return(r=r||a.length!==Object.keys(e).length)?o:e}}({data:Vu,containers:Gu})))(e),t(Be.reduxBatch,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(g(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(o)}));return r=_.apply(void 0,s)(n.dispatch),f(f({},n),{},{dispatch:r})}}}(_o,Jp,ed,rd,od,nd),Be.reduxBatch));od.run(zp),pi(n)}};kc.register("email",(e=>{let t=null;return e&&!function(e){const t="\\x5c[\\x00-\\x7f]",n=`([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|${t})*\\x5d)`,r=`([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|${t})*\\x22)`;return!!new RegExp(`^${r}(\\x2e${r})*\\x40${n}(\\x2e${n})*$`).test(e)}(e)&&(t=ss.getLocaleValue("Invalid Email","Messages")),t})),kc.register("integer",(e=>{let t=null;return e&&!/^(-)?\d+$/.test(e)&&(t=ss.getLocaleValue("Invalid number","Messages")),t})),kc.register("required",(e=>Array.isArray(e)&&0===e.length||null==e||""===e?ss.getLocaleValue("Required","Messages"):null)),kc.register("url",(e=>{let t=null;return e&&!function(e){let t;try{t=new URL(e)}catch{return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&(t=ss.getLocaleValue("Invalid URL","Messages")),t})),kc.register("phone",(e=>{let t=null;return e&&!/^\+?\d+$/.test(e)&&(t=ss.getLocaleValue("Invalid Phone","Messages")),t}));const ad=(e,t)=>{switch(t){case"invalid":return ss.getLocaleValue(`Incorrect ${e}`,"Messages");case"incomplete":return ss.getLocaleValue(`Incomplete ${e}`,"Messages");default:return null}};kc.register("datetime",(e=>ad("DateTime",e))),kc.register("date",(e=>ad("Date",e))),kc.register("time",(e=>ad("Time",e))),kc.register("futuredate",(()=>null)),kc.register("notfuturedate",(()=>null)),kc.register("alphabeticvalidation",(e=>{let t=null;return e&&!/^[A-Z]$/i.test(e)&&(t=ss.getLocaleValue("Enter a valid alphabetic value","Messages")),t})),kc.register("alphanumericvalidation",(e=>{let t=null;return e&&!/^[a-z0-9]+$/i.test(e)&&(t=ss.getLocaleValue("Enter a valid alphabetic or numeric value","Messages")),t})),kc.register("alphanumericspacevalidation",(e=>{let t=null;return e&&!/^[a-z0-9\s]*$/i.test(e)&&(t=ss.getLocaleValue("Enter a valid Alphanumeric or space Value","Messages")),t})),kc.register("nonnegativeinteger",(e=>{let t=null;return/^-?\d+$/i.test(e)?e<0&&(t=ss.getLocaleValue("Enter a non negative value","Messages")):t=ss.getLocaleValue("Enter a valid value","Messages"),t})),kc.register("urgencyvalue",(e=>{let t=null;return(e>100||e<1)&&(t=ss.getLocaleValue("Invalid input - enter a number between 0 and 100","Messages")),t})),kc.register("validphonenumber",(e=>{let t=null;return e&&!/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/gim.test(e)&&(t=ss.getLocaleValue("Enter a valid phone number","Messages")),t})),kc.register("posdecimal",(e=>{let t=null;if(e){const n=".",r=",",o=(e.match(/\./g)||[]).length,s=e.replace(new RegExp(`${r}|\\s`,"g"),"");null!==s.match(new RegExp(`[^0-9-${r}${n}]`,"g"))||o>1?t=ss.getLocaleValue(`${e} is not a valid decimal value`,"Messages"):s<=0&&(t=ss.getLocaleValue("Invalid input - reenter a decimal number greater than 0","Messages"))}return t})),kc.register("nonnegative",(e=>{let t=null;if(e){const n=".",r=",",o=e.replace(new RegExp(`${r}|\\s`,"g"),"");new RegExp(`^(((\\-)?\\d+(\\${n}\\d*)?)|((\\-)?(\\d*\\${n})?\\d+))$`).test(o)?o<0&&(t=ss.getLocaleValue("Enter a non negative value","Messages")):t=ss.getLocaleValue(`${e} is not a valid value`,"Messages")}return t}));const id=(e,t)=>{const n={actionConfig:t,data:{...e.data,[at.CONTEXT_DATA]:{...e[at.CONTEXT_DATA],errors:e.Errors}},context:t.context};return e.root?(n.root={...e.root,options:t},n.metaRoot={...e.root,options:t}):e.UIMetadata&&e.UIMetadata.root&&(n.root={...e.UIMetadata.root,options:t}),e.data&&e.data.pyWorkPage&&e.data.pyWorkPage.pzInsKey&&(n.docKey=e.data.pyWorkPage.pzInsKey),n};Fn.registerHandler("localAction",((e,t,n)=>{const r=e.target,o=n.getPageReference(),s=n.getContextName(),a=vo(s),i=n.getValue(".pzInsKey"),{target:c}=t,l={class:t.class,name:o};i&&(l.pzInsKey=i);const u={action:"localAction",params:{name:t.flowAction,template:t.template,target:c,key:t.key},pageReference:l,content:a};dr({actionObject:u}).then((e=>e.json())).then((e=>{const t={type:c,context:s,target:r};Co(e,t),hi({type:Ai(t),payload:id(e,t)})})).catch((e=>window.console.log(e)))})),Fn.registerHandler("refresh",(()=>!0)),Fn.registerHandler("runActivity",((e,t,n)=>{const r=n.getPageReference(),o={class:n.getValue(".pyClassName"),name:r},s=n.getContextName(),a=vo(s),i={action:"runActivity",params:{activity:t.activity},pageReference:o,content:a};dr({actionObject:i}).then((e=>e.json())).then((e=>{const t={context:n.getContextName()};Co(e,t),hi({type:Ai(t),payload:id(e,t)})})).catch((e=>window.console.log(e)))})),Fn.registerHandler("runDataTransform",((e,t,n)=>{const r=n.getContextName(),o=n.getPageReference(),s={class:n.getValue(".pyClassName"),name:o},a=vo(r),i={action:"runDataTransform",params:{datatransform:t.datatransform},pageReference:s,content:a};dr({actionObject:i}).then((e=>e.json())).then((e=>{const t={context:r};Co(e,t),hi({type:Ai(t),payload:id(e,t)})})).catch((e=>window.console.log(e)))})),Fn.registerHandler("setValue",((e,t,n)=>{const r=n.getContextName(),{pairs:o}=t;Object.keys(o).forEach((e=>{const{source:t,target:s}=o[e];let a=t;-1!==t.indexOf(".")&&(a=n.getValue(t)),hi({type:it,payload:{reference:`${n.getPageReference()}${s}`,value:a,context:r}})}))})),Sn.registerHandler("@L",((e,t)=>t.getLocalizedValue(e))),Sn.registerHandler("@P",((e,t)=>t.getValue(e)));const cd={operatorType:"binaryOperator",precedence:1,evaluate:(e,t)=>e&&t},ld={operatorType:"binaryOperator",precedence:1,evaluate:(e,t)=>e||t},ud="literal",pd="identifier",dd={">":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e>t},">=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e>=t},"<":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e<t},"<=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e<=t},"==":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e===t},"!=":{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e!==t},"!":{operatorType:"unaryOperator",precedence:999,evaluate:e=>{let{value:t}=e;return"true"!==t&&"false"!==t||(t="true"===t),!t}},"(":{operatorType:"openParenthesis"},")":{operatorType:"closeParenthesis"},"&&":cd,AND:cd,and:cd,"||":ld,OR:ld,or:ld,CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.indexOf(t)>-1},NOT_CONTAINS:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>-1===e.indexOf(t)},STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.startsWith(t)},NOT_STARTS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!e.startsWith(t)},ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>e.endsWith(t)},NOT_ENDS_WITH:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!e.endsWith(t)},IS_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:e=>!e},IS_NOT_NULL:{operatorType:"binaryOperator",precedence:2,evaluate:e=>!!e},IS_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>t.split(",").includes(e)},IS_NOT_IN_LIST:{operatorType:"binaryOperator",precedence:2,evaluate:(e,t)=>!t.split(",").includes(e)}},hd={BinaryExpression:function(e){const t=[];return t[0]=this.evaluateAST(e.left),t[1]=e.right?this.evaluateAST(e.right):"",this._grammar[e.operator].evaluate(t[0],t[1])},identifier:function(e){return this._context.getValue(e.value)},literal:function(e){return"true"===e.value||"false"===e.value?"true"===e.value:e.value},UnaryExpression:function(e){return this._grammar[e.operator].evaluate(e.right)}},fd={unaryOperator:function(e){this.setPositionInAST({operationType:"UnaryExpression",operator:e.value})},binaryOperator:function(e){const{precedence:t}=this._grammar[e.value];let n=this._position._parent;for(;n&&n.operator&&this._grammar[n.operator].precedence>=t;)this._position=n,n=n._parent;const r={operationType:"BinaryExpression",operator:e.value,left:this._position};bd._setParent(this._position,r),this._position=n,this.setPositionInAST(r)},identifier:function(e){const t={operationType:pd,value:e.value};this.setPositionInAST(t)},literal:function(e){this.setPositionInAST({operationType:ud,value:e.value})},subExpression:function(e){this.setPositionInAST(e)}},gd=/\\\\/,yd=/^\s*$/,md=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,Id=/^[a-zA-Z_.$][(0-9)a-zA-Z0-9_.$]*$/,Ed=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],Ad=["[a-zA-Z_.\\$][(0-9)a-zA-Z0-9_.\\$]*","[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}|[0-9]{4}-[0-9]{2}-[0-9]{2}","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],_d=["binaryOperator","unaryOperator","openParenthesis"],vd={expectOperand:{operatorTypes:{literal:{toState:"expectBinOp"},identifier:{toState:pd},unaryOperator:{},openParenthesis:{toState:"subExpression"}}},expectBinOp:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},identifier:{operatorTypes:{binaryOperator:{toState:"expectOperand"}}},subExpression:{subHandler:fd.subExpression,endStates:{closeParenthesis:"expectBinOp"}}};class Sd{constructor(e){this._grammar=e}static _isNegative(e){return _d.some((t=>t===e[e.length-1].tokenType))}static _isWhitespace(e){return!!e.match(yd)}static _createWordboundary(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(Id)&&(e=`\\b${e}\\b`),e}static _unquote(e){const[t]=e,n=new RegExp(`\\\\${t}`,"g");return e.substr(1,e.length-2).replace(n,t).replace(gd,"\\")}_getSplitRegex(){if(!this._splitRegex){const e=Object.keys(this._grammar).sort(((e,t)=>t.length-e.length)).map((e=>Sd._createWordboundary(e)),this);this._splitRegex=new RegExp(`(${[Ed.join("|"),e.join("|"),Ad.join("|")].join("|")})`)}return this._splitRegex}_splitExpression(e){const t=this._getSplitRegex();return e.split(t).filter((e=>e))}_createToken(e){const t={tokenType:ud,value:e,element:e};return'"'===e[0]||"'"===e[0]?t.value=Sd._unquote(e):e.match(md)?t.value=parseFloat(e):"true"===e||"false"===e?t.value="true"===e:this._grammar[e]?t.tokenType=this._grammar[e].operatorType:e.match(Id)&&(t.tokenType=pd),t}_getTokens(e){const t=[];let n=!1;for(let r=0;r<e.length;r+=1)Sd._isWhitespace(e[r])?t.length&&(t[t.length-1].element+=e[r]):"-"===e[r]&&Sd._isNegative(t)?n=!0:(n&&(e[r]=`-${e[r]}`,n=!1),t.push(this._createToken(e[r])));return t}tokenize(e){const t=this._splitExpression(e);return this._getTokens(t)}}class bd{constructor(e,t,n){this._grammar=e,this._state="expectOperand",this._tree=null,this._exprStr=t||"",this._endState=n||{}}static _setParent(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}_addToken(e){const t=vd[this._state],n=this._exprStr;if(this._exprStr+=e.element,t.subHandler){this._subParser||this._startSubExpression(n);const t=this._subParser._addToken(e);t&&(this._endSubExpression(),this._state=t)}else{if(!t.operatorTypes[e.tokenType]){if(this._endState[e.tokenType])return this._endState[e.tokenType];throw new Error(`Token ${e.element} (${e.tokenType}) unexpected in expression: ${this._exprStr}`)}{const n=t.operatorTypes[e.tokenType],r=fd[e.tokenType];r&&r.call(this,e),n.toState&&(this._state=n.toState)}}return!1}addTokens(e){e.forEach(this._addToken,this)}buildAst(){return this._subParser&&this._endSubExpression(),this._state="complete",this._position?this._tree:null}_startSubExpression(e){const{endStates:t}=vd[this._state];this._subParser=new bd(this._grammar,e,t)}_endSubExpression(){vd[this._state].subHandler.call(this,this._subParser.buildAst()),this._subParser=null}setPositionInAST(e){this._position?(this._position.right=e,bd._setParent(e,this._position)):this._tree=e,this._position=e}}class Cd{constructor(e){this._grammar={...dd},this._expression=e,this._ast=null,this._context={}}buildAST(){const e=new Sd(this._grammar).tokenize(this._expression),t=new bd(this._grammar);return t.addTokens(e),this._ast=t.buildAst(),this}evaluate(e){return this._context=e,this.evaluateAST(this._ast)}evaluateAST(e){return hd[e.operationType].call(this,e)}}Sn.registerHandler("@E",((e,t)=>{try{return((e,t)=>!e||e.evaluate(t))((e=>!e||e.buildAST())((e=>{const t=e.replace(/[a-zA-Z0-9_)"'\s]=[a-zA-Z0-9_("'\s]/,(e=>e.replace("=","==")));return new Cd(t)})(e)),t)}catch(e){}return!0})),Sn.registerHandler("@W",((e,t)=>{const n=t.getContextDataValue(`.${at.SUMMARY_OF_WHEN_CONDITIONS}.${e}`);return!0===n||"true"===n})),Sn.registerHandler("@ASSOCIATED",((e,t)=>{var n,r,o,s,a,i,c,l,u,p,d,h,f,g;let y={};const m=[];let I="",E="";const A=t.getPageReference();if(e.startsWith(".")){I=`${A}.${e.substring(1)}`;const n=e?e.split(".").filter((e=>!!e)):[];n.length>1&&(n.pop(),E=n.join(".")),y=t.getFieldMetadata(e.substring(1))}else y=t.getFieldMetadata(e),I=e;const _=null===(n=y)||void 0===n||null===(r=n.datasource)||void 0===r?void 0:r.tableType,v=(null===(o=y)||void 0===o||null===(s=o.datasource)||void 0===s?void 0:s.mode)===at.READONLY,S=(null===(a=y)||void 0===a||null===(i=a.datasource)||void 0===i?void 0:i.name)||"",b=t.getComponentConfig();var C,P,T,O;if(b&&b.deferDatasource)return b.datasourceMetadata=`@FIELD_META ${e}`,t.setStateProps({datasourceMetadata:b.datasourceMetadata}),_!==at.DATA_PAGE?null===(C=y)||void 0===C||null===(P=C.datasource)||void 0===P?void 0:P.records:null;if(_!==at.DATA_PAGE)return null===(T=y)||void 0===T||null===(O=T.datasource)||void 0===O?void 0:O.records;const N=bn.getPropertyName(null===(c=y)||void 0===c||null===(l=c.datasource)||void 0===l?void 0:l.propertyForDisplayText),R=bn.getPropertyName(null===(u=y)||void 0===u||null===(p=u.datasource)||void 0===p?void 0:p.propertyForValue),D=Array.isArray(null===(d=y)||void 0===d||null===(h=d.datasource)||void 0===h?void 0:h.parameters)?null===(f=y)||void 0===f||null===(g=f.datasource)||void 0===g?void 0:g.parameters:[],x=t.getContextName(),w=[];if(D.forEach((e=>{if(bn.isProperty(null==e?void 0:e.value)){let t=mi(`.${ot.getFullPropertyReference([E,bn.getPropertyName(e.value)])}`,A,x);w.push(ot.getFullPropertyReference([A,E,bn.getPropertyName(null==e?void 0:e.value)])),null!=t&&""!==t||(t=at.NULL_STRING),m.push(t)}else m.push((null==e?void 0:e.value)||at.NULL_STRING)})),x){const e=no.getContextObjectByName(x)||{};w.forEach((t=>{if(t in e){const n=e[t];e[t]=[...new Set([...n,I])]}else e[t]=[I]})),no.addContextName(x,e)}return function(e,t,n,r){let o="",s=n;if(t.join(at.HASH_DELIMITER)&&(o=ot.getHashedString(t.join(at.HASH_DELIMITER)),s=n+at.UNDERSCORE_STRING+o),r){var a;const e=gi(),t=e?null===(a=e[n])||void 0===a?void 0:a[s]:{};return Array.isArray(null==t?void 0:t.pxResults)?t.pxResults:[]}const i=e.getDataObject()[n][s];return Array.isArray(null==i?void 0:i.pxResults)?i.pxResults:[]}(t,m,S,v).map((e=>({key:e[R]||e[`.${R}`],value:e[N]||e[`.${N}`]})))})),Sn.registerHandler("@ROUTING_INFO",((e,t)=>jr(t.getContainerName(),t.getContextName()))),Sn.registerHandler("@ENV",((e,t)=>{switch(e){case at.ENV_INFO_KEYS.APPLICATION_NAME:return jo.getApplicationName();case at.ENV_INFO_KEYS.ACCESS_GROUP:return jo.getAccessGroup();case at.ENV_INFO_KEYS.USER_NAME:return jo.getOperatorName();case at.ENV_INFO_KEYS.USER_ID:return jo.getOperatorIdentifier();case at.ENV_INFO_KEYS.APPLICATION_DESC:return t.getLocalizedValue(jo.getApplicationLabel());case at.ENV_INFO_KEYS.USER_IMAGE:return jo.getOperatorImageInsKey();case at.ENV_INFO_KEYS.LOCALE:return jo.getUseLocale();case at.ENV_INFO_KEYS.TIMEZONE:return jo.getTimeZone();case at.ENV_INFO_KEYS.WORK_GROUP:return jo.getOperatorWorkGroup();default:return e}})),Sn.registerHandler("@DATASOURCE",((e,t)=>{const n=t.getValue(e)||[],r=t.getComponentConfig(),o=Object.keys(r).find((t=>{var n,o;return null===(n=r[t])||void 0===n||null===(o=n.source)||void 0===o?void 0:o.includes(e)}));if(o){const{fields:e}=r[o],t=[];return n.forEach((n=>{const r={};Object.keys(e).forEach((t=>{const o=bn.getPropertyName(e[t]);r[t]=n[o]})),t.push(r)})),t}return[]})),Sn.registerHandler("@FIELD_META",((e,t)=>{let n={};return n=e.startsWith(".")?t.getFieldMetadata(e.substring(1)):t.getFieldMetadata(e),n&&n.datasource&&n.datasource.parameters&&(n={...n,datasource:{...n.datasource,parameters:t.resolveConfigProps(n.datasource.parameters)}}),n})),Sn.registerHandler("@USER",((e,t)=>{const n=t.getValue(e),r=t.getReferencedUser(n);return{userId:n,userName:r?r.UserName:null}})),Sn.registerHandler("@ACTIVE_CASES",((e,t)=>Jc.getOpenedCaseItems(`${t.getContextName()}/${t.getContainerName()}`))),Sn.registerHandler("@LR",(e=>e)),Sn.registerHandler("@CASE",((e,t)=>e===at.ID?t.getCaseInfo().getKey():e));const Pd=e=>al.createC11nEnv(e),Td=()=>o,Od=()=>s,Nd=()=>vn,Rd=()=>l,Dd=()=>c,xd=()=>a,wd=()=>t,Md=()=>Fn,Ld=async(e,t,n)=>{const r=cc(e),{data:o,uiResources:s={}}=e,a=ot.getIn(s,at.CONTEXT_DATA);await ds(r,{},{},!1,!0);const i={...o,[at.CONTEXT_DATA]:a},{root:c}=s;Ll.getContainerUtils().addRootContainerItem(c,t,i,n)},jd=(e,t,n)=>{Bi(e,{method:"GET"},at.APP.ROOT).then((async e=>{const{data:r,status:o}=e;200===o&&Ld(r,t,n)}))},Ud=async(e,t,n)=>await No(n).then((()=>{const n=Pd({meta:e,isRoot:!0});di()||sd({}),Ni.publish(st.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:n,domContainerID:t})})),kd=(e,t)=>{Po.initServer(e,t)},Vd=async(e,t,n=[])=>{ur();const r=cc(e),o=ot.getIn(r,at.VIEWS),s=ot.getIn(r,at.NAVIGATIONS),a=ot.getIn(r,at.COMPONENTS)||[];a.push(...n);const i=ot.getIn(r,at.STATIC_SERVER_URL),c=ot.getIn(r,at.APPLICATION_DATA);o&&dn(o),s&&hn(s),(e=>{e&&(Fr=e.pyLabel)})(c),i&&Po.initServer(i),await No(a,i).then((()=>((e,t)=>{const n={context:at.APP.APP},r={...ot.getIn(e,at.ROOT),options:n};sd(e),Co(e,n,!0);const o=Pd({meta:r,isRoot:!0});Ni.publish(st.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:o,domContainerID:t})})(r,t)))},Fd=(e,t,n)=>{var r;Zr(e),(r=t)&&Object.keys(r).forEach((e=>{const t=r[e];t&&t.actions&&t.actions.forEach((t=>{Ro.set(t.toLowerCase(),e)}))})),ur(n)},$d=(e,t)=>{Zr(e,!0),ur(t)},Gd=e=>{Po.setAppAlias(e)},Bd=e=>{const{restApi:t}=Hr("home",{portalName:e});return pr()+t},Wd=(e,t)=>{const{restApi:n}=((e,t)=>{let n={restApi:""};try{if(Qr()&&!t){const t=Or(),r=Mr.processUrl(t,!0),o=Mr._getMatchedRouteInRoutingTable(r),s=Mr.getRoutingInfo(),a=r.split("/"),i=a[a.length-1];let{caseID:c}=s.routes[o].payload;c=c.replace("{workID}",i),n=Mr.getRestEndPoint("loadView",{caseID:c,viewID:e})}else n=Mr.getRestEndPoint("showView",{page:e,pageClass:t})}catch(e){}return n})(e,t);return pr()+n},Hd=async(e,t,n=[],r,o,s)=>{var a;const{config:{name:i}={}}=t;di()||sd({}),s&&(Ll.getContainerUtils().removeContainer(`${at.APP.ROOT}/${i}`),Ll.getContainerUtils().getContainerAPI().deleteContainerItem(`${at.APP.ROOT}/${i}`)),(null===(a=Ll.getContainerUtils().getContainerAPI().getContainerItems())||void 0===a?void 0:a.length)>1&&Ll.resetStore(),hi(Ia({data:{},context:at.APP.ROOT}));const c=Pd({meta:t,options:{context:at.APP.ROOT,pageReference:"",target:`${at.APP.ROOT}/${i}`}}),l=c.getPConnect(),u=l.getContextName(),p=l.getContainerName(),d=l.getContainerManager(),h=`${u}/${p}`;Ll.getContainerUtils().getActiveContainerItemName(h)||"noPortal"===t.config.renderingMode||d.initializeContainers({type:"single"});const f=["RootContainer","Region","ModalViewContainer","PreviewViewContainer",...n];return await No(f).then((()=>{Ni.publish(st.PUB_SUB_EVENTS.EVENT_RENDER_APP,{props:c,domContainerID:e,componentName:"RootContainer",portalTarget:r,styleSheetTarget:o})}))},qd=(e,t,n,r)=>{let o=Wd(e,n);o===pr()&&(o=Bd(t)),jd(o,r)},Yd=(e,t)=>{const n=Bd(e);jd(n,t,!0)},zd=e=>{(e=>{const{acName:t,context:n,defaultViewLabel:r}=e,o=(e=>{const t=Mr.getRoutingInfo(),n=e.split(" ").join(""),r=e.split(" ").join("-").toLowerCase();return t.routes[n]?n:t.routes[r]?r:e})(r);(e=>{$r=e})(o),Mr.setDefaultRoute(o);const s=yr(t,n),a=Lr(t,n),i={historyAction:Ur};let l;const u={acName:a,context:s,actionConfig:{context:s}};if(Qr()){const e=(e=>{if(e.indexOf("?")>0){const[t,n]=e.split("?"),r=new URLSearchParams(n),o=new Map;for(const[e,t]of r)"portal"!==e&&"noPortal"!==e&&o.set(e,t);const s=new URLSearchParams(o).toString();return s?`${t}?${s}`:t}return e})(Pr(window.location.pathname+window.location.search));l=Mr.getEndPointInfo(e),i.pxURLPath=l.urlPath;const t={},n="showHistory";t.routeEndpoint=l.routeEndpoint,t.requestType=l.requestType,t.payload=l.payload,t.options=u,t.routeKey=l.routeKey,hi(c[n](Jr(t)))}else l=Mr.getEndPointInfo($r),i.pxURLPath="";zr(null,!0,{urlPathObjParam:i,infoParam:l,optionsParam:u})})(e)},Kd=()=>Qr(),Jd=e=>{Ni.subscribe(st.PUB_SUB_EVENTS.EVENT_RENDER_APP,e,"renderAppCallback")},Xd=e=>{(e=>{lr=e})(e)},Qd=e=>{Yi(e)},Zd=e=>{zi(e)},eh=()=>Jc,th=e=>{Gr=e},nh=()=>sd({})})();var o=r.v9,s=r.DP,a=r.RE,i=r.WM,c=r.gm,l=r.Yw,u=r.e6,p=r.sd,d=r.No,h=r.DF,f=r.FC,g=r.kU,y=r.LF,m=r.vg,I=r.jK,E=r.Dw,A=r.x0,_=r.HW,v=r.N2,S=r.yC,b=r.gn,C=r.JP,P=r.fV,T=r.Hk,O=r.K5,R=r.P6,N=r.r_,D=r.r7,x=r.V5,w=r.d0,M=r.JR;export{o as PCoreInstance,s as checkIfSemanticURL,a as configureForBrowserBookmark,i as createC11nEnv,c as enableAppRouting,l as getActionCreators,u as getActionHandler,p as getActionProcessor,d as getCaseApi,h as getComponentsRegistry,f as getContextUtils,g as getHomeRestApi,y as getRoutingManager,m as getStateManager,I as getStreamObservable,E as getViewRestApi,A as initAppShell,_ as initRoutingTable,v as initStore,S as loadComponent,b as loadPortalView,C as loadRootComponent,P as loadView,T as loadViewByName,O as onPCoreReady,R as setAppAlias,N as setFetchAuthInfo,D as setFetchDefaultHeaders,x as setGoogleMapsAPIKey,w as setStaticServerUrl,M as updateStoreWithUiRoot};